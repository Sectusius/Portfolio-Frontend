"use strict";var OG=Object.defineProperty,RG=Object.defineProperties,kG=Object.getOwnPropertyDescriptors,dF=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,NG=Object.prototype.propertyIsEnumerable,hF=(et,be,P)=>be in et?OG(et,be,{enumerable:!0,configurable:!0,writable:!0,value:P}):et[be]=P,fF=(et,be)=>{for(var P in be||(be={}))PG.call(be,P)&&hF(et,P,be[P]);if(dF)for(var P of dF(be))NG.call(be,P)&&hF(et,P,be[P]);return et},pF=(et,be)=>RG(et,kG(be));(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{2011:(et,be,P)=>{P.d(be,{hO:()=>We,xv:()=>_e,Dh:()=>pe,GT:()=>ve,cc:()=>Te,on:()=>G,pX:()=>he});var d=P(5e3),ne=P(127),N=P(5813);et=P.hmd(et);const de=["ngOnDestroy"],he=(ie,Ce,Le,Me={})=>new Proxy(ie,{get:(je,Re)=>Le.runOutsideAngular(()=>{var Be;if(ie[Re])return(null===(Be=null==Me?void 0:Me.spy)||void 0===Be?void 0:Be.get)&&Me.spy.get(Re,ie[Re]),ie[Re];if(de.indexOf(Re)>-1)return()=>{};const Ye=Ce.toPromise().then(K=>{const H=K&&K[Re];return"function"==typeof H?H.bind(K):H&&H.then?H.then(X=>Le.run(()=>X)):Le.run(()=>H)});return new Proxy(()=>{},{get:(K,H)=>Ye[H],apply:(K,H,X)=>Ye.then(fe=>{var oe;const xe=fe&&fe(...X);return(null===(oe=null==Me?void 0:Me.spy)||void 0===oe?void 0:oe.apply)&&Me.spy.apply(Re,X,xe),xe})})})}),ve=(ie,Ce)=>{Ce.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Me=>{Object.defineProperty(ie.prototype,Me,Object.getOwnPropertyDescriptor(Le.prototype||Le,Me))})})};class se{constructor(Ce){return Ce}}const pe=new d.OlP("angularfire2.app.options"),_e=new d.OlP("angularfire2.app.name");function G(ie,Ce,Le){const je="object"==typeof Le&&Le||{};je.name=je.name||"string"==typeof Le&&Le||"[DEFAULT]";const Be=ne.Z.apps.filter(Ye=>Ye&&Ye.name===je.name)[0]||Ce.runOutsideAngular(()=>ne.Z.initializeApp(ie,je));try{JSON.stringify(ie)!==JSON.stringify(Be.options)&&Y("error",`${Be.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ye){}return new se(Be)}const Y=(ie,...Ce)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ie](...Ce)},re={provide:se,useFactory:G,deps:[pe,d.R0b,[new d.FiY,_e]]};let We=(()=>{class ie{constructor(Le){ne.Z.registerVersion("angularfire",N.q4.full,"core"),ne.Z.registerVersion("angularfire",N.q4.full,"app-compat"),ne.Z.registerVersion("angular",d.q4F.full,Le.toString())}static initializeApp(Le,Me){return{ngModule:ie,providers:[{provide:pe,useValue:Le},{provide:_e,useValue:Me}]}}}return ie.\u0275fac=function(Le){return new(Le||ie)(d.LFG(d.Lbi))},ie.\u0275mod=d.oAB({type:ie}),ie.\u0275inj=d.cJS({providers:[re]}),ie})();function Te(ie,Ce,Le,Me,je){const[,Re,Be]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===ie)||[];if(Re)return function(ie,Ce){try{return ie.toString()===Ce.toString()}catch(Le){return ie===Ce}}(je,Be)||(Ne("error",`${Ce} was already initialized on the ${Le} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:je,was:Be})),Re;{const Ye=Me();return globalThis.\u0275AngularfireInstanceCache.push([ie,Ye,je]),Ye}}const $e=!!et.hot,Ne=(ie,...Ce)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[ie](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(et,be,P)=>{P.d(be,{q4:()=>vr,iC:()=>go,HU:()=>Lu,vb:()=>Ui,JM:()=>xl});var d=P(5e3),ne=P(5867),N=P(5861),de=P(9681),he=P(2090),ve=P(4859),se=P(1877),pe=P(8766);const _e="@firebase/installations",G="0.5.12",re=`w:${G}`,We="FIS_v2",Ce=new he.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(D){return D instanceof he.ZR&&D.code.includes("request-failed")}function Me({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function je(D){return{token:D.token,requestStatus:2,expiresIn:fe(D.expiresIn),creationTime:Date.now()}}function Re(D,T){return Be.apply(this,arguments)}function Be(){return(Be=(0,N.Z)(function*(D,T){const V=(yield T.json()).error;return Ce.create("request-failed",{requestName:D,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ye({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function K(D,{refreshToken:T}){const R=Ye(D);return R.append("Authorization",function(D){return`${We} ${D}`}(T)),R}function H(D){return X.apply(this,arguments)}function X(){return(X=(0,N.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function fe(D){return Number(D.replace("s","000"))}function xe(D,T){return ae.apply(this,arguments)}function ae(){return(ae=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:R}){const V=Me(D),ee=Ye(D),ce=T.getImmediate({optional:!0});if(ce){const Dt=yield ce.getHeartbeatsHeader();Dt&&ee.append("x-firebase-client",Dt)}const ze={method:"POST",headers:ee,body:JSON.stringify({fid:R,authVersion:We,appId:D.appId,sdkVersion:re})},ot=yield H(()=>fetch(V,ze));if(ot.ok){const Dt=yield ot.json();return{fid:Dt.fid||R,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:je(Dt.authToken)}}throw yield Re("Create Installation",ot)})).apply(this,arguments)}function ft(D){return new Promise(T=>{setTimeout(T,D)})}const Nn=/^[cdef][\w-]{21}$/;function $t(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function(D){return function(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Nn.test(R)?R:""}catch(D){return""}}function Yt(D){return`${D.appName}!${D.appId}`}const er=new Map;function pi(D,T){const R=Yt(D);Nt(R,T),function(D,T){const R=(!Vr&&"BroadcastChannel"in self&&(Vr=new BroadcastChannel("[Firebase] FID Change"),Vr.onmessage=D=>{Nt(D.data.key,D.data.fid)}),Vr);R&&R.postMessage({key:D,fid:T}),0===er.size&&Vr&&(Vr.close(),Vr=null)}(R,T)}function Nt(D,T){const R=er.get(D);if(R)for(const V of R)V(T)}let Vr=null;const Dr="firebase-installations-store";let gi=null;function Ws(){return gi||(gi=(0,pe.X3)("firebase-installations-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(Dr)}})),gi}function pt(D,T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(D,T){const R=Yt(D),ee=(yield Ws()).transaction(Dr,"readwrite"),ce=ee.objectStore(Dr),Ae=yield ce.get(R);return yield ce.put(T,R),yield ee.done,(!Ae||Ae.fid!==T.fid)&&pi(D,T.fid),T})).apply(this,arguments)}function mi(D){return tr.apply(this,arguments)}function tr(){return(tr=(0,N.Z)(function*(D){const T=Yt(D),V=(yield Ws()).transaction(Dr,"readwrite");yield V.objectStore(Dr).delete(T),yield V.done})).apply(this,arguments)}function _i(D,T){return ei.apply(this,arguments)}function ei(){return(ei=(0,N.Z)(function*(D,T){const R=Yt(D),ee=(yield Ws()).transaction(Dr,"readwrite"),ce=ee.objectStore(Dr),Ae=yield ce.get(R),ze=T(Ae);return void 0===ze?yield ce.delete(R):yield ce.put(ze,R),yield ee.done,ze&&(!Ae||Ae.fid!==ze.fid)&&pi(D,ze.fid),ze})).apply(this,arguments)}function nr(D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,N.Z)(function*(D){let T;const R=yield _i(D.appConfig,V=>{const ee=Io(V),ce=_n(D,ee);return T=ce.registrationPromise,ce.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function Io(D){return Qt(D||{fid:$t(),registrationStatus:0})}function _n(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ce.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},V=function(D,T){return vt.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:V}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:hr(D)}:{installationEntry:T}}function vt(){return(vt=(0,N.Z)(function*(D,T){try{const R=yield xe(D,T);return pt(D.appConfig,R)}catch(R){throw Le(R)&&409===R.customData.serverCode?yield mi(D.appConfig):yield pt(D.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function hr(D){return Br.apply(this,arguments)}function Br(){return(Br=(0,N.Z)(function*(D){let T=yield Ur(D.appConfig);for(;1===T.registrationStatus;)yield ft(100),T=yield Ur(D.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield nr(D);return V||R}return T})).apply(this,arguments)}function Ur(D){return _i(D,T=>{if(!T)throw Ce.create("installation-not-found");return Qt(T)})}function Qt(D){return function(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Is(D,T){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:T},R){const V=Zt(D,R),ee=K(D,R),ce=T.getImmediate({optional:!0});if(ce){const Dt=yield ce.getHeartbeatsHeader();Dt&&ee.append("x-firebase-client",Dt)}const ze={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:re,appId:D.appId}})},ot=yield H(()=>fetch(V,ze));if(ot.ok)return je(yield ot.json());throw yield Re("Generate Auth Token",ot)})).apply(this,arguments)}function Zt(D,{fid:T}){return`${Me(D)}/${T}/authTokens:generate`}function j(D){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(D,T=!1){let R;const V=yield _i(D.appConfig,ce=>{if(!at(ce))throw Ce.create("not-registered");const Ae=ce.authToken;if(!T&&an(Ae))return ce;if(1===Ae.requestStatus)return R=U(D,T),ce;{if(!navigator.onLine)throw Ce.create("app-offline");const ze=Wn(ce);return R=Ie(D,ze),ze}});return R?yield R:V.authToken})).apply(this,arguments)}function U(D,T){return Q.apply(this,arguments)}function Q(){return(Q=(0,N.Z)(function*(D,T){let R=yield $(D.appConfig);for(;1===R.authToken.requestStatus;)yield ft(100),R=yield $(D.appConfig);const V=R.authToken;return 0===V.requestStatus?j(D,T):V})).apply(this,arguments)}function $(D){return _i(D,T=>{if(!at(T))throw Ce.create("not-registered");return function(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ie(D,T){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,N.Z)(function*(D,T){try{const R=yield Is(D,T),V=Object.assign(Object.assign({},T),{authToken:R});return yield pt(D.appConfig,V),R}catch(R){if(!Le(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield pt(D.appConfig,V)}else yield mi(D.appConfig);throw R}})).apply(this,arguments)}function at(D){return void 0!==D&&2===D.registrationStatus}function an(D){return 2===D.requestStatus&&!function(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+36e5}(D)}function Wn(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}function Ji(){return(Ji=(0,N.Z)(function*(D){const T=D,{installationEntry:R,registrationPromise:V}=yield nr(T);return V?V.catch(console.error):j(T).catch(console.error),R.fid})).apply(this,arguments)}function ga(){return(ga=(0,N.Z)(function*(D,T=!1){const R=D;return yield ul(R),(yield j(R,T)).token})).apply(this,arguments)}function ul(D){return In.apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(D){const{registrationPromise:T}=yield nr(D);T&&(yield T)})).apply(this,arguments)}function Mn(D){return Ce.create("missing-app-config-values",{valueName:D})}const Tc="installations";(0,de._registerComponent)(new ve.wA(Tc,D=>{const T=D.getProvider("app").getImmediate(),R=function(D){if(!D||!D.options)throw Mn("App Configuration");if(!D.name)throw Mn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!D.options[R])throw Mn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,de._registerComponent)(new ve.wA("installations-internal",D=>{const T=D.getProvider("app").getImmediate(),R=(0,de._getProvider)(T,Tc).getImmediate();return{getId:()=>function(D){return Ji.apply(this,arguments)}(R),getToken:ee=>function(D){return ga.apply(this,arguments)}(R,ee)}},"PRIVATE")),(0,de.registerVersion)(_e,G),(0,de.registerVersion)(_e,G,"esm2017");const rr="@firebase/remote-config",Bn=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uh{constructor(T,R,V,ee){this.client=T,this.storage=R,this.storageCache=V,this.logger=ee}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,ee=V<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var R=this;return(0,N.Z)(function*(){const[V,ee]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ee&&R.isCachedDataFresh(T.cacheMaxAgeMillis,V))return ee;T.eTag=ee&&ee.eTag;const ce=yield R.client.fetch(T),Ae=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ae.push(R.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ae),ce})()}}function ch(D=navigator){return D.languages&&D.languages[0]||D.language}class pr{constructor(T,R,V,ee,ce,Ae){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=V,this.projectId=ee,this.apiKey=ce,this.appId=Ae}fetch(T){var R=this;return(0,N.Z)(function*(){var V,ee,ce;const[Ae,ze]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Dt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},dt={sdk_version:R.sdkVersion,app_instance_id:Ae,app_instance_id_token:ze,app_id:R.appId,language_code:ch()},Rn={method:"POST",headers:It,body:JSON.stringify(dt)},ur=fetch(Dt,Rn),Bs=new Promise((Ko,Yo)=>{T.signal.addEventListener(()=>{const qc=new Error("The operation was aborted.");qc.name="AbortError",Yo(qc)})});let as;try{yield Promise.race([ur,Bs]),as=yield ur}catch(Ko){let Yo="fetch-client-network";throw"AbortError"===(null===(V=Ko)||void 0===V?void 0:V.name)&&(Yo="fetch-timeout"),Bn.create(Yo,{originalErrorMessage:null===(ee=Ko)||void 0===ee?void 0:ee.message})}let Zo=as.status;const bh=as.headers.get("ETag")||void 0;let Us,ji;if(200===as.status){let Ko;try{Ko=yield as.json()}catch(Yo){throw Bn.create("fetch-client-parse",{originalErrorMessage:null===(ce=Yo)||void 0===ce?void 0:ce.message})}Us=Ko.entries,ji=Ko.state}if("INSTANCE_STATE_UNSPECIFIED"===ji?Zo=500:"NO_CHANGE"===ji?Zo=304:("NO_TEMPLATE"===ji||"EMPTY_CONFIG"===ji)&&(Us={}),304!==Zo&&200!==Zo)throw Bn.create("fetch-status",{httpStatus:Zo});return{status:Zo,eTag:bh,config:Us}})()}}class mp{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,N.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,V)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:V}){var ee=this;return(0,N.Z)(function*(){yield function(D,T){return new Promise((R,V)=>{const ee=Math.max(T-Date.now(),0),ce=setTimeout(R,ee);D.addEventListener(()=>{clearTimeout(ce),V(Bn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ce=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function(D){if(!(D instanceof he.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const Ae={throttleEndTimeMillis:Date.now()+(0,he.$s)(V),backoffCount:V+1};return yield ee.storage.setThrottleMetadata(Ae),ee.attemptFetch(T,Ae)}})()}}class Ac{constructor(T,R,V,ee,ce){this.app=T,this._client=R,this._storageCache=V,this._storage=ee,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function du(D,T){var R;const V=D.target.error||void 0;return Bn.create(T,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const As="app_namespace_store";class bp{constructor(T,R,V,ee=function(){return new Promise((D,T)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=ee=>{T(du(ee,"storage-open"))},V.onsuccess=ee=>{D(ee.target.result)},V.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(As,{keyPath:"compositeKey"})}}catch(V){T(Bn.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=V,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((ee,ce)=>{var Ae;const ot=V.transaction([As],"readonly").objectStore(As),Dt=R.createCompositeKey(T);try{const It=ot.get(Dt);It.onerror=dt=>{ce(du(dt,"storage-get"))},It.onsuccess=dt=>{const Rn=dt.target.result;ee(Rn?Rn.value:void 0)}}catch(It){ce(Bn.create("storage-get",{originalErrorMessage:null===(Ae=It)||void 0===Ae?void 0:Ae.message}))}})})()}set(T,R){var V=this;return(0,N.Z)(function*(){const ee=yield V.openDbPromise;return new Promise((ce,Ae)=>{var ze;const Dt=ee.transaction([As],"readwrite").objectStore(As),It=V.createCompositeKey(T);try{const dt=Dt.put({compositeKey:It,value:R});dt.onerror=Rn=>{Ae(du(Rn,"storage-set"))},dt.onsuccess=()=>{ce()}}catch(dt){Ae(Bn.create("storage-set",{originalErrorMessage:null===(ze=dt)||void 0===ze?void 0:ze.message}))}})})()}delete(T){var R=this;return(0,N.Z)(function*(){const V=yield R.openDbPromise;return new Promise((ee,ce)=>{var Ae;const ot=V.transaction([As],"readwrite").objectStore(As),Dt=R.createCompositeKey(T);try{const It=ot.delete(Dt);It.onerror=dt=>{ce(du(dt,"storage-delete"))},It.onsuccess=()=>{ee()}}catch(It){ce(Bn.create("storage-delete",{originalErrorMessage:null===(Ae=It)||void 0===Ae?void 0:Ae.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xc{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const R=T.storage.getLastFetchStatus(),V=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),ce=yield R;ce&&(T.lastFetchStatus=ce);const Ae=yield V;Ae&&(T.lastSuccessfulFetchTimestampMillis=Ae);const ze=yield ee;ze&&(T.activeConfig=ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Xs(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,N.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(D){return!1}})).apply(this,arguments)}(0,de._registerComponent)(new ve.wA("remote-config",function(T,{instanceIdentifier:R}){const V=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,he.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ae,appId:ze}=V.options;if(!ce)throw Bn.create("registration-project-id");if(!Ae)throw Bn.create("registration-api-key");if(!ze)throw Bn.create("registration-app-id");const ot=new bp(ze,V.name,R=R||"firebase"),Dt=new xc(ot),It=new se.Yd(rr);It.logLevel=se.in.ERROR;const dt=new pr(ee,de.SDK_VERSION,R,ce,Ae,ze),Rn=new mp(dt,ot),ur=new uh(Rn,ot,Dt,It),Bs=new Ac(V,ur,Dt,ot,It);return function(D){const T=(0,he.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Bs),Bs},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(rr,"0.3.11"),(0,de.registerVersion)(rr,"0.3.11","esm2017");const Rc="/firebase-messaging-sw.js",Ms="/firebase-cloud-messaging-push-scope",Gr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eo="google.c.a.c_id",hu="google.c.a.c_l",dh="google.c.a.ts",kc="google.c.a.e";var no=(()=>{return(D=no||(no={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",no;var D})();function ri(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),ee=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)ee[ce]=V.charCodeAt(ce);return ee}const hl="fcm_token_details_db",zr="fcm_token_object_Store";function Pc(D){return fl.apply(this,arguments)}function fl(){return fl=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(hl))return null;let T=null;return(yield(0,pe.X3)(hl,5,{upgrade:(V=(0,N.Z)(function*(ee,ce,Ae,ze){var ot;if(ce<2||!ee.objectStoreNames.contains(zr))return;const Dt=ze.objectStore(zr),It=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),It)if(2===ce){const dt=It;if(!dt.auth||!dt.p256dh||!dt.endpoint)return;T={token:dt.fcmToken,createTime:null!==(ot=dt.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:dt.auth,p256dh:dt.p256dh,endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:"string"==typeof dt.vapidKey?dt.vapidKey:ri(dt.vapidKey)}}}else if(3===ce){const dt=It;T={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:ri(dt.auth),p256dh:ri(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:ri(dt.vapidKey)}}}else if(4===ce){const dt=It;T={token:dt.fcmToken,createTime:dt.createTime,subscriptionOptions:{auth:ri(dt.auth),p256dh:ri(dt.p256dh),endpoint:dt.endpoint,swScope:dt.swScope,vapidKey:ri(dt.vapidKey)}}}}),function(ce,Ae,ze,ot){return V.apply(this,arguments)})})).close(),yield(0,pe.Lj)(hl),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),fu(T)?T:null;var V}),fl.apply(this,arguments)}function fu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const tn="firebase-messaging-store";let pu=null;function xo(){return pu||(pu=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(D,T)=>{0===T&&D.createObjectStore(tn)}})),pu}function yn(D){return ro.apply(this,arguments)}function ro(){return(ro=(0,N.Z)(function*(D){const T=io(D),V=yield(yield xo()).transaction(tn).objectStore(tn).get(T);if(V)return V;{const ee=yield Pc(D.appConfig.senderId);if(ee)return yield ts(D,ee),ee}})).apply(this,arguments)}function ts(D,T){return Os.apply(this,arguments)}function Os(){return(Os=(0,N.Z)(function*(D,T){const R=io(D),ee=(yield xo()).transaction(tn,"readwrite");return yield ee.objectStore(tn).put(T,R),yield ee.done,T})).apply(this,arguments)}function sr(D){return wa.apply(this,arguments)}function wa(){return(wa=(0,N.Z)(function*(D){const T=io(D),V=(yield xo()).transaction(tn,"readwrite");yield V.objectStore(tn).delete(T),yield V.done})).apply(this,arguments)}function io({appConfig:D}){return D.appId}const qt=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Oo(D,T){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,N.Z)(function*(D,T){var R;const V=yield gu(D),ee=oo(T),ce={method:"POST",headers:V,body:JSON.stringify(ee)};let Ae;try{Ae=yield(yield fetch(ct(D.appConfig),ce)).json()}catch(ze){throw qt.create("token-subscribe-failed",{errorInfo:null===(R=ze)||void 0===R?void 0:R.toString()})}if(Ae.error)throw qt.create("token-subscribe-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw qt.create("token-subscribe-no-token");return Ae.token})).apply(this,arguments)}function ko(D,T){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,N.Z)(function*(D,T){var R;const V=yield gu(D),ee=oo(T.subscriptionOptions),ce={method:"PATCH",headers:V,body:JSON.stringify(ee)};let Ae;try{Ae=yield(yield fetch(`${ct(D.appConfig)}/${T.token}`,ce)).json()}catch(ze){throw qt.create("token-update-failed",{errorInfo:null===(R=ze)||void 0===R?void 0:R.toString()})}if(Ae.error)throw qt.create("token-update-failed",{errorInfo:Ae.error.message});if(!Ae.token)throw qt.create("token-update-no-token");return Ae.token})).apply(this,arguments)}function Po(D,T){return No.apply(this,arguments)}function No(){return(No=(0,N.Z)(function*(D,T){var R;const ee={method:"DELETE",headers:yield gu(D)};try{const Ae=yield(yield fetch(`${ct(D.appConfig)}/${T}`,ee)).json();if(Ae.error)throw qt.create("token-unsubscribe-failed",{errorInfo:Ae.error.message})}catch(ce){throw qt.create("token-unsubscribe-failed",{errorInfo:null===(R=ce)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function ct({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function gu(D){return so.apply(this,arguments)}function so(){return(so=(0,N.Z)(function*({appConfig:D,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function oo({p256dh:D,auth:T,endpoint:R,vapidKey:V}){const ee={web:{endpoint:R,auth:T,p256dh:D}};return V!==Gr&&(ee.web.applicationPubKey=V),ee}const pl=6048e5;function Fo(D){return mu.apply(this,arguments)}function mu(){return(mu=(0,N.Z)(function*(D){const T=yield Li(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:ri(T.getKey("auth")),p256dh:ri(T.getKey("p256dh"))},V=yield yn(D.firebaseDependencies);if(V){if(Ea(V.subscriptionOptions,R))return Date.now()>=V.createTime+pl?Bt(D,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield Po(D.firebaseDependencies,V.token)}catch(ee){console.warn(ee)}return vn(D.firebaseDependencies,R)}return vn(D.firebaseDependencies,R)})).apply(this,arguments)}function gl(D){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.Z)(function*(D){const T=yield yn(D.firebaseDependencies);T&&(yield Po(D.firebaseDependencies,T.token),yield sr(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Bt(D,T){return ao.apply(this,arguments)}function ao(){return(ao=(0,N.Z)(function*(D,T){try{const R=yield ko(D.firebaseDependencies,T),V=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield ts(D.firebaseDependencies,V),R}catch(R){throw yield gl(D),R}})).apply(this,arguments)}function vn(D,T){return ml.apply(this,arguments)}function ml(){return(ml=(0,N.Z)(function*(D,T){const V={token:yield Oo(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ts(D,V),V.token})).apply(this,arguments)}function Li(D,T){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dl(T)})})).apply(this,arguments)}function Ea(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}function Ca(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function(D,T){if(!T.notification)return;D.notification={};const R=T.notification.title;R&&(D.notification.title=R);const V=T.notification.body;V&&(D.notification.body=V);const ee=T.notification.image;ee&&(D.notification.image=ee)}(T,D),function(D,T){!T.data||(D.data=T.data)}(T,D),function(D,T){var R,V,ee,ce,Ae;if(!T.fcmOptions&&!(null===(R=T.notification)||void 0===R?void 0:R.click_action))return;D.fcmOptions={};const ze=null!==(ee=null===(V=T.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==ee?ee:null===(ce=T.notification)||void 0===ce?void 0:ce.click_action;ze&&(D.fcmOptions.link=ze);const ot=null===(Ae=T.fcmOptions)||void 0===Ae?void 0:Ae.analytics_label;ot&&(D.fcmOptions.analyticsLabel=ot)}(T,D),T}function lo(D){return"object"==typeof D&&!!D&&eo in D}function or(D,T){const R=[];for(let V=0;V<D.length;V++)R.push(D.charAt(V)),V<T.length&&R.push(T.charAt(V));return R.join("")}function uo(D){return qt.create("missing-app-config-values",{valueName:D})}or("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),or("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lo{constructor(T,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function(D){if(!D||!D.options)throw uo("App Configuration Object");if(!D.name)throw uo("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const V of T)if(!R[V])throw uo(V);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function ii(D){return _u.apply(this,arguments)}function _u(){return(_u=(0,N.Z)(function*(D){var T;try{D.swRegistration=yield navigator.serviceWorker.register(Rc,{scope:Ms}),D.swRegistration.update().catch(()=>{})}catch(R){throw qt.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function yl(D,T){return yu.apply(this,arguments)}function yu(){return(yu=(0,N.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield ii(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw qt.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function vu(D,T){return Da.apply(this,arguments)}function Da(){return(Da=(0,N.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Gr)})).apply(this,arguments)}function vl(){return(vl=(0,N.Z)(function*(D,T){if(!navigator)throw qt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qt.create("permission-blocked");return yield vu(D,null==T?void 0:T.vapidKey),yield yl(D,null==T?void 0:T.serviceWorkerRegistration),Fo(D)})).apply(this,arguments)}function Bo(D,T,R){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,N.Z)(function*(D,T,R){const V=bl(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[eo],message_name:R[hu],message_time:R[dh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bl(D){switch(D){case no.NOTIFICATION_CLICKED:return"notification_open";case no.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wu(){return(wu=(0,N.Z)(function*(D,T){const R=T.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===no.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ca(R)):D.onMessageHandler.next(Ca(R)));const V=R.data;lo(V)&&"1"===V[kc]&&(yield Bo(D,R.messageType,V))})).apply(this,arguments)}const wl="@firebase/messaging";function Eu(){return gn.apply(this,arguments)}function gn(){return(gn=(0,N.Z)(function*(){try{yield(0,he.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,de._registerComponent)(new ve.wA("messaging",D=>{const T=new Lo(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function(D,T){return wu.apply(this,arguments)}(T,R)),T},"PUBLIC")),(0,de._registerComponent)(new ve.wA("messaging-internal",D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:V=>function(D,T){return vl.apply(this,arguments)}(T,V)}},"PRIVATE")),(0,de.registerVersion)(wl,"0.9.16"),(0,de.registerVersion)(wl,"0.9.16","esm2017");const Ta="analytics",Du="firebase_id",co="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cl="https://www.googletagmanager.com/gtag/js",bn=new se.Yd("@firebase/analytics");function Sa(D){return Promise.all(D.map(T=>T.catch(R=>R)))}function Ep(D,T){const R=document.createElement("script");R.src=`${Cl}?l=${D}&id=${T}`,R.async=!0,document.head.appendChild(R)}function Uo(D,T,R,V,ee,ce){return jo.apply(this,arguments)}function jo(){return(jo=(0,N.Z)(function*(D,T,R,V,ee,ce){const Ae=V[ee];try{if(Ae)yield T[Ae];else{const ot=(yield Sa(R)).find(Dt=>Dt.measurementId===ee);ot&&(yield T[ot.appId])}}catch(ze){bn.error(ze)}D("config",ee,ce)})).apply(this,arguments)}function Dp(D,T,R,V,ee){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,N.Z)(function*(D,T,R,V,ee){try{let ce=[];if(ee&&ee.send_to){let Ae=ee.send_to;Array.isArray(Ae)||(Ae=[Ae]);const ze=yield Sa(R);for(const ot of Ae){const Dt=ze.find(dt=>dt.measurementId===ot),It=Dt&&T[Dt.appId];if(!It){ce=[];break}ce.push(It)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),D("event",V,ee||{})}catch(ce){bn.error(ce)}})).apply(this,arguments)}function Ns(){const D=window.document.getElementsByTagName("script");for(const T of Object.values(D))if(T.src&&T.src.includes(Cl))return T;return null}const Ar=new he.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ho=new class{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function rn(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function _r(D){return dn.apply(this,arguments)}function dn(){return(dn=(0,N.Z)(function*(D){var T;const{appId:R,apiKey:V}=D,ee={method:"GET",headers:rn(V)},ce=co.replace("{app-id}",R),Ae=yield fetch(ce,ee);if(200!==Ae.status&&304!==Ae.status){let ze="";try{const ot=yield Ae.json();(null===(T=ot.error)||void 0===T?void 0:T.message)&&(ze=ot.error.message)}catch(ot){}throw Ar.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:ze})}return Ae.json()})).apply(this,arguments)}function Qe(D){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,N.Z)(function*(D,T=Ho,R){const{appId:V,apiKey:ee,measurementId:ce}=D.options;if(!V)throw Ar.create("no-app-id");if(!ee){if(ce)return{measurementId:ce,appId:V};throw Ar.create("no-api-key")}const Ae=T.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new Ct;return setTimeout((0,N.Z)(function*(){ze.abort()}),void 0!==R?R:6e4),bi({appId:V,apiKey:ee,measurementId:ce},Ae,ze,T)})).apply(this,arguments)}function bi(D,T,R){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:R},V,ee=Ho){var ce,Ae;const{appId:ze,measurementId:ot}=D;try{yield Iu(V,T)}catch(Dt){if(ot)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${null===(ce=Dt)||void 0===ce?void 0:ce.message}]`),{appId:ze,measurementId:ot};throw Dt}try{const Dt=yield _r(D);return ee.deleteThrottleMetadata(ze),Dt}catch(Dt){const It=Dt;if(!rs(It)){if(ee.deleteThrottleMetadata(ze),ot)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${null==It?void 0:It.message}]`),{appId:ze,measurementId:ot};throw Dt}const dt=503===Number(null===(Ae=null==It?void 0:It.customData)||void 0===Ae?void 0:Ae.httpStatus)?(0,he.$s)(R,ee.intervalMillis,30):(0,he.$s)(R,ee.intervalMillis),Rn={throttleEndTimeMillis:Date.now()+dt,backoffCount:R+1};return ee.setThrottleMetadata(ze,Rn),bn.debug(`Calling attemptFetch again in ${dt} millis`),bi(D,Rn,V,ee)}})).apply(this,arguments)}function Iu(D,T){return new Promise((R,V)=>{const ee=Math.max(T-Date.now(),0),ce=setTimeout(R,ee);D.addEventListener(()=>{clearTimeout(ce),V(Ar.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function rs(D){if(!(D instanceof he.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ct{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let $o,is;function wi(){return(wi=(0,N.Z)(function*(D,T,R,V,ee){if(ee&&ee.global)D("event",R,V);else{const ce=yield T;D("event",R,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function si(D){is=D}function Go(D){$o=D}function jc(){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,N.Z)(function*(){var D;if(!(0,he.hl)())return bn.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,he.eu)()}catch(T){return bn.warn(Ar.create("indexeddb-unavailable",{errorInfo:null===(D=T)||void 0===D?void 0:D.toString()}).message),!1}return!0})).apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(D,T,R,V,ee,ce,Ae){var ze;const ot=Qe(D);ot.then(ur=>{R[ur.measurementId]=ur.appId,D.options.measurementId&&ur.measurementId!==D.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ur.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ur=>bn.error(ur)),T.push(ot);const Dt=jc().then(ur=>{if(ur)return V.getId()}),[It,dt]=yield Promise.all([ot,Dt]);Ns()||Ep(ce,It.measurementId),is&&(ee("consent","default",is),si(void 0)),ee("js",new Date);const Rn=null!==(ze=null==Ae?void 0:Ae.config)&&void 0!==ze?ze:{};return Rn.origin="firebase",Rn.update=!0,null!=dt&&(Rn[Du]=dt),ee("config",It.measurementId,Rn),$o&&(ee("set",$o),Go(void 0)),It.measurementId})).apply(this,arguments)}class Hc{constructor(T){this.app=T}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},Di=[];const Vi={};let Mu,Mr,Ii="dataLayer",ka=!1;function mh(D,T,R){!function(){const D=[];if((0,he.ru)()&&D.push("This is a browser extension environment."),(0,he.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((V,ee)=>`(${ee+1}) ${V}`).join(" "),R=Ar.create("invalid-analytics-context",{errorInfo:T});bn.warn(R.message)}}();const V=D.options.appId;if(!V)throw Ar.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ar.create("no-api-key");bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[V])throw Ar.create("already-exists",{id:V});if(!ka){!function(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(Ii);const{wrappedGtag:ce,gtagCore:Ae}=function(D,T,R,V,ee){let ce=function(...Ae){window[V].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(ce=window[ee]),window[ee]=function(D,T,R,V){function ce(){return(ce=(0,N.Z)(function*(Ae,ze,ot){try{"event"===Ae?yield Dp(D,T,R,ze,ot):"config"===Ae?yield Uo(D,T,R,V,ze,ot):"consent"===Ae?D("consent","update",ot):D("set",ze)}catch(Dt){bn.error(Dt)}})).apply(this,arguments)}return function(Ae,ze,ot){return ce.apply(this,arguments)}}(ce,D,T,R),{gtagCore:ce,wrappedGtag:window[ee]}}(Ci,Di,Vi,Ii,"gtag");Mr=ce,Mu=Ae,ka=!0}return Ci[V]=function(D,T,R,V,ee,ce,Ae){return Il.apply(this,arguments)}(D,Di,Vi,T,Mu,Ii,R),new Hc(D)}function Ou(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,N.Z)(function*(){if((0,he.ru)()||!(0,he.zI)()||!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch(D){return!1}})).apply(this,arguments)}const Ru="@firebase/analytics";(0,de._registerComponent)(new ve.wA(Ta,(T,{options:R})=>mh(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new ve.wA("analytics-internal",function(T){try{const R=T.getProvider(Ta).getImmediate();return{logEvent:(V,ee,ce)=>function(D,T,R,V){D=(0,he.m9)(D),function(D,T,R,V,ee){return wi.apply(this,arguments)}(Mr,Ci[D.app.options.appId],T,R,V).catch(ee=>bn.error(ee))}(R,V,ee,ce)}}catch(R){throw Ar.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Ru,"0.8.0"),(0,de.registerVersion)(Ru,"0.8.0","esm2017");var Kn=P(4408),po=P(7565);const Al=new class extends po.v{}(class extends Kn.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(T,R,V):T.flush(this)}});var zo=P(4986),Bi=P(8505),qo=P(9468),Nu=P(5363);const vr=new d.GfV("7.4.1"),Na="__angularfire_symbol__analyticsIsSupportedValue",Ls="__angularfire_symbol__analyticsIsSupported",Wo="__angularfire_symbol__remoteConfigIsSupportedValue",Ti="__angularfire_symbol__remoteConfigIsSupported",Fa="__angularfire_symbol__messagingIsSupportedValue",Fu="__angularfire_symbol__messagingIsSupported";function xl(D,T,R){if(T){if(1===T.length)return T[0];const ce=T.filter(Ae=>Ae.app===R);if(1===ce.length)return ce[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ls]||(globalThis[Ls]=Ou().then(D=>globalThis[Na]=D).catch(()=>globalThis[Na]=!1)),globalThis[Fu]||(globalThis[Fu]=Eu().then(D=>globalThis[Fa]=D).catch(()=>globalThis[Fa]=!1)),globalThis[Ti]||(globalThis[Ti]=Xs().then(D=>globalThis[Wo]=D).catch(()=>globalThis[Wo]=!1));const Ui=(D,T)=>{const R=T?[T]:(0,ne.C6)(),V=[];return R.forEach(ee=>{ee.container.getProvider(D).instances.forEach(Ae=>{V.includes(Ae)||V.push(Ae)})}),V};function Ol(){}class ss{constructor(T,R=Al){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,V){const ee=this.zone;return this.delegate.schedule(function(Ae){ee.runGuarded(()=>{T.apply(this,[Ae])})},R,V)}}class Gc{constructor(T){this.zone=T,this.task=null}call(T,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ol,{},Ol,Ol)),R.pipe((0,Bi.b)({next:V,complete:V,error:V})).subscribe(T).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lu=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new ss(Zone.current)),this.insideAngular=R.run(()=>new ss(Zone.current,zo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(d.LFG(d.R0b))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Vs(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function go(D){return Vs(),function(D){return function(R){return(R=R.lift(new Gc(D.ngZone))).pipe((0,qo.R)(D.outsideAngular),(0,Nu.Q)(D.insideAngular))}}(Vs())(D)}},2090:(et,be,P)=>{P.d(be,{BH:()=>We,LL:()=>ae,ZR:()=>xe,zI:()=>X,US:()=>ve,tV:()=>_e,L:()=>pe,$s:()=>fr,r3:()=>on,Sg:()=>Te,ne:()=>Ws,vZ:()=>Vr,ZB:()=>Y,pd:()=>Dr,m9:()=>Zt,z$:()=>He,jU:()=>ie,ru:()=>Ce,d:()=>Me,xb:()=>Nt,w1:()=>je,hl:()=>K,uI:()=>$e,UG:()=>Ne,b$:()=>Le,G6:()=>Ye,Mn:()=>Re,xO:()=>Ds,zd:()=>Qi,eu:()=>H});const de=function(j){const W=[];let U=0;for(let Q=0;Q<j.length;Q++){let $=j.charCodeAt(Q);$<128?W[U++]=$:$<2048?(W[U++]=$>>6|192,W[U++]=63&$|128):55296==(64512&$)&&Q+1<j.length&&56320==(64512&j.charCodeAt(Q+1))?($=65536+((1023&$)<<10)+(1023&j.charCodeAt(++Q)),W[U++]=$>>18|240,W[U++]=$>>12&63|128,W[U++]=$>>6&63|128,W[U++]=63&$|128):(W[U++]=$>>12|224,W[U++]=$>>6&63|128,W[U++]=63&$|128)}return W},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,W){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let $=0;$<j.length;$+=3){const Ie=j[$],Ge=$+1<j.length,at=Ge?j[$+1]:0,an=$+2<j.length,zt=an?j[$+2]:0;let Ir=(15&at)<<2|zt>>6,Ji=63&zt;an||(Ji=64,Ge||(Ir=64)),Q.push(U[Ie>>2],U[(3&Ie)<<4|at>>4],U[Ir],U[Ji])}return Q.join("")},encodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(j):this.encodeByteArray(de(j),W)},decodeString(j,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(j):function(j){const W=[];let U=0,Q=0;for(;U<j.length;){const $=j[U++];if($<128)W[Q++]=String.fromCharCode($);else if($>191&&$<224){const Ie=j[U++];W[Q++]=String.fromCharCode((31&$)<<6|63&Ie)}else if($>239&&$<365){const an=((7&$)<<18|(63&j[U++])<<12|(63&j[U++])<<6|63&j[U++])-65536;W[Q++]=String.fromCharCode(55296+(an>>10)),W[Q++]=String.fromCharCode(56320+(1023&an))}else{const Ie=j[U++],Ge=j[U++];W[Q++]=String.fromCharCode((15&$)<<12|(63&Ie)<<6|63&Ge)}}return W.join("")}(this.decodeStringToByteArray(j,W))},decodeStringToByteArray(j,W){this.init_();const U=W?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let $=0;$<j.length;){const Ie=U[j.charAt($++)],at=$<j.length?U[j.charAt($)]:0;++$;const zt=$<j.length?U[j.charAt($)]:64;++$;const Ft=$<j.length?U[j.charAt($)]:64;if(++$,null==Ie||null==at||null==zt||null==Ft)throw Error();Q.push(Ie<<2|at>>4),64!==zt&&(Q.push(at<<4&240|zt>>2),64!==Ft&&Q.push(zt<<6&192|Ft))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},pe=function(j){return function(j){const W=de(j);return ve.encodeByteArray(W,!0)}(j).replace(/\./g,"")},_e=function(j){try{return ve.decodeString(j,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function Y(j,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return W}for(const U in W)!W.hasOwnProperty(U)||!re(U)||(j[U]=Y(j[U],W[U]));return j}function re(j){return"__proto__"!==j}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,U)=>{this.resolve=W,this.reject=U})}wrapCallback(W){return(U,Q)=>{U?this.reject(U):this.resolve(Q),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(U):W(U,Q))}}}function Te(j,W){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=W||"demo-project",$=j.iat||0,Ie=j.sub||j.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:$,exp:$+3600,auth_time:$,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},j);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ge)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function Ne(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function ie(){return"object"==typeof self&&self.self===self}function Ce(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return He().indexOf("Electron/")>=0}function je(){const j=He();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Re(){return He().indexOf("MSAppHost/")>=0}function Ye(){return!Ne()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function K(){return"object"==typeof indexedDB}function H(){return new Promise((j,W)=>{try{let U=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(Q);$.onsuccess=()=>{$.result.close(),U||self.indexedDB.deleteDatabase(Q),j(!0)},$.onupgradeneeded=()=>{U=!1},$.onerror=()=>{var Ie;W((null===(Ie=$.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(U){W(U)}})}function X(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(W,U,Q){super(U),this.code=W,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ae.prototype.create)}}class ae{constructor(W,U,Q){this.service=W,this.serviceName=U,this.errors=Q}create(W,...U){const Q=U[0]||{},$=`${this.service}/${W}`,Ie=this.errors[W],Ge=Ie?function(j,W){return j.replace(kt,(U,Q)=>{const $=W[Q];return null!=$?String($):`<${Q}?>`})}(Ie,Q):"Error";return new xe($,`${this.serviceName}: ${Ge} (${$}).`,Q)}}const kt=/\{\$([^}]+)}/g;function on(j,W){return Object.prototype.hasOwnProperty.call(j,W)}function Nt(j){for(const W in j)if(Object.prototype.hasOwnProperty.call(j,W))return!1;return!0}function Vr(j,W){if(j===W)return!0;const U=Object.keys(j),Q=Object.keys(W);for(const $ of U){if(!Q.includes($))return!1;const Ie=j[$],Ge=W[$];if(dr(Ie)&&dr(Ge)){if(!Vr(Ie,Ge))return!1}else if(Ie!==Ge)return!1}for(const $ of Q)if(!U.includes($))return!1;return!0}function dr(j){return null!==j&&"object"==typeof j}function Ds(j){const W=[];for(const[U,Q]of Object.entries(j))Array.isArray(Q)?Q.forEach($=>{W.push(encodeURIComponent(U)+"="+encodeURIComponent($))}):W.push(encodeURIComponent(U)+"="+encodeURIComponent(Q));return W.length?"&"+W.join("&"):""}function Qi(j){const W={};return j.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[$,Ie]=Q.split("=");W[decodeURIComponent($)]=decodeURIComponent(Ie)}}),W}function Dr(j){const W=j.indexOf("?");if(!W)return"";const U=j.indexOf("#",W);return j.substring(W,U>0?U:void 0)}function Ws(j,W){const U=new pt(j,W);return U.subscribe.bind(U)}class pt{constructor(W,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{W(this)}).catch(Q=>{this.error(Q)})}next(W){this.forEachObserver(U=>{U.next(W)})}error(W){this.forEachObserver(U=>{U.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,U,Q){let $;if(void 0===W&&void 0===U&&void 0===Q)throw new Error("Missing Observer.");$=function(j,W){if("object"!=typeof j||null===j)return!1;for(const U of["next","error","complete"])if(U in j&&"function"==typeof j[U])return!0;return!1}(W)?W:{next:W,error:U,complete:Q},void 0===$.next&&($.next=tr),void 0===$.error&&($.error=tr),void 0===$.complete&&($.complete=tr);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$.error(this.finalError):$.complete()}catch(Ge){}}),this.observers.push($),Ie}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,W)}sendOne(W,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{U(this.observers[W])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tr(){}function fr(j,W=1e3,U=2){const Q=W*Math.pow(U,j),$=Math.round(.5*Q*(Math.random()-.5)*2);return Math.min(144e5,Q+$)}function Zt(j){return j&&j._delegate?j._delegate:j}},5465:(et,be,P)=>{var d=P(5e3);let ne=null;function N(){return ne}const se=new d.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.LFG)(Y)},providedIn:"platform"}),n})();const G=new d.OlP("Location Initialized");let Y=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){re()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){re()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new Y((0,d.LFG)(se))},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function Te(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function He(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function(n){const e=(0,d.LFG)(se).location;return new Le((0,d.LFG)(pe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ce=new d.OlP("appBaseHref");let Le=(()=>{class n extends Ne{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Te(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+$e(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+$e(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(Ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n extends Ne{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Te(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+$e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+$e(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pe),d.LFG(Ce,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=He(Ye(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Te,n.stripTrailingSlash=He,n.\u0275fac=function(t){return new(t||n)(d.LFG(Ne),d.LFG(pe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return new je((0,d.LFG)(Ne),(0,d.LFG)(pe))},providedIn:"root"}),n})();function Ye(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Zero=0]="Zero",X[X.One=1]="One",X[X.Two=2]="Two",X[X.Few=3]="Few",X[X.Many=4]="Many",X[X.Other=5]="Other",X))();const Qi=d.kL8;class yi{}let Bn=(()=>{class n extends yi{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Qi(r||this.locale)(t)){case X.Zero:return"zero";case X.One:return"one";case X.Two:return"two";case X.Few:return"few";case X.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function St(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}let Ys=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})(),Hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){en("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){en("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vi{constructor(){this.$implicit=null,this.ngIf=null}}function en(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}class va{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ba=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ni=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new va(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(ba,9))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),kc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:yi,useClass:Bn}]}),n})();const to="browser";function gr(n){return"server"===n}let fu=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Mo((0,d.LFG)(se),window)}),n})();class Mo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Nc(this.window.history)||Nc(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Nc(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xo{}class ro extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new ro,ne||(ne=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ts=ts||document.querySelector("base"),ts?ts.getAttribute("href"):null);return null==t?null:function(n){sr=sr||document.createElement("a"),sr.setAttribute("href",n);const e=sr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return St(document.cookie,e)}}let sr,ts=null;const io=new d.OlP("TRANSITION_ID"),qt=[{provide:d.ip1,useFactory:function(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[io,se,d.zs3],multi:!0}];class Oo{static init(){(0,d.VLi)(new Oo)}addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(_){u=u||_,a--,0==a&&r(u)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ro=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const ko=new d.OlP("EventManagerPlugins");let Tr=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ko),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Po{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let No=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ct=(()=>{class n extends No{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gu))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function gu(n){N().remove(n)}const so={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oo=/%COMP%/g;function ao(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ao(n,i,t):(i=i.replace(oo,n),t.push(i))}return t}function vn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Li=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Fc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case d.ifc.ShadowDom:return new hh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ao(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Tr),d.LFG(ct),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Sr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(so[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=so[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=so[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,vn(r)):this.eventManager.addEventListener(e,t,vn(r))}}class Fc extends Sr{constructor(e,t,r,i){super(e),this.component=r;const a=ao(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(oo,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(oo,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class hh extends Sr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ao(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let _l=(()=>{class n extends Po{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const lo=["alt","control","meta","shift"],ns={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Lo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ii=(()=>{class n extends Po{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(lo.forEach(_=>{const w=r.indexOf(_);w>-1&&(r.splice(w,1),u+=_+".")}),u+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&uo.hasOwnProperty(e)&&(e=uo[e]))}return ns[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),lo.forEach(a=>{a!=i&&Lo[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Vo=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:to},{provide:d.g9A,useValue:function(){ro.makeCurrent(),Oo.init()},multi:!0},{provide:se,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),vl=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:ko,useClass:_l,multi:!0,deps:[se,d.R0b,d.Lbi]},{provide:ko,useClass:ii,multi:!0,deps:[se]},{provide:Li,useClass:Li,deps:[Tr,ct,d.AFp]},{provide:d.FYo,useExisting:Li},{provide:No,useExisting:ct},{provide:ct,useClass:ct,deps:[se]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Tr,useClass:Tr,deps:[ko,d.R0b]},{provide:xo,useClass:Ro,deps:[]}];let Bo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:io,useExisting:d.AFp},qt]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:vl,imports:[kc,d.hGG]}),n})();function Ns(n){return null!=n&&"false"!=`${n}`}function Fs(n){return Array.isArray(n)?n:[n]}function Fn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function mr(n){return n instanceof d.SBq?n.nativeElement:n}"undefined"!=typeof window&&window;var rn=P(7579),_r=P(3269),dn=P(8996);function Qe(...n){const e=(0,_r.yG)(n);return(0,dn.D)(n,e)}var Hn=P(8306),bi=P(8421),Ln=P(5577),Iu=P(1144),rs=P(576),Ct=P(4004);const{isArray:$o}=Array;function wi(n){return(0,Ct.U)(e=>function(n,e){return $o(e)?n(...e):n(e)}(n,e))}const Ma=["addListener","removeListener"],ho=["addEventListener","removeEventListener"],xa=["on","off"];function fo(n,e,t,r){if((0,rs.m)(t)&&(r=t,t=void 0),r)return fo(n,e,t).pipe(wi(r));const[i,a]=function(n){return(0,rs.m)(n.addEventListener)&&(0,rs.m)(n.removeEventListener)}(n)?ho.map(u=>f=>n[u](e,f,t)):function(n){return(0,rs.m)(n.addListener)&&(0,rs.m)(n.removeListener)}(n)?Ma.map(Oa(n,e)):function(n){return(0,rs.m)(n.on)&&(0,rs.m)(n.off)}(n)?xa.map(Oa(n,e)):[];if(!i&&(0,Iu.z)(n))return(0,Ln.z)(u=>fo(u,e,t))((0,bi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Hn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return i(f),()=>a(f)})}function Oa(n,e){return t=>r=>n[t](e,r)}var is=P(4408),si=P(727);const Go={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Go;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new si.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Go;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Go;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Dl=P(7565);new class extends Dl.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class extends is.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Go.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Go.cancelAnimationFrame(t),e._scheduled=void 0)}});let Di,Ci=1;const Vi={};function Ii(n){return n in Vi&&(delete Vi[n],!0)}const Tl={setImmediate(n){const e=Ci++;return Vi[e]=!0,Di||(Di=Promise.resolve()),Di.then(()=>Ii(e)&&n()),e},clearImmediate(n){Ii(n)}},{setImmediate:Mr,clearImmediate:ka}=Tl,xu={setImmediate(...n){const{delegate:e}=xu;return((null==e?void 0:e.setImmediate)||Mr)(...n)},clearImmediate(n){const{delegate:e}=xu;return((null==e?void 0:e.clearImmediate)||ka)(n)},delegate:void 0};new class extends Dl.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class extends is.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=xu.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(xu.clearImmediate(t),e._scheduled=void 0)}});var Ou=P(4986),Zn=P(4482),ar=P(5403),Pa=P(3532);function Sl(n,e=Ou.z){return function(n){return(0,Zn.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const w=i;i=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe(new ar.Q(t,w=>{r=!0,i=w,a||(0,bi.Xf)(n()).subscribe(a=new ar.Q(t,f,_))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function(n=0,e,t=Ou.P){let r=-1;return null!=e&&((0,Pa.K)(e)?t=e:r=e),new Hn.y(i=>{let a=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}function On(n,e){return(0,Zn.e)((t,r)=>{let i=0;t.subscribe(new ar.Q(r,a=>n.call(e,a,i++)&&r.next(a)))})}let Ru;try{Ru="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ru=!1}let Kn,yr=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===to}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ru)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ku=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function po(){if(Kn)return Kn;if("object"!=typeof document||!document)return Kn=new Set(ku),Kn;let n=document.createElement("input");return Kn=new Set(ku.filter(e=>(n.setAttribute("type",e),n.type===e))),Kn}let oi,Bi,vr;function Pu(n){return function(){if(null==oi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>oi=!0}))}finally{oi=oi||!1}return oi}()?n:!!n.capture}function qo(){if(null==Bi){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Bi=!1,Bi;if("scrollBehavior"in document.documentElement.style)Bi=!0;else{const n=Element.prototype.scrollTo;Bi=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Bi}function Wo(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ti(n){return n.composedPath?n.composedPath()[0]:n.target}function Fa(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const Fu=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(se)}}),Ip=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ml=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new d.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Ip.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Fu,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),yh=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new rn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Hn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(Sl(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(On(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=mr(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>fo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(yr),d.LFG(se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rl=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new rn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Sl(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yr),d.LFG(d.R0b),d.LFG(se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ui,xr,V],Ui,V]}),n})();class dt{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Rn extends dt{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class ur extends dt{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Bs extends dt{constructor(e){super(),this.element=e instanceof d.SBq?e.nativeElement:e}}class as{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Rn?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof ur?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Bs?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class bh extends as{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Yo=(()=>{class n extends as{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(se))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),n})(),Wc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();var wh=P(6451),js=P(5698),g_=P(5032);function ls(n){return(0,Zn.e)((e,t)=>{(0,bi.Xf)(n).subscribe(new ar.Q(t,()=>t.complete(),g_.Z)),!t.closed&&e.subscribe(t)})}const Zc=qo();class kl{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Fn(-this._previousScrollPosition.left),e.style.top=Fn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Zc&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Zc&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class m_{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class __{enable(){}disable(){}attach(){}}function Pl(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Kc(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Sp{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Pl(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Yc=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new __,this.close=u=>new m_(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new kl(this._viewportRuler,this._document),this.reposition=u=>new Sp(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yh),d.LFG(Rl),d.LFG(d.R0b),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Eh{constructor(e){if(this.scrollStrategy=new __,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class v_{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class w_{constructor(e,t,r,i,a,u,f,_,w){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._backdropElement=null,this._backdropClick=new rn.x,this._attachments=new rn.x,this._detachments=new rn.x,this._locationChanges=si.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._keydownEvents=new rn.x,this._outsidePointerEvents=new rn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,js.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Fn(this._config.width),e.height=Fn(this._config.height),e.minWidth=Fn(this._config.minWidth),e.minHeight=Fn(this._config.minHeight),e.maxWidth=Fn(this._config.maxWidth),e.maxHeight=Fn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Fs(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(ls((0,wh.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let Hs=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Fa()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Fa()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(yr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nl="cdk-overlay-connected-position-bounding-box",E_=/([A-Za-z%]+)$/;class Ap{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new rn.x,this._resizeSubscription=si.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Nl),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=[];let a;for(let u of this._preferredPositions){let f=this._getOriginPoint(e,u),_=this._getOverlayPoint(f,t,u),w=this._getOverlayFit(_,t,r,u);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,f);this._canFitWithFlexibleDimensions(w,_,r)?i.push({position:u,origin:f,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(f,u)}):(!a||a.overlayFit.visibleArea<w.visibleArea)&&(a={overlayFit:w,overlayPoint:_,originPoint:f,position:u,overlayRect:t})}if(i.length){let u=null,f=-1;for(const _ of i){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>f&&(f=w,u=_)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Nl),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,i;if("center"==t.originX)r=e.left+e.width/2;else{const a=this._isRtl()?e.right:e.left,u=this._isRtl()?e.left:e.right;r="start"==t.originX?a:u}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:i}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=C_(t);let{x:u,y:f}=e,_=this._getOffset(i,"x"),w=this._getOffset(i,"y");_&&(u+=_),w&&(f+=w);let L=0-f,B=f+a.height-r.height,q=this._subtractOverflows(a.width,0-u,u+a.width-r.width),le=this._subtractOverflows(a.height,L,B),Ee=q*le;return{visibleArea:Ee,isCompletelyWithinViewport:a.width*a.height===Ee,fitsInViewportVertically:le===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=Ch(this._overlayRef.getConfig().minHeight),f=Ch(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=i)&&w}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=C_(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),w=Math.max(a.left-r.left-e.x,0);let I=0,x=0;return I=i.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:I,y:x},{x:e.x+I,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new v_(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,f,I,x,L;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const B=Math.min(r.bottom-e.y+r.top,e.y),q=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)L=r.width-e.x+this._viewportMargin,I=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,I=r.right-e.x;else{const B=Math.min(r.right-e.x+r.left,e.x),q=this._lastBoundingBoxSize.width;I=2*B,x=e.x-B,I>q&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-q/2)}return{top:u,left:x,bottom:f,right:L,width:I,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=Fn(r.height),i.top=Fn(r.top),i.bottom=Fn(r.bottom),i.width=Fn(r.width),i.left=Fn(r.left),i.right=Fn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Fn(a)),u&&(i.maxWidth=Fn(u))}this._lastBoundingBoxSize=r,Fl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Fl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const I=this._viewportRuler.getViewportScrollPosition();Fl(r,this._getExactOverlayY(t,e,I)),Fl(r,this._getExactOverlayX(t,e,I))}else r.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=Fn(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=Fn(u.maxWidth):a&&(r.maxWidth="")),Fl(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let u=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=u,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Fn(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Fn(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Kc(e,r),isOriginOutsideView:Pl(e,r),isOverlayClipped:Kc(t,r),isOverlayOutsideView:Pl(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Fs(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof d.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Fl(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ch(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(E_);return t&&"px"!==t?null:parseFloat(e)}return n||null}function C_(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Mp="cdk-global-overlay-wrapper";class xp{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Mp),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:f}=r,_=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(Mp),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Dh=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new xp}flexibleConnectedTo(t){return new Ap(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Rl),d.LFG(se),d.LFG(yr),d.LFG(Hs))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Op=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rp=(()=>{class n extends Op{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kp=(()=>{class n extends Op{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ti(i)},this._clickListener=i=>{const a=Ti(i),u="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let _=f.length-1;_>-1;_--){const w=f[_];if(!(w._outsidePointerEvents.observers.length<1)&&w.hasAttached()){if(w.overlayElement.contains(a)||w.overlayElement.contains(u))break;w._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(yr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n0=0,Qc=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,x,L){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=I,this._location=x,this._outsideClickDispatcher=L}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new Eh(t);return u.direction=u.direction||this._directionality.value,new w_(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+n0++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new bh(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Yc),d.LFG(Hs),d.LFG(d._Vd),d.LFG(Dh),d.LFG(Rp),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(se),d.LFG(Ml),d.LFG(je),d.LFG(kp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Xc={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Qc],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let Np=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Qc,Xc],imports:[[Ui,Wc,ee],ee]}),n})();class us extends rn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Ba=P(4671);function D0(n,e=Ba.y){return n=null!=n?n:I0,(0,Zn.e)((t,r)=>{let i,a=!0;t.subscribe(new ar.Q(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}function I0(n,e){return n===e}let S0=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Oh(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=Oh(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||X_(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yr))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X_(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Oh(n){if(!X_(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ey{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,js.q)(1)).subscribe(e)}}let Ua=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new ey(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(S0),d.LFG(d.R0b),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ty=new d.OlP("cdk-input-modality-detector-options"),ny={ignoreKeys:[18,17,224,91,16]},Rh=Pu({passive:!0,capture:!0});let CI=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new us(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(w=>w===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ti(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function(n){return 0===n.offsetX&&0===n.offsetY}(u)?"keyboard":"mouse"),this._mostRecentTarget=Ti(u))},this._onTouchstart=u=>{!function(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(u)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ti(u)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},ny),a),this.modalityDetected=this._modality.pipe(On((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(D0()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Rh),i.addEventListener("mousedown",this._onMousedown,Rh),i.addEventListener("touchstart",this._onTouchstart,Rh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rh),document.removeEventListener("mousedown",this._onMousedown,Rh),document.removeEventListener("touchstart",this._onTouchstart,Rh))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yr),d.LFG(d.R0b),d.LFG(se),d.LFG(ty,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TI=new d.OlP("cdk-focus-monitor-default-options"),ry=Pu({passive:!0,capture:!0});let P0=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new rn.x,this._rootNodeFocusAndBlurListener=f=>{const _=Ti(f),w="focus"===f.type?this._onFocus:this._onBlur;for(let I=_;I;I=I.parentElement)w.call(this,f,I)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=mr(t);if(!this._platform.isBrowser||1!==i.nodeType)return Qe(null);const a=function(n){if(function(){if(null==vr){const n="undefined"!=typeof document?document.head:null;vr=!(!n||!n.createShadowRoot&&!n.attachShadow)}return vr}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new rn.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=mr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=mr(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Ti(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ry),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ry)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ls(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ry),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ry),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(yr),d.LFG(CI),d.LFG(se,8),d.LFG(TI,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const N0="cdk-high-contrast-black-on-white",tg="cdk-high-contrast-white-on-black",F0="cdk-high-contrast-active";let Hx=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(F0),t.remove(N0),t.remove(tg),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(F0),t.add(N0)):2===r&&(t.add(F0),t.add(tg))}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yr),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L0=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let cs=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Fa()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hx),d.LFG(L0,8),d.LFG(se))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Ui],Ui]}),n})();function B0(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function xI(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new rn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let sg=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cs,xr],cs]}),n})();function ag(n){return new Hn.y(e=>{(0,bi.Xf)(n()).subscribe(e)})}var lg=P(8189);function Fh(...n){return(0,lg.J)(1)((0,dn.D)(n,(0,_r.yG)(n)))}function Vl(...n){const e=(0,_r.yG)(n);return(0,Zn.e)((t,r)=>{(e?Fh(n,t,e):Fh(n,t)).subscribe(r)})}class W0{}const ea="*";function Z0(n,e){return{type:7,name:n,definitions:e,options:{}}}function sy(n,e=null){return{type:4,styles:e,timings:n}}function ug(n,e=null){return{type:2,steps:n,options:e}}function Bl(n){return{type:6,styles:n,offset:null}}function oy(n,e,t){return{type:0,name:n,styles:e,options:t}}function Lh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Q0(n){Promise.resolve(null).then(n)}class Ul{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Q0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class GI{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Q0(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function uy(){return"undefined"!=typeof window&&void 0!==window.document}function cg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ja(n){switch(n.length){case 0:return new Ul;case 1:return n[0];default:return new GI(n)}}function cy(n,e,t,r,i={},a={}){const u=[],f=[];let _=-1,w=null;if(r.forEach(I=>{const x=I.offset,L=x==_,B=L&&w||{};Object.keys(I).forEach(q=>{let le=q,Ee=I[q];if("offset"!==q)switch(le=e.normalizePropertyName(le,u),Ee){case"!":Ee=i[q];break;case ea:Ee=a[q];break;default:Ee=e.normalizeStyleValue(q,le,Ee,u)}B[le]=Ee}),L||f.push(B),w=B,_=x}),u.length){const I="\n - ";throw new Error(`Unable to animate due to the following errors:${I}${u.join(I)}`)}return f}function dg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vo(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vo(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vo(t,"destroy",n)))}}function vo(n,e,t){const r=t.totalTime,a=dd(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function dd(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function hs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function J0(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let X0=(n,e)=>!1,hg=(n,e,t)=>[];(cg()||"undefined"!=typeof Element)&&(X0=uy()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),hg=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let a=0;a<i.length;a++)r.push(i[a])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let bo=null,ew=!1;function Vh(n){bo||(bo=("undefined"!=typeof document?document.body:null)||{},ew=!!bo.style&&"WebkitAppearance"in bo.style);let e=!0;return bo.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bo.style,!e&&ew&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in bo.style)),e}const fg=X0,pg=hg;function nw(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let gg=(()=>{class n{validateStyleProperty(t){return Vh(t)}matchesElement(t,r){return!1}containsElement(t,r){return fg(t,r)}query(t,r,i){return pg(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,f=[],_){return new Ul(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),hy=(()=>{class n{}return n.NOOP=new gg,n})();const mg="ng-enter",_g="ng-leave",yg="ng-trigger",Ha=".ng-trigger",rw="ng-animating",py=".ng-animating";function $u(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gy(parseFloat(e[1]),e[2])}function gy(n,e){return"s"===e?1e3*n:n}function Ai(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=gy(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=gy(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(_,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:a,easing:u}}(n,e,t)}function Gu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $a(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Gu(n,t);return t}function yy(n,e,t){return t?e+":"+t+";":""}function iw(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=yy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=yy(0,by(t),n.style[t]));n.setAttribute("style",e)}function ta(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=aw(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),cg()&&iw(n))}function zu(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=aw(t);n.style[r]=""}),cg()&&iw(n))}function Bh(n){return Array.isArray(n)?1==n.length?n[0]:ug(n):n}const ow=new RegExp("{{\\s*(.+?)\\s*}}","g");function vy(n){let e=[];if("string"==typeof n){let t;for(;t=ow.exec(n);)e.push(t[1]);ow.lastIndex=0}return e}function vg(n,e,t){const r=n.toString(),i=r.replace(ow,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(`Please provide a value for the animation param ${u}`),f=""),f.toString()});return i==r?n:i}function bg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const uO=/-+([a-z0-9])/g;function aw(n){return n.replace(uO,(...e)=>e[1].toUpperCase())}function by(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function lw(n,e){return 0===n||0===e}function wy(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],u=[];if(r.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(_){f[_]=uw(n,_)})}}return e}function Gi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function uw(n,e){return window.getComputedStyle(n)[e]}function cO(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const _=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],a=r[2],u=r[3];e.push(dw(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(dw(u,i))}(r,t,e)):t.push(n),t}const Uh=new Set(["true","1"]),jh=new Set(["false","0"]);function dw(n,e){const t=Uh.has(n)||jh.has(n),r=Uh.has(e)||jh.has(e);return(i,a)=>{let u="*"==n||n==i,f="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?Uh.has(n):jh.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?Uh.has(e):jh.has(e)),u&&f}}const hw=new RegExp("s*:selfs*,?","g");function Hh(n,e,t){return new Ey(n).build(e,t)}class Ey{constructor(e){this._driver=e}build(e,t){const r=new YI(t);return this._resetContextStyleTimingState(r),Gi(this,Bh(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,u.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};if(r.styles.forEach(f=>{if(wg(f)){const _=f;Object.keys(_).forEach(w=>{vy(_[w]).forEach(I=>{u.hasOwnProperty(I)||a.add(I)})})}}),a.size){const f=bg(a.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Gi(this,Bh(e.animation),t);return{type:1,matchers:cO(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:na(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Gi(this,r,t)),options:na(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const f=Gi(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:na(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return jl(Ai(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=jl(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||Ai(r,e),jl(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Bl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};r.easing&&(w.easing=r.easing),u=Bl(w)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==ea?r.push(u):t.errors.push(`The provided style string value ${u} is not allowed.`):r.push(u)}):r.push(e.styles);let i=!1,a=null;return r.forEach(u=>{if(wg(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!i)for(let w in f)if(f[w].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],w=_[f];let I=!0;w&&(a!=i&&a>=w.startTime&&i<=w.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${w.startTime}ms" and "${w.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${i}ms"`),I=!1),a=w.startTime),I&&(_[f]={startTime:a,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=vy(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let a=0;const u=[];let f=!1,_=!1,w=0;const I=e.steps.map(Ue=>{const st=this._makeStyleAst(Ue,t);let lt=null!=st.offset?st.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(wg(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(wg(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(st.styles),nt=0;return null!=lt&&(a++,nt=st.offset=lt),_=_||nt<0||nt>1,f=f||nt<w,w=nt,u.push(nt),st});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const x=e.steps.length;let L=0;a>0&&a<x?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(L=1/(x-1));const B=x-1,q=t.currentTime,le=t.currentAnimateTimings,Ee=le.duration;return I.forEach((Ue,st)=>{const lt=L>0?st==B?1:L*st:u[st],nt=lt*Ee;t.currentTime=q+le.delay+nt,le.duration=nt,this._validateStyleAst(Ue,t),Ue.offset=lt,r.styles.push(Ue)}),r}visitReference(e,t){return{type:8,animation:Gi(this,Bh(e.animation),t),options:na(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:na(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:na(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(hw,"")),n=n.replace(/@\*/g,Ha).replace(/@\w+/g,t=>Ha+"-"+t.substr(1)).replace(/:animating/g,py),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,hs(t.collectedStyles,t.currentQuerySelector,{});const f=Gi(this,Bh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:na(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ai(e.timings,t.errors,!0);return{type:12,animation:Gi(this,Bh(e.animation),t),timings:r,options:null}}}class YI{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wg(n){return!Array.isArray(n)&&"object"==typeof n}function na(n){return n?(n=Gu(n)).params&&(n.params=function(n){return n?Gu(n):null}(n.params)):n={},n}function jl(n,e,t){return{duration:n,delay:e,easing:t}}function Cy(n,e,t,r,i,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:f}}class Hl{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dy=new RegExp(":enter","g"),$h=new RegExp(":leave","g");function Or(n,e,t,r,i,a={},u={},f,_,w=[]){return(new qu).buildKeyframes(n,e,t,r,i,a,u,f,_,w)}class qu{buildKeyframes(e,t,r,i,a,u,f,_,w,I=[]){w=w||new Hl;const x=new qi(e,t,w,i,a,I,[]);x.options=_,x.currentTimeline.setStyles([u],null,x.errors,_),Gi(this,r,x);const L=x.timelines.filter(B=>B.containsAnimation());if(L.length&&Object.keys(f).length){const B=L[L.length-1];B.allowOnlyTimelineStyles()||B.setStyles([f],null,x.errors,_)}return L.length?L.map(B=>B.buildKeyframes()):[Cy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?$u(r.duration):null,f=null!=r.delay?$u(r.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Gi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wu);const u=$u(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Gi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?$u(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Gi(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ai(t.params?vg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?$u(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wu);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,I)=>{t.currentQueryIndex=I;const x=t.createSubContext(e.options,w);a&&x.delayNextStep(a),w===t.element&&(_=x.currentTimeline),Gi(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const x=I.currentTime;Gi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const Wu={};class qi{constructor(e,t,r,i,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new fd(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$u(r.duration)),null!=r.delay&&(i.delay=$u(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=vg(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new qi(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Wu,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new pd(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Dy,"."+this._enterClassName)).replace($h,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=r);0!==r&&(w=r<0?w.slice(w.length+r,w.length):w.slice(0,r)),f.push(...w)}return!a&&0==f.length&&u.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class fd{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new fd(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ea,this._currentKeyframe[t]=ea}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=ea})):$a(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=vg(u[f],a,r);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:ea),this._updateStyle(f,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const w=$a(f,!0);Object.keys(w).forEach(I=>{const x=w[I];"!"==x?e.add(I):x==ea&&t.add(I)}),r||(w.offset=_/this.duration),i.push(w)});const a=e.size?bg(e.values()):[],u=t.size?bg(t.values()):[];if(r){const f=i[0],_=Gu(f);f.offset=0,_.offset=1,i=[f,_]}return Cy(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class pd extends fd{constructor(e,t,r,i,a,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,f=t/u,_=$a(e[0],!1);_.offset=0,a.push(_);const w=$a(e[0],!1);w.offset=Zu(f),a.push(w);const I=e.length-1;for(let x=1;x<=I;x++){let L=$a(e[x],!1);L.offset=Zu((t+L.offset*r)/u),a.push(L)}r=u,t=0,i="",e=a}return Cy(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Zu(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class $l{}class md extends $l{normalizePropertyName(e,t){return aw(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(_d[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return u+a}}const _d=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Iy(n,e,t,r,i,a,u,f,_,w,I,x,L){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:x,errors:L}}const Eg={};class Ty{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):u}build(e,t,r,i,a,u,f,_,w,I){const x=[],L=this.ast.options&&this.ast.options.params||Eg,q=this.buildStyles(r,f&&f.params||Eg,x),le=_&&_.params||Eg,Ee=this.buildStyles(i,le,x),Ue=new Set,st=new Map,lt=new Map,nt="void"===i,xt={params:Object.assign(Object.assign({},L),le)},jt=I?[]:Or(e,t,this.ast.animation,a,u,q,Ee,xt,w,x);let hn=0;if(jt.forEach(Dc=>{hn=Math.max(Dc.duration+Dc.delay,hn)}),x.length)return Iy(t,this._triggerName,r,i,nt,q,Ee,[],[],st,lt,hn,x);jt.forEach(Dc=>{const Ic=Dc.element,aF=hs(st,Ic,{});Dc.preStyleProps.forEach(pp=>aF[pp]=!0);const Kb=hs(lt,Ic,{});Dc.postStyleProps.forEach(pp=>Kb[pp]=!0),Ic!==t&&Ue.add(Ic)});const Cs=bg(Ue.values());return Iy(t,this._triggerName,r,i,nt,q,Ee,jt,Cs,st,lt,hn)}}class gw{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Gu(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=vg(_,i,t));const w=this.normalizer.normalizePropertyName(f,t);_=this.normalizer.normalizeStyleValue(f,w,_,t),r[w]=_})}}),r}}class _w{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new gw(i.style,i.options&&i.options.params||{},r)}),Sy(this.states,"true","1"),Sy(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ty(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new Ty(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Sy(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const tT=new Hl;class vw{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=Hh(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=cy(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let u;const f=new Map;if(a?(u=Or(this._driver,t,a,mg,_g,{},{},r,tT,i),u.forEach(I=>{const x=hs(f,I.element,{});I.postStyleProps.forEach(L=>x[L]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),u=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((I,x)=>{Object.keys(I).forEach(L=>{I[L]=this._driver.computeStyle(x,L,ea)})});const w=ja(u.map(I=>{const x=f.get(I.element);return this._buildPlayer(I,{},x)}));return this._playersById[e]=w,w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const a=dd(t,"","","");return dg(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const bw="ng-animate-queued",Cg="ng-animate-disabled",sT=[],Ay={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$s="__ng_removed";class Ew{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const a=Gu(e);delete a.value,this.options=a}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const qh="void",Wh=new Ew(qh);class My{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const a=hs(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const f=hs(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Gs(e,yg),Gs(e,yg+"-"+t),f[t]=Wh),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Cw(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Gs(e,yg),Gs(e,yg+"-"+t),this._engine.statesByElement.set(e,f={}));let _=f[t];const w=new Ew(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f[t]=w,_||(_=Wh),w.value!==qh&&_.value===w.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const le=[],Ee=a.matchStyles(_.value,_.params,le),Ue=a.matchStyles(w.value,w.params,le);le.length?this._engine.reportError(le):this._engine.afterFlush(()=>{zu(e,Ee),ta(e,Ue)})}return}const L=hs(this._engine.playersByElement,e,[]);L.forEach(le=>{le.namespaceId==this.id&&le.triggerName==t&&le.queued&&le.destroy()});let B=a.matchTransition(_.value,w.value,e,w.params),q=!1;if(!B){if(!i)return;B=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:_,toState:w,player:u,isFallbackTransition:q}),q||(Gs(e,bw),u.onStart(()=>{Yu(e,bw)})),u.onDone(()=>{let le=this.players.indexOf(u);le>=0&&this.players.splice(le,1);const Ee=this._engine.playersByElement.get(e);if(Ee){let Ue=Ee.indexOf(u);Ue>=0&&Ee.splice(Ue,1)}}),this.players.push(u),L.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ha,!0);r.forEach(i=>{if(i[$s])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e);if(a){const u=[];if(Object.keys(a).forEach(f=>{if(this._triggers[f]){const _=this.trigger(e,f,qh,i);_&&u.push(_)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&ja(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const _=this._triggers[u].fallbackTransition,w=r[u]||Wh,I=new Ew(qh),x=new Cw(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:I,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[$s];(!a||a===Ay)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Gs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==r.triggerName){const _=dd(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,dg(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class aT{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new My(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(Dg(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Dg(t))return;const a=t[$s];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gs(e,Cg)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Yu(e,Cg))}removeNode(e,t,r,i){if(Dg(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[$s]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,a){return Dg(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Ha,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,py,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ja(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[$s];if(r&&r.setForRemoval){if(e[$s]=Ay,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Cg))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Gs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ja(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Hl,i=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(ut=>{I.add(ut);const wt=this.driver.query(ut,".ng-animate-queued",!0);for(let Pt=0;Pt<wt.length;Pt++)I.add(wt[Pt])});const x=this.bodyNode,L=Array.from(this.statesByElement.keys()),B=Ku(L,this.collectedEnterElements),q=new Map;let le=0;B.forEach((ut,wt)=>{const Pt=mg+le++;q.set(wt,Pt),ut.forEach(cn=>Gs(cn,Pt))});const Ee=[],Ue=new Set,st=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const wt=this.collectedLeaveElements[ut],Pt=wt[$s];Pt&&Pt.setForRemoval&&(Ee.push(wt),Ue.add(wt),Pt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(cn=>Ue.add(cn)):st.add(wt))}const lt=new Map,nt=Ku(L,Array.from(Ue));nt.forEach((ut,wt)=>{const Pt=_g+le++;lt.set(wt,Pt),ut.forEach(cn=>Gs(cn,Pt))}),e.push(()=>{B.forEach((ut,wt)=>{const Pt=q.get(wt);ut.forEach(cn=>Yu(cn,Pt))}),nt.forEach((ut,wt)=>{const Pt=lt.get(wt);ut.forEach(cn=>Yu(cn,Pt))}),Ee.forEach(ut=>{this.processLeaveNode(ut)})});const xt=[],jt=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(Pt=>{const cn=Pt.player,fi=Pt.element;if(xt.push(cn),this.collectedEnterElements.length){const pa=fi[$s];if(pa&&pa.setForMove)return void cn.destroy()}const lu=!x||!this.driver.containsElement(x,fi),Do=lt.get(fi),ah=q.get(fi),Xn=this._buildInstruction(Pt,r,ah,Do,lu);if(Xn.errors&&Xn.errors.length)return void jt.push(Xn);if(lu)return cn.onStart(()=>zu(fi,Xn.fromStyles)),cn.onDestroy(()=>ta(fi,Xn.toStyles)),void i.push(cn);if(Pt.isFallbackTransition)return cn.onStart(()=>zu(fi,Xn.fromStyles)),cn.onDestroy(()=>ta(fi,Xn.toStyles)),void i.push(cn);const cF=[];Xn.timelines.forEach(pa=>{pa.stretchStartingKeyframe=!0,this.disabledNodes.has(pa.element)||cF.push(pa)}),Xn.timelines=cF,r.append(fi,Xn.timelines),u.push({instruction:Xn,player:cn,element:fi}),Xn.queriedElements.forEach(pa=>hs(f,pa,[]).push(cn)),Xn.preStyleProps.forEach((pa,Yb)=>{const KD=Object.keys(pa);if(KD.length){let gp=_.get(Yb);gp||_.set(Yb,gp=new Set),KD.forEach(Sx=>gp.add(Sx))}}),Xn.postStyleProps.forEach((pa,Yb)=>{const KD=Object.keys(pa);let gp=w.get(Yb);gp||w.set(Yb,gp=new Set),KD.forEach(Sx=>gp.add(Sx))})});if(jt.length){const ut=[];jt.forEach(wt=>{ut.push(`@${wt.triggerName} has failed due to:\n`),wt.errors.forEach(Pt=>ut.push(`- ${Pt}\n`))}),xt.forEach(wt=>wt.destroy()),this.reportError(ut)}const hn=new Map,Cs=new Map;u.forEach(ut=>{const wt=ut.element;r.has(wt)&&(Cs.set(wt,wt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,hn))}),i.forEach(ut=>{const wt=ut.element;this._getPreviousPlayers(wt,!1,ut.namespaceId,ut.triggerName,null).forEach(cn=>{hs(hn,wt,[]).push(cn),cn.destroy()})});const Dc=Ee.filter(ut=>xy(ut,_,w)),Ic=new Map;Iw(Ic,this.driver,st,w,ea).forEach(ut=>{xy(ut,_,w)&&Dc.push(ut)});const Kb=new Map;B.forEach((ut,wt)=>{Iw(Kb,this.driver,new Set(ut),_,"!")}),Dc.forEach(ut=>{const wt=Ic.get(ut),Pt=Kb.get(ut);Ic.set(ut,Object.assign(Object.assign({},wt),Pt))});const pp=[],lF=[],uF={};u.forEach(ut=>{const{element:wt,player:Pt,instruction:cn}=ut;if(r.has(wt)){if(I.has(wt))return Pt.onDestroy(()=>ta(wt,cn.toStyles)),Pt.disabled=!0,Pt.overrideTotalTime(cn.totalTime),void i.push(Pt);let fi=uF;if(Cs.size>1){let Do=wt;const ah=[];for(;Do=Do.parentNode;){const Xn=Cs.get(Do);if(Xn){fi=Xn;break}ah.push(Do)}ah.forEach(Xn=>Cs.set(Xn,fi))}const lu=this._buildAnimation(Pt.namespaceId,cn,hn,a,Kb,Ic);if(Pt.setRealPlayer(lu),fi===uF)pp.push(Pt);else{const Do=this.playersByElement.get(fi);Do&&Do.length&&(Pt.parentPlayer=ja(Do)),i.push(Pt)}}else zu(wt,cn.fromStyles),Pt.onDestroy(()=>ta(wt,cn.toStyles)),lF.push(Pt),I.has(wt)&&i.push(Pt)}),lF.forEach(ut=>{const wt=a.get(ut.element);if(wt&&wt.length){const Pt=ja(wt);ut.setRealPlayer(Pt)}}),i.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Ee.length;ut++){const wt=Ee[ut],Pt=wt[$s];if(Yu(wt,_g),Pt&&Pt.hasAnimation)continue;let cn=[];if(f.size){let lu=f.get(wt);lu&&lu.length&&cn.push(...lu);let Do=this.driver.query(wt,py,!0);for(let ah=0;ah<Do.length;ah++){let Xn=f.get(Do[ah]);Xn&&Xn.length&&cn.push(...Xn)}}const fi=cn.filter(lu=>!lu.destroyed);fi.length?uT(this,wt,fi):this.processLeaveNode(wt)}return Ee.length=0,pp.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const wt=this.players.indexOf(ut);this.players.splice(wt,1)}),ut.play()}),pp}elementContainsData(e,t){let r=!1;const i=t[$s];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==qh;f.forEach(w=>{w.queued||!_&&w.triggerName!=i||u.push(w)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,I=w!==a,x=hs(r,w,[]);this._getPreviousPlayers(w,I,u,f,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),x.push(B)})}zu(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const f=t.triggerName,_=t.element,w=[],I=new Set,x=new Set,L=t.timelines.map(q=>{const le=q.element;I.add(le);const Ee=le[$s];if(Ee&&Ee.removedBeforeQueried)return new Ul(q.duration,q.delay);const Ue=le!==_,st=function(n){const e=[];return Zh(n,e),e}((r.get(le)||sT).map(hn=>hn.getRealPlayer())).filter(hn=>!!hn.element&&hn.element===le),lt=a.get(le),nt=u.get(le),xt=cy(0,this._normalizer,0,q.keyframes,lt,nt),jt=this._buildPlayer(q,xt,st);if(q.subTimeline&&i&&x.add(le),Ue){const hn=new Cw(e,f,le);hn.setRealPlayer(jt),w.push(hn)}return jt});w.forEach(q=>{hs(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,q.element,q))}),I.forEach(q=>Gs(q,rw));const B=ja(L);return B.onDestroy(()=>{I.forEach(q=>Yu(q,rw)),ta(_,t.toStyles)}),x.forEach(q=>{hs(i,q,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Ul(e.duration,e.delay)}}class Cw{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Ul,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>dg(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Dg(n){return n&&1===n.nodeType}function lT(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Iw(n,e,t,r,i){const a=[];t.forEach(_=>a.push(lT(_)));const u=[];r.forEach((_,w)=>{const I={};_.forEach(x=>{const L=I[x]=e.computeStyle(w,x,i);(!L||0==L.length)&&(w[$s]=oT,u.push(w))}),n.set(w,I)});let f=0;return t.forEach(_=>lT(_,a[f++])),u}function Ku(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:i.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function Gs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Yu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function uT(n,e,t){ja(t).onDone(()=>n.processLeaveNode(e))}function Zh(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof GI?Zh(r.players,e):e.push(r)}}function xy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Ig{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new aT(e,t,r),this._timelineEngine=new vw(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const _=[],w=Hh(this._driver,a,_);if(_.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);f=function(n,e,t){return new _w(n,e,t)}(i,w,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=J0(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,f]=J0(r);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Sw(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Oy(e[0]),e.length>1&&(r=Oy(e[e.length-1]))):e&&(t=Oy(e)),t||r?new dT(n,t,r):null}let dT=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ta(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ta(this._element,this._initialStyles),this._endStyles&&(ta(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zu(this._element,this._endStyles),this._endStyles=null),ta(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Oy(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];hT(i)&&(e=e||{},e[i]=n[i])}return e}function hT(n){return"display"===n||"position"===n}const Mw="animation",Ry="animationend";class ky{constructor(e,t,r,i,a,u,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=a,this._fillMode=u,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_=>this._handleCallback(_)}apply(){(function(n,e){const t=Kh(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),vd(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ny(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){fT(this._element,this._name,"paused")}resume(){fT(this._element,this._name,"running")}setPosition(e){const t=gT(this._element,this._name);this._position=e*this._duration,vd(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ny(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=Kh(n,"").split(","),i=Qu(r,e);i>=0&&(r.splice(i,1),vd(n,"",r.join(",")))}(this._element,this._name))}}function fT(n,e,t){vd(n,"PlayState",t,gT(n,e))}function gT(n,e){const t=Kh(n,"");return t.indexOf(",")>0?Qu(t.split(","),e):Qu([t],e)}function Qu(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function Ny(n,e,t){t?n.removeEventListener(Ry,e):n.addEventListener(Ry,e)}function vd(n,e,t,r){const i=Mw+e;if(null!=r){const a=n.style[i];if(a.length){const u=a.split(",");u[r]=t,t=u.join(",")}}n.style[i]=t}function Kh(n,e){return n.style[Mw+e]||""}class Vy{constructor(e,t,r,i,a,u,f,_){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=f,this._specialStyles=_,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=i+a,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ky(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:uw(this.element,r))})}this.currentSnapshot=e}}class pO extends Ul{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=nw(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Sg{constructor(){this._count=0}validateStyleProperty(e){return Vh(e)}matchesElement(e,t){return!1}containsElement(e,t){return fg(e,t)}query(e,t,r){return pg(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>nw(f));let i=`@keyframes ${t} {\n`,a="";r.forEach(f=>{a=" ";const _=parseFloat(f.offset);i+=`${a}${100*_}% {\n`,a+=" ",Object.keys(f).forEach(w=>{const I=f[w];switch(w){case"offset":return;case"easing":return void(I&&(i+=`${a}animation-timing-function: ${I};\n`));default:return void(i+=`${a}${w}: ${I};\n`)}}),i+=`${a}}\n`}),i+="}\n";const u=document.createElement("style");return u.textContent=i,u}animate(e,t,r,i,a,u=[],f){const _=u.filter(Ee=>Ee instanceof Vy),w={};lw(r,i)&&_.forEach(Ee=>{let Ue=Ee.currentSnapshot;Object.keys(Ue).forEach(st=>w[st]=Ue[st])});const I=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=wy(e,t,w));if(0==r)return new pO(e,I);const x="gen_css_kf_"+this._count++,L=this.buildKeyframeElement(e,x,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(L);const q=Sw(e,t),le=new Vy(e,t,x,r,i,a,I,q);return le.onDestroy(()=>{var n;(n=L).parentNode.removeChild(n)}),le}}class Ag{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:uw(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jy{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hy().toString()),this._cssKeyframesDriver=new Sg}validateStyleProperty(e){return Vh(e)}matchesElement(e,t){return!1}containsElement(e,t){return fg(e,t)}query(e,t,r){return pg(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,a,u=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,a,u);const I={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(I.easing=a);const x={},L=u.filter(q=>q instanceof Ag);lw(r,i)&&L.forEach(q=>{let le=q.currentSnapshot;Object.keys(le).forEach(Ee=>x[Ee]=le[Ee])});const B=Sw(e,t=wy(e,t=t.map(q=>$a(q,!1)),x));return new Ag(e,t,I,B)}}function Hy(){return uy()&&Element.prototype.animate||{}}let Rw=(()=>{class n extends W0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ug(t):t;return Pw(this._renderer,null,r,"register",[i]),new $y(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class $y extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new kw(this._id,e,t||{},this._renderer)}}class kw{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Pw(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Gy="@.disabled";let Nw=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let I=this._rendererCache.get(a);return I||(I=new Mg("",a,this.engine),this._rendererCache.set(a,I)),I}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,f,t,I.name,I)};return r.data.animation.forEach(_),new Fw(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(Ig),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Mg{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Gy?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Fw extends Mg{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Gy?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let Bw=(()=>{class n extends Ig{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(hy),d.LFG($l))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const bd=new d.OlP("AnimationModuleType"),wT=[{provide:W0,useClass:Rw},{provide:$l,useFactory:function(){return new md}},{provide:Ig,useClass:Bw},{provide:d.FYo,useFactory:function(n,e,t){return new Nw(n,e,t)},deps:[Li,Ig,d.R0b]}],$w=[{provide:hy,useFactory:function(){return"function"==typeof Hy()?new jy:new Sg}},{provide:bd,useValue:"BrowserAnimations"},...wT],ET=[{provide:hy,useClass:gg},{provide:bd,useValue:"NoopAnimations"},...wT];let Gw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ET:$w}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:$w,imports:[Bo]}),n})();function br(n,e){}class xg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const CT={dialogContainer:Z0("dialogContainer",[oy("void, exit",Bl({opacity:0,transform:"scale(0.7)"})),oy("enter",Bl({transform:"none"})),Lh("* => enter",sy("150ms cubic-bezier(0, 0, 0.2, 1)",Bl({transform:"none",opacity:1}))),Lh("* => void, * => exit",sy("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Bl({opacity:0})))])};let zw=(()=>{class n extends as{constructor(t,r,i,a,u,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=u,this._interactivityChecker=f,this._ngZone=_,this._focusMonitor=w,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(I)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Wo(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Wo())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Wo();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Ua),d.Y36(d.sBO),d.Y36(se,8),d.Y36(xg),d.Y36(S0),d.Y36(d.R0b),d.Y36(P0))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,r){if(1&t&&d.Gf(Yo,7),2&t){let i;d.iGM(i=d.CRH())&&(r._portalOutlet=i.first)}},features:[d.qOj]}),n})(),DT=(()=>{class n extends zw{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&d.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(d.Ikx("id",r._id),d.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),d.d8E("@dialogContainer",r._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&d.YNc(0,br,0,0,"ng-template",0)},directives:[Yo],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[CT.dialogContainer]}}),n})(),qw=0;class Ww{constructor(e,t,r="mat-dialog-"+qw++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new rn.x,this._afterClosed=new rn.x,this._beforeClosed=new rn.x,this._state=0,t._id=r,t._animationStateChanged.pipe(On(i=>"opened"===i.state),(0,js.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(On(i=>"closed"===i.state),(0,js.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(On(i=>27===i.keyCode&&!this.disableClose&&!function(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),Ju(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ju(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(On(t=>"closing"===t.state),(0,js.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ju(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const IT=new d.OlP("MatDialogData"),TT=new d.OlP("mat-dialog-default-options"),zy=new d.OlP("mat-dialog-scroll-strategy"),yO={provide:zy,deps:[Qc],useFactory:function(n){return()=>n.scrollStrategies.block()}};let Kw=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,x){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=I,this._animationMode=x,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new rn.x,this._afterOpenedAtThisLevel=new rn.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=ag(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vl(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new xg),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),a=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const f=a._animationStateChanged.subscribe(_=>{"opening"===_.state&&(this._dialogAnimatingOpen=!0),"opened"===_.state&&(this._dialogAnimatingOpen=!1,f.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new si.w0),this._animationStateSubscriptions.add(f)}const u=this._attachDialogContent(t,a,i,r);return this._lastDialogRef=u,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),a._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new Eh({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=d.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:xg,useValue:r}]}),u=new Rn(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,a){const u=new this._dialogRefConstructor(i,r,a.id);if(t instanceof d.Rgc)r.attachTemplatePortal(new ur(t,null,{$implicit:a.data,dialogRef:u}));else{const f=this._createInjector(a,u,r),_=r.attachComponentPortal(new Rn(t,a.viewContainerRef,f));u.componentInstance=_.instance}return u.updateSize(a.width,a.height).updatePosition(a.position),u}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Ml,null,d.XFs.Optional))&&u.push({provide:Ml,useValue:{value:t.direction,change:Qe()}}),d.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275dir=d.lG2({type:n}),n})(),Og=(()=>{class n extends Kw{constructor(t,r,i,a,u,f,_,w){super(t,r,a,f,_,u,Ww,DT,IT,w)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Qc),d.LFG(d.zs3),d.LFG(je,8),d.LFG(TT,8),d.LFG(zy),d.LFG(n,12),d.LFG(Hs),d.LFG(bd,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Og,yO],imports:[[Np,Wc,cs],cs]}),n})();var Kr=P(5813);function qy(){return(0,Zn.e)((n,e)=>{let t,r=!1;n.subscribe(new ar.Q(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function AT(n,e,t,r,i){return(a,u)=>{let f=t,_=e,w=0;a.subscribe(new ar.Q(u,I=>{const x=w++;_=f?n(_,I,x):(f=!0,I),r&&u.next(_)},i&&(()=>{f&&u.next(_),u.complete()})))}}function Qh(n,e){return(0,Zn.e)(AT(n,e,arguments.length>=2,!0))}var rt,fs=P(2011),MT=(P(1451),P(3942)),we=P(5861),Xu=P(9681),Jh=P(4859),za=P(1877),Lt=P(2090),xT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},aa={},Xh=Xh||{},At=xT||self;function ef(){}function kg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Pg="closure_uid_"+(1e9*Math.random()>>>0),Jw=0;function Xw(n,e,t){return n.call.apply(n.bind,arguments)}function eE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Yr(n,e,t){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xw:eE).apply(null,arguments)}function Ng(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Gl(){this.s=this.s,this.o=this.o}var RT={};Gl.prototype.s=!1,Gl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Pg)&&n[Pg]||(n[Pg]=++Jw)}(this);delete RT[n]}},Gl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},nE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function rE(n){return Array.prototype.concat.apply([],arguments)}function Wy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Fg(n){return/^[\s\xa0]*$/.test(n)}var xi,iE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Mi(n,e){return-1!=n.indexOf(e)}function Zy(n,e){return n<e?-1:n>e?1:0}e:{var sE=At.navigator;if(sE){var oE=sE.userAgent;if(oE){xi=oE;break e}}xi=""}function Lg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ky(n){const e={};for(const t in n)e[t]=n[t];return e}var Yy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qy(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<Yy.length;a++)t=Yy[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vg(n){return Vg[" "](n),n}Vg[" "]=ef;var Ug,n,lE=Mi(xi,"Opera"),ec=Mi(xi,"Trident")||Mi(xi,"MSIE"),Jy=Mi(xi,"Edge"),tf=Jy||ec,Bg=Mi(xi,"Gecko")&&!(Mi(xi.toLowerCase(),"webkit")&&!Mi(xi,"Edge"))&&!(Mi(xi,"Trident")||Mi(xi,"MSIE"))&&!Mi(xi,"Edge"),tc=Mi(xi.toLowerCase(),"webkit")&&!Mi(xi,"Edge");function uE(){var n=At.document;return n?n.documentMode:void 0}e:{var zl="",cE=(n=xi,Bg?/rv:([^\);]+)(\)|;)/.exec(n):Jy?/Edge\/([\d\.]+)/.exec(n):ec?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):tc?/WebKit\/(\S+)/.exec(n):lE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cE&&(zl=cE?cE[1]:""),ec){var nf=uE();if(null!=nf&&nf>parseFloat(zl)){Ug=String(nf);break e}}Ug=zl}var wO={};function dE(){return e=wO,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=iE(String(Ug)).split("."),t=iE("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Zy(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Zy(0==i[2].length,0==a[2].length)||Zy(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n}();var e}var yt=At.document&&ec&&(uE()||parseInt(Ug,10))||void 0,NT=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",ef,e),At.removeEventListener("test",ef,e)}catch(t){}return n}();function ai(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function rf(n,e){if(ai.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Bg){e:{try{Vg(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Hg[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rf.Z.h.call(this)}}ai.prototype.h=function(){this.defaultPrevented=!0},Qr(rf,ai);var Hg={2:"touch",3:"pen",4:"mouse"};rf.prototype.h=function(){rf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var sf="closure_listenable_"+(1e6*Math.random()|0),$g=0;function Gg(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++$g,this.ca=this.fa=!1}function kn(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Xy(n){this.src=n,this.g={},this.h=0}function zg(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=tE(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(kn(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ev(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Xy.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=ev(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new Gg(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var tv="closure_lm_"+(1e6*Math.random()|0),qg={};function nv(n,e,t,r,i){if(r&&r.once)return fE(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)nv(n,e[a],t,r,i);return null}return t=Cd(t),n&&n[sf]?n.N(e,t,wd(r)?!!r.capture:!!r,i):rv(n,e,t,!1,r,i)}function rv(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=wd(i)?!!i.capture:!!i,f=sv(n);if(f||(n[tv]=f=new Xy(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function(){var e=FT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)NT||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ed(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function fE(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)fE(n,e[a],t,r,i);return null}return t=Cd(t),n&&n[sf]?n.O(e,t,wd(r)?!!r.capture:!!r,i):rv(n,e,t,!0,r,i)}function pE(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)pE(n,e[a],t,r,i);else r=wd(r)?!!r.capture:!!r,t=Cd(t),n&&n[sf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ev(a=n.g[e],t,r,i))&&(kn(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=sv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ev(e,t,r,i)),(t=-1<n?e[n]:null)&&iv(t))}function iv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[sf])zg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ed(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sv(e))?(zg(t,n),0==t.h&&(t.src=null,e[tv]=null)):kn(n)}}}function Ed(n){return n in qg?qg[n]:qg[n]="on"+n}function FT(n,e){if(n.ca)n=!0;else{e=new rf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&iv(n),n=t.call(r,e)}return n}function sv(n){return(n=n[tv])instanceof Xy?n:null}var ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(n){return"function"==typeof n?n:(n[ov]||(n[ov]=function(e){return n.handleEvent(e)}),n[ov])}function wr(){Gl.call(this),this.i=new Xy(this),this.P=this,this.I=null}function Rr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ai(e,n);else if(e instanceof ai)e.target=e.target||n;else{var i=e;Qy(e=new ai(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=af(u,r,!0,e)&&i}if(i=af(u=e.g=n,r,!0,e)&&i,i=af(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=af(u=e.g=t[a],r,!1,e)&&i}function af(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&zg(n.i,u),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Qr(wr,Gl),wr.prototype[sf]=!0,wr.prototype.removeEventListener=function(n,e,t,r){pE(this,n,e,t,r)},wr.prototype.M=function(){if(wr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)kn(t[r]);delete n.g[e],n.h--}}this.I=null},wr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},wr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var av=At.JSON.stringify;function lf(){var n=uv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Zg,gE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new LT,n=>n.reset());class LT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function VT(n){At.setTimeout(()=>{throw n},0)}function Wg(n,e){Zg||function(){var n=At.Promise.resolve(void 0);Zg=function(){n.then(BT)}}(),lv||(Zg(),lv=!0),uv.add(n,e)}var lv=!1,uv=new class{constructor(){this.h=this.g=null}add(e,t){const r=gE.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function BT(){for(var n;n=lf();){try{n.h.call(n.g)}catch(t){VT(t)}var e=gE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lv=!1}function Kg(n,e){wr.call(this),this.h=n||1,this.g=e||At,this.j=Yr(this.kb,this),this.l=Date.now()}function _E(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function yE(n,e,t){if("function"==typeof n)t&&(n=Yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function UT(n){n.g=yE(()=>{n.g=null,n.i&&(n.i=!1,UT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(Kg,wr),(rt=Kg.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rr(this,"tick"),this.da&&(_E(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){Kg.Z.M.call(this),_E(this),delete this.g};class EO extends Gl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UT(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dd(n){Gl.call(this),this.h=n,this.g={}}Qr(Dd,Gl);var cf=[];function vE(n,e,t,r){Array.isArray(t)||(t&&(cf[0]=t.toString()),t=cf);for(var i=0;i<t.length;i++){var a=nv(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function bE(n){Lg(n.g,function(e,t){this.g.hasOwnProperty(t)&&iv(e)},n),n.g={}}function df(){this.g=!0}function Id(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return av(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Dd.prototype.M=function(){Dd.Z.M.call(this),bE(this)},Dd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},df.prototype.Aa=function(){this.g=!1},df.prototype.info=function(){};var nc={},cv=null;function Yg(){return cv=cv||new wr}function wE(n){ai.call(this,nc.Ma,n)}function la(n){const e=Yg();Rr(e,new wE(e,n))}function EE(n,e){ai.call(this,nc.STAT_EVENT,n),this.stat=e}function li(n){const e=Yg();Rr(e,new EE(e,n))}function CE(n,e){ai.call(this,nc.Na,n),this.size=e}function Td(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}nc.Ma="serverreachability",Qr(wE,ai),nc.STAT_EVENT="statevent",Qr(EE,ai),nc.Na="timingevent",Qr(CE,ai);var Qg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hv(){}function DE(){}hv.prototype.h=null;var pv,Sd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xg(){ai.call(this,"d")}function fv(){ai.call(this,"c")}function em(){}function rc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Dd(this),this.P=TE,this.W=new Kg(n=tf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IE}function IE(){this.i=null,this.g="",this.h=!1}Qr(Xg,ai),Qr(fv,ai),Qr(em,hv),em.prototype.g=function(){return new XMLHttpRequest},em.prototype.i=function(){return{}},pv=new em;var TE=45e3,gv={},tm={};function mv(n,e,t){n.K=1,n.v=im(Wa(e)),n.s=t,n.U=!0,SE(n,null)}function SE(n,e){n.F=Date.now(),ff(n),n.A=Wa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),wv(t.h,"t",r),n.C=0,t=n.l.H,n.h=new IE,n.g=Tf(n.l,t?e:null,!n.s),0<n.O&&(n.L=new EO(Yr(n.Ia,n,n.g),n.O)),vE(n.V,n.g,"readystatechange",n.gb),e=n.H?Ky(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),la(1),function(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var I=w[0];w=w[1];var x=I.split("_");u=2<=x.length&&"type"==x[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AE(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ME(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=GT(n,t),i==tm){4==e&&(n.o=4,li(14),r=!1),Id(n.j,n.m,null,"[Incomplete Response]");break}if(i==gv){n.o=4,li(15),Id(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Id(n.j,n.m,i,null),nm(n,i)}AE(n)&&i!=tm&&i!=gv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),If(e),e.L=!0,li(11))):(Id(n.j,n.m,t,"[Invalid Chunked Response]"),ic(n),gf(n))}function GT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?tm:(t=Number(e.substring(t,r)),isNaN(t)?gv:(r+=1)+t>e.length?tm:(e=e.substr(r,t),n.C=r+t,e))}function ff(n){n.Y=Date.now()+n.P,_v(n,n.P)}function _v(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Td(Yr(n.eb,n),e)}function pf(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function gf(n){0==n.l.G||n.I||fm(n.l,n)}function ic(n){pf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,_E(n.W),bE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function nm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Iv(t.i,n)))if(t.I=n.N,!n.J&&Iv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(w){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Td(Yr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;hm(t),Cf(t)}kv(t),li(18)}if(1>=Dv(t.i)&&t.ka){try{t.ka()}catch(w){}t.ka=void 0}}else lc(t,11)}else if((n.J||t.g==n)&&hm(t),!Fg(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let w=i[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const I=w[3];null!=I&&(t.ma=I,t.h.info("VER="+t.ma));const x=w[4];null!=x&&(t.za=x,t.h.info("SVER="+t.za));const L=w[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.i;!a.g&&(Mi(q,"spdy")||Mi(q,"quic")||Mi(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Tv(a,a.h),a.h=null))}if(r.D){const le=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.sa=le,Pn(r.F,r.D,le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=ZE(r,r.H?r.la:null,r.W),u.J){NE(r.i,u);var f=u,_=r.K;_&&f.setTimeout(_),f.B&&(pf(f),ff(f)),r.g=u}else kd(r);0<t.l.length&&dm(t)}else"stop"!=w[0]&&"close"!=w[0]||lc(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?lc(t,7):cm(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}la(4)}catch(w){}}function yv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(kg(n)||"string"==typeof n)nE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(kg(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(kg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function Ad(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ad)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function mf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];qa(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)qa(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function qa(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=rc.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Qa(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const I=Qa(this.g);var e=this.g.Da();const x=this.g.ba();if(!(3>I)&&(3!=I||tf||this.g&&(this.h.h||this.g.ga()||$E(this.g)))){this.I||4!=I||7==e||la(8==e||0>=x?3:2),pf(this);var t=this.g.ba();this.N=t;t:if(AE(this)){var r=$E(this.g);n="";var i=r.length,a=4==Qa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ic(this),gf(this);var u="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fg(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,li(12),ic(this),gf(this);break e}Id(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,nm(this,t)}this.U?(ME(this,I,u),tf&&this.i&&3==I&&(vE(this.V,this.W,"tick",this.fb),this.W.start())):(Id(this.j,this.m,u,null),nm(this,u)),4==I&&ic(this),this.i&&!this.I&&(4==I?fm(this.l,this):(this.i=!1,ff(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),ic(this),gf(this)}}}catch(I){}},rt.fb=function(){if(this.g){var n=Qa(this.g),e=this.g.ga();this.C<e.length&&(pf(this),ME(this,n,e),this.i&&4!=n&&ff(this))}},rt.cancel=function(){this.I=!0,ic(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(la(3),li(17)),ic(this),this.o=2,gf(this)):_v(this,this.Y-n)},(rt=Ad.prototype).R=function(){mf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return mf(this),this.g.concat()},rt.get=function(n,e){return qa(this.h,n)?this.h[n]:e},rt.set=function(n,e){qa(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var vv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sc){this.g=void 0!==e?e:n.g,Md(this,n.j),this.s=n.s,rm(this,n.i),_f(this,n.m),this.l=n.l,e=n.h;var t=new bf;t.i=e.i,e.g&&(t.g=new Ad(e.g),t.h=e.h),xE(this,t),this.o=n.o}else n&&(t=String(n).match(vv))?(this.g=!!e,Md(this,t[1]||"",!0),this.s=yf(t[2]||""),rm(this,t[3]||"",!0),_f(this,t[4]),this.l=yf(t[5]||"",!0),xE(this,t[6]||"",!0),this.o=yf(t[7]||"")):(this.g=!!e,this.h=new bf(null,this.g))}function Wa(n){return new sc(n)}function Md(n,e,t){n.j=t?yf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rm(n,e,t){n.i=t?yf(e,!0):e}function _f(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xE(n,e,t){e instanceof bf?(n.h=e,function(n,e){e&&!n.j&&(ql(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(kE(this,r),wv(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Za(e,DO)),n.h=new bf(e,n.g))}function Pn(n,e,t){n.h.set(e,t)}function im(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function yf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Za(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Za(e,oc,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Za(e,oc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Za(t,"/"==t.charAt(0)?WT:vf,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Za(t,RE)),n.join("")};var oc=/[#\/\?@]/g,vf=/[#\?:]/g,WT=/[#\?]/g,DO=/[#\?@]/g,RE=/#/g;function bf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ql(n){n.g||(n.g=new Ad,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kE(n,e){ql(n),e=ac(n,e),qa(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,qa((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&mf(n)))}function PE(n,e){return ql(n),e=ac(n,e),qa(n.g.h,e)}function wv(n,e,t){kE(n,e),0<t.length&&(n.i=null,n.g.set(ac(n,e),Wy(t)),n.h+=t.length)}function ac(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function xd(n){this.l=n||ZT,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=bf.prototype).add=function(n,e){ql(this),this.i=null,n=ac(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){ql(this),this.g.forEach(function(t,r){nE(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){ql(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},rt.R=function(n){ql(this);var e=[];if("string"==typeof n)PE(this,n)&&(e=rE(e,this.g.get(ac(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=rE(e,n[t])}return e},rt.set=function(n,e){return ql(this),this.i=null,PE(this,n=ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var ZT=10;function Cv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Dv(n){return n.h?1:n.g?n.g.size:0}function Iv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tv(n,e){n.g?n.g.add(e):n.h=e}function NE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function om(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Wy(n.i)}function Sv(){}function IO(){this.g=new Sv}function KT(n,e,t){const r=t||"";try{yv(n,function(i,a){let u=i;wd(i)&&(u=av(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ka(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Od(n){this.l=n.$b||null,this.j=n.ib||!1}function Ya(n,e){wr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xd.prototype.cancel=function(){if(this.i=om(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Sv.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},Sv.prototype.parse=function(n){return At.JSON.parse(n,void 0)},Qr(Od,hv),Od.prototype.g=function(){return new Ya(this.l,this.j)},Od.prototype.i=function(n){return function(){return n}}({}),Qr(Ya,wr);var FE=0;function Av(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function wf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,am(n)}function am(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Ya.prototype).open=function(n,e){if(this.readyState!=FE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,am(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wf(this)),this.readyState=FE},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,am(this)),this.g&&(this.readyState=3,am(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Av(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wf(this):am(this),3==this.readyState&&Av(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,wf(this))},rt.Ta=function(n){this.g&&(this.response=n,wf(this))},rt.ha=function(){this.g&&wf(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ya.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LE=At.JSON.parse;function Er(n){wr.call(this),this.headers=new Ad,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mv,this.K=this.L=!1}Qr(Er,wr);var Mv="",xv=/^https?$/i,QT=["POST","PUT"];function JT(n){return"content-type"==n.toLowerCase()}function BE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,UE(n),lm(n)}function UE(n){n.D||(n.D=!0,Rr(n,"complete"),Rr(n,"error"))}function jE(n){if(n.h&&void 0!==Xh&&(!n.C[1]||4!=Qa(n)||2!=n.ba()))if(n.v&&4==Qa(n))yE(n.Fa,0,n);else if(Rr(n,"readystatechange"),4==Qa(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(vv)[1]||null;if(!i&&At.self&&At.self.location){var a=At.self.location.protocol;i=a.substr(0,a.length-1)}r=!xv.test(i?i.toLowerCase():"")}t=r}if(t)Rr(n,"complete"),Rr(n,"success");else{n.m=6;try{var u=2<Qa(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",UE(n)}}finally{lm(n)}}}function lm(n,e){if(n.g){HE(n);const t=n.g,r=n.C[0]?ef:null;n.g=null,n.C=null,e||Rr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function HE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function Qa(n){return n.g?n.g.readyState:0}function $E(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Mv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function um(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Lg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Rd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Ov(n){this.za=0,this.l=[],this.h=new df,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rd("baseRetryDelayMs",5e3,n),this.$a=Rd("retryDelaySeedMs",1e4,n),this.Ya=Rd("forwardChannelMaxRetries",2,n),this.ra=Rd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new xd(n&&n.concurrentRequestLimit),this.Ca=new IO,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function cm(n){if(GE(n),3==n.G){var e=n.V++,t=Wa(n.F);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Df(n,t),(e=new rc(n,n.h,e,void 0)).K=2,e.v=im(Wa(t)),t=!1,At.navigator&&At.navigator.sendBeacon&&(t=At.navigator.sendBeacon(e.v.toString(),"")),!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=Tf(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ff(e)}WE(n)}function Cf(n){n.g&&(If(n),n.g.cancel(),n.g=null)}function GE(n){Cf(n),n.u&&(At.clearTimeout(n.u),n.u=null),hm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function Rv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&dm(n)}function dm(n){Cv(n.i)||n.m||(n.m=!0,Wg(n.Ha,n),n.C=0)}function zE(n,e){var t;t=e?e.m:n.V++;const r=Wa(n.F);Pn(r,"SID",n.J),Pn(r,"RID",t),Pn(r,"AID",n.U),Df(n,r),n.o&&n.s&&um(r,n.o,n.s),t=new rc(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Tv(n.i,t),mv(t,r,e)}function Df(n,e){n.j&&yv({},function(t,r){Pn(e,r,t)})}function qE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Yr(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=i[_].h;const I=i[_].g;if(w-=a,0>w)a=Math.max(0,i[_].h-100),f=!1;else try{KT(I,u,"req"+w+"_")}catch(x){r&&r(I)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kd(n){n.g||n.u||(n.Y=1,Wg(n.Ga,n),n.A=0)}function kv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Td(Yr(n.Ga,n),Pd(n,n.A)),n.A++,0))}function If(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function wo(n){n.g=new rc(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Wa(n.oa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.N?"0":"1"),Pn(e,"AID",n.U),Df(n,e),Pn(e,"TYPE","xmlhttp"),n.o&&n.s&&um(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=im(Wa(e)),t.s=null,t.U=!0,SE(t,n)}function hm(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function fm(n,e){var t=null;if(n.g==e){hm(n),If(n),n.g=null;var r=2}else{if(!Iv(n.i,e))return;t=e.D,NE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Rr(r=Yg(),new CE(r,t,e,i)),dm(n)}else kd(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(Dv(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Td(Yr(n.Ha,n,e),Pd(n,n.C)),n.C++,0)))}(n,e)||2==r&&kv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:lc(n,5);break;case 4:lc(n,10);break;case 3:lc(n,6);break;default:lc(n,2)}}function Pd(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function lc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Yr(n.jb,n);t||(t=new sc("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Md(t,"https"),im(t)),function(n,e){const t=new df;if(At.Image){const r=new Image;r.onload=Ng(Ka,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ng(Ka,t,r,"TestLoadImage: error",!1,e),r.onabort=Ng(Ka,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ng(Ka,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else li(2);n.G=0,n.j&&n.j.va(e),WE(n),GE(n)}function WE(n){n.G=0,n.I=-1,n.j&&((0!=om(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wy(n.l),n.l.length=0),n.j.ua())}function ZE(n,e,t){let r=function(n){return n instanceof sc?Wa(n):new sc(n,void 0)}(t);if(""!=r.i)e&&rm(r,e+"."+r.i),_f(r,r.m);else{const i=At.location;r=function(n,e,t,r){var i=new sc(null,void 0);return n&&Md(i,n),e&&rm(i,e),t&&_f(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Lg(n.aa,function(i,a){Pn(r,a,i)}),t=n.sa,(e=n.D)&&t&&Pn(r,e,t),Pn(r,"VER",n.ma),Df(n,r),r}function Tf(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Er(t&&n.Ba&&!n.qa?new Od({ib:!0}):n.qa)).L=n.H,e}function Sf(){}function pm(){if(ec&&!(10<=Number(yt)))throw Error("Environmental error: no available transport.")}function ps(n,e){wr.call(this),this.g=new Ov(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Fg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wl(this)}function Pv(n){Xg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Nv(){fv.call(this),this.status=1}function Wl(n){this.g=n}(rt=Er.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:pv),this.g.onreadystatechange=Yr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void BE(this,a)}n=t||"";const i=new Ad(this.headers);r&&yv(r,function(a,u){i.set(u,a)}),r=function(n){e:{var e=JT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=At.FormData&&n instanceof At.FormData,!(0<=tE(QT,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HE(this),0<this.B&&((this.K=function(n){return ec&&dE()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.pa,this)):this.A=yE(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){BE(this,a)}},rt.pa=function(){void 0!==Xh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Rr(this,"complete"),Rr(this,"abort"),lm(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lm(this,!0)),Er.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?jE(this):this.cb())},rt.cb=function(){jE(this)},rt.ba=function(){try{return 2<Qa(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LE(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Ov.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new rc(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=Ky(a),Qy(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qE(this,i,e),Pn(t=Wa(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),Df(this,t),this.o&&a&&um(t,this.o,a),Tv(this.i,i),this.Ra&&Pn(t,"TYPE","init"),this.ja?(Pn(t,"$req",e),Pn(t,"SID","null"),i.$=!0,mv(i,t,null)):mv(i,t,e),this.G=2}}else 3==this.G&&(n?zE(this,n):0==this.l.length||Cv(this.i)||zE(this))},rt.Ga=function(){if(this.u=null,wo(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Td(Yr(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,li(10),Cf(this),wo(this))},rt.ab=function(){null!=this.v&&(this.v=null,Cf(this),kv(this),li(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),li(2)):(this.h.info("Failed to ping google.com"),li(1))},(rt=Sf.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},pm.prototype.g=function(n,e){return new ps(n,e)},Qr(ps,wr),ps.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Wg(Yr(n.hb,n,e))),li(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ZE(n,null,n.W),dm(n)},ps.prototype.close=function(){cm(this.g)},ps.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Rv(this.g,e)}else this.v?((e={}).__data__=av(n),Rv(this.g,e)):Rv(this.g,n)},ps.prototype.M=function(){this.g.j=null,delete this.j,cm(this.g),delete this.g,ps.Z.M.call(this)},Qr(Pv,Xg),Qr(Nv,fv),Qr(Wl,Sf),Wl.prototype.xa=function(){Rr(this.g,"a")},Wl.prototype.wa=function(n){Rr(this.g,new Pv(n))},Wl.prototype.va=function(n){Rr(this.g,new Nv(n))},Wl.prototype.ua=function(){Rr(this.g,"b")},pm.prototype.createWebChannel=pm.prototype.g,ps.prototype.send=ps.prototype.u,ps.prototype.open=ps.prototype.m,ps.prototype.close=ps.prototype.close,Qg.NO_ERROR=0,Qg.TIMEOUT=8,Qg.HTTP_ERROR=6,dv.COMPLETE="complete",DE.EventType=Sd,Sd.OPEN="a",Sd.CLOSE="b",Sd.ERROR="c",Sd.MESSAGE="d",wr.prototype.listen=wr.prototype.N,Er.prototype.listenOnce=Er.prototype.O,Er.prototype.getLastError=Er.prototype.La,Er.prototype.getLastErrorCode=Er.prototype.Da,Er.prototype.getStatus=Er.prototype.ba,Er.prototype.getResponseJson=Er.prototype.Qa,Er.prototype.getResponseText=Er.prototype.ga,Er.prototype.send=Er.prototype.ea;var KE=aa.createWebChannelTransport=function(){return new pm},eS=aa.getStatEventTarget=function(){return Yg()},Fv=aa.ErrorCode=Qg,TO=aa.EventType=dv,Lv=aa.Event=nc,gm=aa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},YE=aa.FetchXmlHttpFactory=Od,Nd=aa.WebChannel=DE,Vv=aa.XhrIo=Er;const QE="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let Fd="9.9.0";const Zl=new za.Yd("@firebase/firestore");function mm(){return Zl.logLevel}function ke(n,...e){if(Zl.logLevel<=za.in.DEBUG){const t=e.map(_m);Zl.debug(`Firestore (${Fd}): ${n}`,...t)}}function Qn(n,...e){if(Zl.logLevel<=za.in.ERROR){const t=e.map(_m);Zl.error(`Firestore (${Fd}): ${n}`,...t)}}function Ld(n,...e){if(Zl.logLevel<=za.in.WARN){const t=e.map(_m);Zl.warn(`Firestore (${Fd}): ${n}`,...t)}}function _m(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Fd}) INTERNAL ASSERTION FAILED: `+n;throw Qn(e),new Error(e)}function Tt(n,e){n||it()}function Je(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends Lt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class sn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uc{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kr.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SO{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=w=>this.i!==i?(i=this.i,t(w)):Promise.resolve();let u=new sn;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sn,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,we.Z)(function*(){yield w.promise,yield a(r.currentUser)}))},_=w=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sn)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new uc(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new kr(e)}}class Af{constructor(e,t,r){this.type="FirstParty",this.user=kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rS{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Af(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ym{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iS{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.p=t.token,new ym(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function oS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class XE{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oS(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function cc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Uv(n){return n+"\0"}class wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new wn(0,0))}static max(){return new bt(new wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vm{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===vm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Kt extends vm{construct(e,t,r){return new Kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Kt(t)}static emptyPath(){return new Kt([])}}const aS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends vm{construct(e,t,r){return new zn(e,t,r)}static isValidIdentifier(e){return aS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(t)}static emptyPath(){return new zn([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Kt.fromString(e))}static fromName(e){return new Ze(Kt.fromString(e).popFirst(5))}static empty(){return new Ze(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Kt(e.slice()))}}class Mf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function jv(n){return n.fields.find(e=>2===e.kind)}function Ja(n){return n.fields.filter(e=>2!==e.kind)}Mf.UNKNOWN_ID=-1;class Vd{constructor(e,t){this.fieldPath=e,this.kind=t}}class bm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bm(0,Wi.min())}}function eC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(1e9===r?new wn(t+1,0):new wn(t,r));return new Wi(i,Ze.empty(),e)}function tC(n){return new Wi(n.readTime,n.key,-1)}class Wi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Wi(bt.min(),Ze.empty(),-1)}static max(){return new Wi(bt.max(),Ze.empty(),-1)}}function wm(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Rt(n.largestBatchId,e.largestBatchId))}const nC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Xa(n){return $v.apply(this,arguments)}function $v(){return $v=(0,we.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==nC)throw n;ke("LocalStore","Unexpectedly lost primary lease")}),$v.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},_=>r(_))}),u=!0,a===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(I=>{u[w]=I,++f,f===a&&r(u)},I=>i(I))}})}static doWhile(e,t){return new ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class xf{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new sn,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Bd(e,t.error)):this.T.resolve()},this.transaction.onerror=r=>{const i=oC(r.target.error);this.T.reject(new Bd(e,i))}}static open(e,t,r,i){try{return new xf(t,e.transaction(i,r))}catch(a){throw new Bd(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new iC(t)}}class Eo{constructor(e,t,r){this.name=e,this.version=t,this.P=r,12.2===Eo.v((0,Lt.z$)())&&Qn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ke("SimpleDb","Removing database:",e),dc(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Lt.hl)())return!1;if(Eo.S())return!0;const e=(0,Lt.z$)(),t=Eo.v(e),r=0<t&&t<10,i=Eo.D(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static D(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}k(e){var t=this;return(0,we.Z)(function*(){return t.db||(ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Bd(e,f))},a.onupgradeneeded=u=>{ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.O(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=r=>t.M(r)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const _=xf.open(a.db,e,u?"readonly":"readwrite",r),w=i(_).next(I=>(_.R(),I)).catch(I=>(_.abort(I),ue.reject(I))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,I="FirebaseError"!==w.name&&f<3;if(ke("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),a.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class rC{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return dc(this.$.delete())}}class Bd extends Oe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function el(n){return"IndexedDbTransactionError"===n.name}class iC{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dc(r)}add(e){return ke("SimpleDb","ADD",this.store.name,e,e),dc(this.store.add(e))}get(e){return dc(this.store.get(e)).next(t=>(void 0===t&&(t=null),ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ke("SimpleDb","DELETE",this.store.name,e),dc(this.store.delete(e))}count(){return ke("SimpleDb","COUNT",this.store.name),dc(this.store.count())}K(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.G(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ue((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}W(e,t){ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.H=!1;const i=this.cursor(r);return this.G(i,(a,u,f)=>f.delete())}J(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Y(e){const t=this.cursor({});return new ue((r,i)=>{t.onerror=a=>{const u=oC(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}G(e,t){const r=[];return new ue((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const _=new rC(f),w=t(f.primaryKey,f.value,_);if(w instanceof ue){const I=w.catch(x=>(_.done(),ue.reject(x)));r.push(I)}_.isDone?i():null===_.U?f.continue():f.continue(_.U)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dc(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=oC(r.target.error);t(i)}})}let sC=!1;function oC(n){const e=Eo.v((0,Lt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return sC||(sC=!0,setTimeout(()=>{throw r},0)),r}}return n}class aC{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{ke("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(r){el(r)?ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Xa(r)}yield t.Z(1)}))}}class AO{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.et(r,e))})()}et(e,t){const r=new Set;let i=t,a=!0;return ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return ke("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>t-i)}nt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(i,a)).next(f=>(ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}st(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=tC(a);wm(u,r)>0&&(r=u)}),new Wi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class gs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.it(r),this.rt=r=>t.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function lS(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ud(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function uS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}gs.ot=-1;class Jn{constructor(e,t){this.comparator=e,this.root=t||ui.EMPTY}insert(e,t){return new Jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(e){return new Jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ui.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gv(this.root,e,this.comparator,!0)}}class Gv{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ui{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ui.RED,this.left=null!=i?i:ui.EMPTY,this.right=null!=a?a:ui.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ui(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ui.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ui.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ui.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ui.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1,ui.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ui(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new Jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new cS(this.data.getIterator())}getIteratorFrom(e){return new cS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class cS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kl(n){return n.hasNext()?n.getNext():void 0}class Pr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Pr([])}unionWith(e){let t=new un(zn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Cr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Cr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Cr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cr.EMPTY_BYTE_STRING=new Cr("");const dS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=dS.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(n.seconds),nanos:Un(n.nanos)}}function Un(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Yl(n){return"string"==typeof n?Cr.fromBase64String(n):Cr.fromUint8Array(n)}function Em(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hS(n){const e=n.mapValue.fields.__previous_value__;return Em(e)?hS(e):e}function jd(n){const e=ua(n.mapValue.fields.__local_write_time__.timestampValue);return new wn(e.seconds,e.nanos)}class Cm{constructor(e,t,r,i,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ca{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ca("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}function Dm(n){return null==n}function Im(n){return 0===n&&1/n==-1/0}function fS(n){return"number"==typeof n&&Number.isInteger(n)&&!Im(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hd={nullValue:"NULL_VALUE"};function hc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Em(n)?4:Zv(n)?9007199254740991:10:it()}function tl(n,e){if(n===e)return!0;const t=hc(n);if(t!==hc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jd(n).isEqual(jd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ua(r.timestampValue),u=ua(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Yl(n.bytesValue).isEqual(Yl(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Un(r.geoPointValue.latitude)===Un(i.geoPointValue.latitude)&&Un(r.geoPointValue.longitude)===Un(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Un(r.integerValue)===Un(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Un(r.doubleValue),u=Un(i.doubleValue);return a===u?Im(a)===Im(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return cc(n.arrayValue.values||[],e.arrayValue.values||[],tl);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(lS(a)!==lS(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!tl(a[f],u[f])))return!1;return!0}(n,e);default:return it()}var i}function Of(n,e){return void 0!==(n.values||[]).find(t=>tl(t,e))}function da(n,e){if(n===e)return 0;const t=hc(n),r=hc(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Un(i.integerValue||i.doubleValue),f=Un(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return uC(n.timestampValue,e.timestampValue);case 4:return uC(jd(n),jd(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Yl(i),f=Yl(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=Rt(u[_],f[_]);if(0!==w)return w}return Rt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Rt(Un(i.latitude),Un(a.latitude));return 0!==u?u:Rt(Un(i.longitude),Un(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=da(u[_],f[_]);if(w)return w}return Rt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Ql.mapValue&&a===Ql.mapValue)return 0;if(i===Ql.mapValue)return 1;if(a===Ql.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let I=0;I<f.length&&I<w.length;++I){const x=Rt(f[I],w[I]);if(0!==x)return x;const L=da(u[f[I]],_[w[I]]);if(0!==L)return L}return Rt(f.length,w.length)}(n.mapValue,e.mapValue);default:throw it()}}function uC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=ua(n),r=ua(e),i=Rt(t.seconds,r.seconds);return 0!==i?i:Rt(t.nanos,r.nanos)}function Nr(n){return zv(n)}function zv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ua(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Yl(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=zv(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${zv(r.fields[f])}`;return a+"}"}(n.mapValue):it();var e}function nl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function qv(n){return!!n&&"integerValue"in n}function Rf(n){return!!n&&"arrayValue"in n}function Tm(n){return!!n&&"nullValue"in n}function Wv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kf(n){return!!n&&"mapValue"in n}function Pf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ud(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Pf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Zv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function cC(n){return"nullValue"in n?Hd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?nl(ca.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:it()}function pS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?nl(ca.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ql:it()}function dC(n,e){const t=da(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Sm(n,e){const t=da(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(t)}setAll(e){let t=zn.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Pf(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ud(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new En(Pf(this.value))}}function hC(n){const e=[];return Ud(n.fields,(t,r)=>{const i=new zn([t]);if(kf(r)){const a=hC(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Pr(e)}class Sn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Sn(e,0,bt.min(),bt.min(),En.empty(),0)}static newFoundDocument(e,t,r){return new Sn(e,1,t,bt.min(),r,0)}static newNoDocument(e,t){return new Sn(e,2,t,bt.min(),En.empty(),0)}static newUnknownDocument(e,t){return new Sn(e,3,t,bt.min(),En.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gS{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.ut=null}}function Kv(n,e=null,t=[],r=[],i=null,a=null,u=null){return new gS(n,e,t,r,i,a,u)}function fc(n){const e=Je(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Nr(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Dm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nr(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nr(r)).join(",")),e.ut=t}return e.ut}function $d(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!MO(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!tl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xv(n.startAt,e.startAt)&&Xv(n.endAt,e.endAt)}function Am(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yv(n,e){return n.filters.filter(t=>t instanceof Jr&&t.field.isEqual(e))}function Qv(n,e,t){let r=Hd,i=!0;for(const a of Yv(n,e)){let u=Hd,f=!0;switch(a.op){case"<":case"<=":u=cC(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=Hd}dC({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];dC({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function Jv(n,e,t){let r=Ql,i=!0;for(const a of Yv(n,e)){let u=Ql,f=!0;switch(a.op){case">=":case">":u=pS(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ql}Sm({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Sm({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Jr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new _S(e,t,r):"array-contains"===t?new pC(e,r):"in"===t?new yS(e,r):"not-in"===t?new gC(e,r):"array-contains-any"===t?new mC(e,r):new Jr(e,t,r)}static ct(e,t,r){return"in"===t?new fC(e,r):new Nf(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(da(t,this.value)):null!==t&&hc(this.value)===hc(t)&&this.at(da(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _S extends Jr{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.at(t)}}class fC extends Jr{constructor(e,t){super(e,"in",t),this.keys=Mm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Nf extends Jr{constructor(e,t){super(e,"not-in",t),this.keys=Mm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Mm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class pC extends Jr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rf(t)&&Of(t.arrayValue,this.value)}}class yS extends Jr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Of(this.value.arrayValue,t)}}class gC extends Jr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Of(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Of(this.value.arrayValue,t)}}class mC extends Jr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Of(this.value.arrayValue,r))}}class Jl{constructor(e,t){this.position=e,this.inclusive=t}}class Gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function MO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function vS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):da(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Xv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!tl(n.position[t],e.position[t]))return!1;return!0}class rl{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function _C(n,e,t,r,i,a,u,f){return new rl(n,e,t,r,i,a,u,f)}function zd(n){return new rl(n)}function yC(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vC(n){for(const e of n.filters)if(e.ht())return e.field;return null}function bC(n){return null!==n.collectionGroup}function Ff(n){const e=Je(n);if(null===e.lt){e.lt=[];const t=vC(e),r=yC(e);if(null!==t&&null===r)t.isKeyField()||e.lt.push(new Gd(t)),e.lt.push(new Gd(zn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Gd(zn.keyField(),a))}}}return e.lt}function zs(n){const e=Je(n);if(!e.ft)if("F"===e.limitType)e.ft=Kv(e.path,e.collectionGroup,Ff(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ff(e))t.push(new Gd(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Jl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Jl(e.startAt.position,e.startAt.inclusive):null;e.ft=Kv(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.ft}function Lf(n,e,t){return new rl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vf(n,e){return $d(zs(n),zs(e))&&n.limitType===e.limitType}function wC(n){return`${fc(zs(n))}|lt:${n.limitType}`}function xm(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Nr(r.value)}`;var r}).join(", ")}]`),Dm(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Nr(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Nr(t)).join(",")),`Target(${e})`}(zs(n))}; limitType=${n.limitType})`}function il(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=vS(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,Ff(t),r)||t.endAt&&!function(i,a,u){const f=vS(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,Ff(t),r)));var t,r}function eb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Om(n){return(e,t)=>{let r=!1;for(const i of Ff(n)){const a=tb(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function tb(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),_=u.data.field(i);return null!==f&&null!==_?da(f,_):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function EC(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Im(e)?"-0":e}}function Rm(n){return{integerValue:""+n}}function km(n,e){return fS(e)?Rm(e):EC(n,e)}class Bf{constructor(){this._=void 0}}function CC(n,e,t){return n instanceof Uf?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof qd?wS(n,e):n instanceof Wd?ES(n,e):function(r,i){const a=bS(r,i),u=DC(a)+DC(r._t);return qv(a)&&qv(r._t)?Rm(u):EC(r.wt,u)}(n,e)}function OO(n,e,t){return n instanceof qd?wS(n,e):n instanceof Wd?ES(n,e):t}function bS(n,e){return n instanceof pc?qv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Uf extends Bf{}class qd extends Bf{constructor(e){super(),this.elements=e}}function wS(n,e){const t=IC(e);for(const r of n.elements)t.some(i=>tl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Wd extends Bf{constructor(e){super(),this.elements=e}}function ES(n,e){let t=IC(e);for(const r of n.elements)t=t.filter(i=>!tl(i,r));return{arrayValue:{values:t}}}class pc extends Bf{constructor(e,t){super(),this.wt=e,this._t=t}}function DC(n){return Un(n.integerValue||n.doubleValue)}function IC(n){return Rf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class jf{constructor(e,t){this.field=e,this.transform=t}}class TC{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Pm{}function SC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $f(n.key,Vn.none()):new sl(n.key,n.data,Vn.none());{const t=n.data,r=En.empty();let i=new un(zn.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new ol(n.key,r,new Pr(i.toArray()),Vn.none())}}function AC(n,e,t){n instanceof sl?function(r,i,a){const u=r.value.clone(),f=xC(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ol?function(r,i,a){if(!Hf(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=xC(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(MC(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Xl(n,e,t,r){return n instanceof sl?function(i,a,u,f){if(!Hf(i.precondition,a))return u;const _=i.value.clone(),w=OC(i.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ol?function(i,a,u,f){if(!Hf(i.precondition,a))return u;const _=OC(i.fieldTransforms,f,a),w=a.data;return w.setAll(MC(i)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(I=>I.field))}(n,e,t,r):(u=t,Hf(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function DS(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=bS(r.transform,i||null);null!=a&&(null===t&&(t=En.empty()),t.set(r.field,a))}return t||null}function nb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&cc(t,r,(i,a)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof qd&&r instanceof qd||t instanceof Wd&&r instanceof Wd?cc(t.elements,r.elements,tl):t instanceof pc&&r instanceof pc?tl(t._t,r._t):t instanceof Uf&&r instanceof Uf);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class sl extends Pm{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ol extends Pm{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MC(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xC(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,OO(u,f,t[i]))}return r}function OC(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,CC(a,u,e))}return r}class $f extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rb extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IS{constructor(e){this.count=e}}var cr,Jt;function RC(n){switch(n){default:return it();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function kC(n){if(void 0===n)return Qn("GRPC error has no .code"),me.UNKNOWN;switch(n){case cr.OK:return me.OK;case cr.CANCELLED:return me.CANCELLED;case cr.UNKNOWN:return me.UNKNOWN;case cr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case cr.INTERNAL:return me.INTERNAL;case cr.UNAVAILABLE:return me.UNAVAILABLE;case cr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case cr.NOT_FOUND:return me.NOT_FOUND;case cr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case cr.ABORTED:return me.ABORTED;case cr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case cr.DATA_LOSS:return me.DATA_LOSS;default:return it()}}(Jt=cr||(cr={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ud(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return uS(this.inner)}size(){return this.innerSize}}const TS=new Jn(Ze.comparator);function ms(){return TS}const SS=new Jn(Ze.comparator);function Nm(...n){let e=SS;for(const t of n)e=e.insert(t.key,t);return e}function AS(n){let e=SS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function al(){return Fm()}function PC(){return Fm()}function Fm(){return new eu(n=>n.toString(),(n,e)=>n.isEqual(e))}const RO=new Jn(Ze.comparator),kO=new un(Ze.comparator);function Ut(...n){let e=kO;for(const t of n)e=e.add(t);return e}const s=new un(Rt);function o(){return s}class l{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,c.createSynthesizedTargetChangeForCurrentChange(e,t)),new l(bt.min(),r,o(),ms(),Ut())}}class c{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new c(Cr.EMPTY_BYTE_STRING,t,Ut(),Ut(),Ut())}}class h{constructor(e,t,r,i){this.gt=e,this.removedTargetIds=t,this.key=r,this.yt=i}}class g{constructor(e,t){this.targetId=e,this.It=t}}class v{constructor(e,t,r=Cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class E{constructor(){this.Tt=0,this.Et=O(),this.At=Cr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Ut(),t=Ut(),r=Ut();return this.Et.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:it()}}),new c(this.At,this.Rt,e,t,r)}Dt(){this.bt=!1,this.Et=O()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class C{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=ms(),this.Bt=M(),this.Lt=new un(Rt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const r=this.Qt(t);switch(e.state){case 0:this.jt(t)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),r.Vt(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((r,i)=>{this.jt(i)&&t(i)})}zt(e){const t=e.targetId,r=e.It.count,i=this.Ht(t);if(i){const a=i.target;if(Am(a))if(0===r){const u=new Ze(a.path);this.Kt(t,u,Sn.newNoDocument(u,bt.min()))}else Tt(1===r);else this.Jt(t)!==r&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,u)=>{const f=this.Ht(u);if(f){if(a.current&&Am(f.target)){const _=new Ze(f.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,Sn.newNoDocument(_,e))}a.vt&&(t.set(u,a.St()),a.Dt())}});let r=Ut();this.Bt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(e));const i=new l(e,t,this.Lt,this.$t,r);return this.$t=ms(),this.Bt=M(),this.Lt=new un(Rt),i}qt(e,t){if(!this.jt(e))return;const r=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,r),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,t)?i.Ct(t,1):i.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),r&&(this.$t=this.$t.insert(t,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new E,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new un(Rt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new E),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function M(){return new Jn(Ze.comparator)}function O(){return new Jn(Ze.comparator)}const F={asc:"ASCENDING",desc:"DESCENDING"},z={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class te{constructor(e,t){this.databaseId=e,this.dt=t}}function ye(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fe(n,e){return n.dt?e.toBase64():e.toUint8Array()}function Ke(n,e){return ye(n,e.toTimestamp())}function qe(n){return Tt(!!n),bt.fromTimestamp(function(e){const t=ua(e);return new wn(t.seconds,t.nanos)}(n))}function De(n,e){return(t=n,new Kt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gt(n){const e=Kt.fromString(n);return Tt(VO(e)),e}function Vt(n,e){return De(n.databaseId,e.path)}function Ht(n,e){const t=gt(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(Lm(t))}function Oi(n,e){return De(n.databaseId,e)}function tu(n){const e=gt(n);return 4===e.length?Kt.emptyPath():Lm(e)}function gc(n){return new Kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lm(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Vm(n,e,t){return{name:Vt(n,e),fields:t.value.mapValue.fields}}function Bm(n,e,t){const r=Ht(n,e.name),i=qe(e.updateTime),a=new En({mapValue:{fields:e.fields}}),u=Sn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function mc(n,e){let t;if(e instanceof sl)t={update:Vm(n,e.key,e.value)};else if(e instanceof $f)t={delete:Vt(n,e.key)};else if(e instanceof ol)t={update:Vm(n,e.key,e.data),updateMask:kF(e.fieldMask)};else{if(!(e instanceof rb))return it();t={verify:Vt(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Uf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof qd)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wd)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pc)return{fieldPath:a.field.canonicalString(),increment:u._t};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ke(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:it()),t;var i}function Gf(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vn.updateTime(qe(i.updateTime)):void 0!==i.exists?Vn.exists(i.exists):Vn.none():Vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),f=new Uf):"appendMissingElements"in u?f=new qd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Wd(u.removeAllFromArray.values||[]):"increment"in u?f=new pc(a,u.increment):it();const _=zn.fromServerFormat(u.fieldPath);return new jf(_,f)}(n,i)):[];var i;if(e.update){const i=Ht(n,e.update.name),a=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Pr((e.updateMask.fieldPaths||[]).map(w=>zn.fromServerFormat(w)));return new ol(i,a,u,t,r)}return new sl(i,a,t,r)}if(e.delete){const i=Ht(n,e.delete);return new $f(i,t)}if(e.verify){const i=Ht(n,e.verify);return new rb(i,t)}return it()}function PO(n,e){return{documents:[Oi(n,e.path)]}}function NO(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Oi(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Oi(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0===_.length)return;const w=_.map(I=>function(x){if("=="===x.op){if(Wv(x.value))return{unaryFilter:{field:Um(x.field),op:"IS_NAN"}};if(Tm(x.value))return{unaryFilter:{field:Um(x.field),op:"IS_NULL"}}}else if("!="===x.op){if(Wv(x.value))return{unaryFilter:{field:Um(x.field),op:"IS_NOT_NAN"}};if(Tm(x.value))return{unaryFilter:{field:Um(x.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Um(x.field),op:xF(x.op),value:x.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Um((I=w).field),direction:MF(I.dir)};var I})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.dt||Dm(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function FO(n){let e=tu(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const I=t.from[0];I.allDescendants?i=I.collectionId:e=e.child(I.collectionId)}let a=[];t.where&&(a=LO(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new Gd(jm((x=I).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let f=null;t.limit&&(f=function(I){let x;return x="object"==typeof I?I.value:I,Dm(x)?null:x}(t.limit));let _=null;var I;t.startAt&&(_=new Jl((I=t.startAt).values||[],!!I.before));let w=null;return t.endAt&&(w=function(I){return new Jl(I.values||[],!I.before)}(t.endAt)),_C(e,i,u,a,f,"F",_,w)}function LO(n){return n?void 0!==n.unaryFilter?[RF(n)]:void 0!==n.fieldFilter?[OF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>LO(e)).reduce((e,t)=>e.concat(t)):it():[]}function MF(n){return F[n]}function xF(n){return z[n]}function Um(n){return{fieldPath:n.canonicalString()}}function jm(n){return zn.fromServerFormat(n.fieldPath)}function OF(n){return Jr.create(jm(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function RF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=jm(n.unaryFilter.field);return Jr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=jm(n.unaryFilter.field);return Jr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=jm(n.unaryFilter.field);return Jr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=jm(n.unaryFilter.field);return Jr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function kF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _s(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BO(e)),e=PF(n.get(t),e);return BO(e)}function PF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function BO(n){return n+"\x01\x01"}function nu(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Kt.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&it(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:it()}a=u+2}return new Kt(r)}const UO=["userId","batchId"];function NC(n,e){return[n,_s(e)]}function jO(n,e,t){return[n,_s(e),t]}const NF={},FF=["prefixPath","collectionGroup","readTime","documentId"],LF=["prefixPath","collectionGroup","documentId"],VF=["collectionGroup","readTime","prefixPath","documentId"],BF=["canonicalId","targetId"],UF=["targetId","path"],jF=["path","targetId"],HF=["collectionId","parent"],$F=["indexId","uid"],GF=["uid","sequenceNumber"],zF=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qF=["indexId","uid","orderedDocumentKey"],WF=["userId","collectionPath","documentId"],ZF=["userId","collectionPath","largestBatchId"],KF=["userId","collectionGroup","largestBatchId"],HO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YF=[...HO,"documentOverlays"],$O=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GO=$O,QF=[...GO,"indexConfiguration","indexState","indexEntries"];class MS extends Hv{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function ci(n,e){const t=Je(n);return Eo.N(t.ee,e)}class xS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&AC(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=PC();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(i.key)?null:f;const _=SC(u,f);null!==_&&r.set(i.key,_),u.isValidDocument()||u.convertToNoDocument(bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ut())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,(t,r)=>nb(t,r))&&cc(this.baseMutations,e.baseMutations,(t,r)=>nb(t,r))}}class OS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=RO;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new OS(e,t,r,i)}}class RS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zd{constructor(e,t,r,i,a=bt.min(),u=bt.min(),f=Cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Zd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zO{constructor(e){this.ne=e}}function qO(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:FC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Vt(i=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ye(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zf(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:zf(e.version)}}var i,a;return r}function FC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qf(n){const e=new wn(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Wf(n,e){const t=(e.baseMutations||[]).map(a=>Gf(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>Gf(n.ne,a)),i=wn.fromMillis(e.localWriteTimeMs);return new xS(e.batchId,i,t,r)}function ab(n){const e=qf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qf(n.lastLimboFreeSnapshotVersion):bt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=zs(zd(tu(i.documents[0])))):r=zs(FO(n.query)),new Zd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Cr.fromBase64String(n.resumeToken))}function WO(n,e){const t=zf(e.snapshotVersion),r=zf(e.lastLimboFreeSnapshotVersion);let i;i=Am(e.target)?PO(n.ne,e.target):NO(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function kS(n){const e=FO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Lf(e,e.limit,"L"):e}function PS(n,e){return new RS(e.largestBatchId,Gf(n.ne,e.overlayMutation))}function ZO(n,e){const t=e.path.lastSegment();return[n,_s(e.path.popLast()),t]}function KO(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:zf(r.readTime),documentKey:_s(r.documentKey.path),largestBatchId:r.largestBatchId}}class XF{getBundleMetadata(e,t){return YO(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return YO(e).put({bundleId:(r=t).id,createTime:zf(qe(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return QO(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:kS(i.bundledQuery),readTime:qf(i.readTime)};var i})}saveNamedQuery(e,t){return QO(e).put({name:(r=t).name,readTime:zf(qe(r.readTime)),bundledQuery:r.bundledQuery});var r}}function YO(n){return ci(n,"bundles")}function QO(n){return ci(n,"namedQueries")}class LC{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new LC(e,t.uid||"")}getOverlay(e,t){return lb(e).get(ZO(this.userId,t)).next(r=>r?PS(this.wt,r):null)}getOverlays(e,t){const r=al();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new RS(t,u);i.push(this.ie(e,f))}),ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(_s(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(lb(e).W("collectionPathOverlayIndex",f))}),ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=al(),a=_s(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return lb(e).K("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=PS(this.wt,_);i.set(w.getKey(),w)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=al();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).J({index:"collectionGroupOverlayIndex",range:f},(_,w,I)=>{const x=PS(this.wt,w);a.size()<i||x.largestBatchId===u?(a.set(x.getKey(),x),u=x.largestBatchId):I.done()}).next(()=>a)}ie(e,t){return lb(e).put(function(r,i,a){const[u,f,_]=ZO(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:mc(r.ne,a.mutation)}}(this.wt,this.userId,t))}}function lb(n){return ci(n,"documentOverlays")}class Zf{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Un(e.integerValue));else if("doubleValue"in e){const r=Un(e.doubleValue);isNaN(r)?this.ce(t,13):(this.ce(t,15),Im(r)?t.ae(0):t.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he(`${r.seconds||""}`),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Yl(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(t,45),t.ae(r.latitude||0),t.ae(r.longitude||0)}else"mapValue"in e?Zv(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):it()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const r=e.fields||{};this.ce(t,55);for(const i of Object.keys(r))this.le(i,t),this.oe(r[i],t)}me(e,t){const r=e.values||[];this.ce(t,50);for(const i of r)this.oe(i,t)}_e(e,t){this.ce(t,37),Ze.fromName(e).path.forEach(r=>{this.ce(t,60),this.ge(r,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function eL(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function JO(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=eL(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Zf.ye=new Zf;class tL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ie(r.value),r=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ie(r);else if(r<2048)this.Ie(960|r>>>6),this.Ie(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r);else{const i=t.codePointAt(0);this.Ie(240|i>>>18),this.Ie(128|63&i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i)}}this.Te()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}ve(e){const t=this.Ve(e),r=JO(t);this.Se(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}De(e){const t=this.Ve(e),r=JO(t);this.Se(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class nL{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class rL{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class ub{constructor(){this.Me=new tL,this.Fe=new nL(this.Me),this.$e=new rL(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Kf{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Kf(this.indexId,this.documentKey,this.arrayValue,r)}}function Yf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XO(n.arrayValue,e.arrayValue),0!==t?t:(t=XO(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function XO(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class iL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const r=t;r.ht()?this.Ke=r:this.qe.push(r)}}Ge(e){const t=jv(e);if(void 0!==t&&!this.Qe(t))return!1;const r=Ja(e);let i=0,a=0;for(;i<r.length&&this.Qe(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ke){const u=r[i];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class sL{constructor(){this.ze=new NS}addToCollectionParentIndex(e,t){return this.ze.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Wi.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class NS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new un(Kt.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(Kt.comparator)).toArray()}}const VC=new Uint8Array(0);class oL{constructor(e,t){this.user=e,this.databaseId=t,this.He=new NS,this.Je=new eu(r=>fc(r),(r,i)=>$d(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:r,parent:_s(i)};return eR(e).put(a)}return ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Uv(t),""],!1,!0);return eR(e).K(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(nu(u.parent))}return r})}addFieldIndex(e,t){const r=BC(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=db(e);return a.next(f=>{u.put(KO(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=BC(e),i=db(e),a=cb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cb(e);let i=!0;const a=new Map;return ue.forEach(this.Ye(t),u=>this.Xe(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=Ut();const f=[];return ue.forEach(a,(_,w)=>{var I;ke("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(lt=>`${lt.fieldPath}:${lt.kind}`).join(",")}`} to execute ${fc(t)}`);const x=function(lt,nt){const xt=jv(nt);if(void 0===xt)return null;for(const jt of Yv(lt,xt.fieldPath))switch(jt.op){case"array-contains-any":return jt.value.arrayValue.values||[];case"array-contains":return[jt.value]}return null}(w,_),L=function(lt,nt){const xt=new Map;for(const jt of Ja(nt))for(const hn of Yv(lt,jt.fieldPath))switch(hn.op){case"==":case"in":xt.set(jt.fieldPath.canonicalString(),hn.value);break;case"not-in":case"!=":return xt.set(jt.fieldPath.canonicalString(),hn.value),Array.from(xt.values())}return null}(w,_),B=function(lt,nt){const xt=[];let jt=!0;for(const hn of Ja(nt)){const Cs=0===hn.kind?Qv(lt,hn.fieldPath,lt.startAt):Jv(lt,hn.fieldPath,lt.startAt);xt.push(Cs.value),jt&&(jt=Cs.inclusive)}return new Jl(xt,jt)}(w,_),q=function(lt,nt){const xt=[];let jt=!0;for(const hn of Ja(nt)){const Cs=0===hn.kind?Jv(lt,hn.fieldPath,lt.endAt):Qv(lt,hn.fieldPath,lt.endAt);xt.push(Cs.value),jt&&(jt=Cs.inclusive)}return new Jl(xt,jt)}(w,_),le=this.Ze(_,w,B),Ee=this.Ze(_,w,q),Ue=this.tn(_,w,L),st=this.en(_.indexId,x,le,B.inclusive,Ee,q.inclusive,Ue);return ue.forEach(st,lt=>r.j(lt,t.limit).next(nt=>{nt.forEach(xt=>{const jt=Ze.fromSegments(xt.documentKey);u.has(jt)||(u=u.add(jt),f.push(jt))})}))}).next(()=>f)}return ue.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,r,i,a,u,f){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),w=_/(null!=t?t.length:1),I=[];for(let x=0;x<_;++x){const L=t?this.nn(t[x/w]):VC,B=this.sn(e,L,r[x%w],i),q=this.rn(e,L,a[x%w],u),le=f.map(Ee=>this.sn(e,L,Ee,!0));I.push(...this.createRange(B,q,le))}return I}sn(e,t,r,i){const a=new Kf(e,Ze.empty(),t,r);return i?a:a.Le()}rn(e,t,r,i){const a=new Kf(e,Ze.empty(),t,r);return i?a.Le():a}Xe(e,t){const r=new iL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)r.Ge(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;return ue.forEach(this.Ye(t),i=>this.Xe(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let f=new un(zn.comparator),_=!1;for(const w of u.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:f=f.add(I.field))}for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(i)&&(r=1):r=0})).next(()=>r)}on(e,t){const r=new ub;for(const i of Ja(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Be(i.kind);Zf.ye.re(a,u)}return r.Oe()}nn(e){const t=new ub;return Zf.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const r=new ub;return Zf.ye.re(nl(this.databaseId,t),r.Be(function(i){const a=Ja(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Oe()}tn(e,t,r){if(null===r)return[];let i=[];i.push(new ub);let a=0;for(const u of Ja(e)){const f=r[a++];for(const _ of i)if(this.cn(t,u.fieldPath)&&Rf(f))i=this.an(i,u,f);else{const w=_.Be(u.kind);Zf.ye.re(f,w)}}return this.hn(i)}Ze(e,t,r){return this.tn(e,t,r.position)}hn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Oe();return t}an(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const _=new ub;_.seed(f.Oe()),Zf.ye.re(u,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(r=>r instanceof Jr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=BC(e),i=db(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next(a=>{const u=[];return ue.forEach(a,f=>i.get([f.indexId,this.uid]).next(_=>{u.push(function(w,I){const x=I?new bm(I.sequenceNumber,new Wi(qf(I.readTime),new Ze(nu(I.documentKey)),I.largestBatchId)):bm.empty(),L=w.fields.map(([B,q])=>new Vd(zn.fromServerFormat(B),q));return new Mf(w.indexId,w.collectionGroup,L,x)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Rt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=BC(e),a=db(e);return this.ln(e).next(u=>i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ue.forEach(f,_=>a.put(KO(_.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ue.forEach(f,_=>this.fn(e,i,_).next(w=>{const I=this.dn(a,_);return w.isEqual(I)?ue.resolve():this._n(e,a,_,w,I)}))))})}wn(e,t,r,i){return cb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.un(r,t.key),documentKey:t.key.path.toArray()})}mn(e,t,r,i){return cb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.un(r,t.key),t.key.path.toArray()])}fn(e,t,r){const i=cb(e);let a=new un(Yf);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.un(r,t)])},(u,f)=>{a=a.add(new Kf(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let r=new un(Yf);const i=this.on(t,e);if(null==i)return r;const a=jv(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Rf(u))for(const f of u.arrayValue.values||[])r=r.add(new Kf(t.indexId,e.key,this.nn(f),i))}else r=r.add(new Kf(t.indexId,e.key,VC,i));return r}_n(e,t,r,i,a){ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,I,x){const L=f.getIterator(),B=_.getIterator();let q=Kl(L),le=Kl(B);for(;q||le;){let Ee=!1,Ue=!1;if(q&&le){const st=w(q,le);st<0?Ue=!0:st>0&&(Ee=!0)}else null!=q?Ue=!0:Ee=!0;Ee?(I(le),le=Kl(B)):Ue?(x(q),q=Kl(L)):(q=Kl(L),le=Kl(B))}}(i,a,Yf,f=>{u.push(this.wn(e,t,r,f))},f=>{u.push(this.mn(e,t,r,f))}),ue.waitFor(u)}ln(e){let t=1;return db(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Yf(u,f)).filter((u,f,_)=>!f||0!==Yf(u,_[f-1]));const i=[];i.push(e);for(const u of r){const f=Yf(u,e),_=Yf(u,t);if(0===f)i[0]=e.Le();else if(f>0&&_<0)i.push(u),i.push(u.Le());else if(_>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,VC,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,VC,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tR)}getMinOffset(e,t){return ue.mapArray(this.Ye(t),r=>this.Xe(e,r).next(i=>i||it())).next(tR)}}function eR(n){return ci(n,"collectionParents")}function cb(n){return ci(n,"indexEntries")}function BC(n){return ci(n,"indexConfiguration")}function db(n){return ci(n,"indexState")}function tR(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;wm(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Wi(e.readTime,e.documentKey,t)}const nR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qs(e,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=r.J({range:u},(I,x,L)=>(f++,L.delete()));a.push(_.next(()=>{Tt(1===f)}));const w=[];for(const I of t.mutations){const x=jO(e,I.key.path,t.batchId);a.push(i.delete(x)),w.push(I.key)}return ue.waitFor(a).next(()=>w)}function UC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}qs.DEFAULT_COLLECTION_PERCENTILE=10,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qs.DEFAULT=new qs(41943040,qs.DEFAULT_COLLECTION_PERCENTILE,qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qs.DISABLED=new qs(-1,0,0);class jC{constructor(e,t,r,i){this.userId=e,this.wt=t,this.indexManager=r,this.referenceDelegate=i,this.gn={}}static se(e,t,r,i){Tt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new jC(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).J({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Hm(e),u=Kd(e);return u.add({}).next(f=>{Tt("number"==typeof f);const _=new xS(f,t,r,i),w=function(L,B,q){const le=q.baseMutations.map(Ue=>mc(L.ne,Ue)),Ee=q.mutations.map(Ue=>mc(L.ne,Ue));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:le,mutations:Ee}}(this.wt,this.userId,_),I=[];let x=new un((L,B)=>Rt(L.canonicalString(),B.canonicalString()));for(const L of i){const B=jO(this.userId,L.key.path,f);x=x.add(L.key.path.popLast()),I.push(u.put(w)),I.push(a.put(B,NF))}return x.forEach(L=>{I.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),ue.waitFor(I).next(()=>_)})}lookupMutationBatch(e,t){return Kd(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Wf(this.wt,r)):null)}yn(e,t){return this.gn[t]?ue.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.gn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Kd(e).J({index:"userMutationsIndex",range:i},(u,f,_)=>{f.userId===this.userId&&(Tt(f.batchId>=r),a=Wf(this.wt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kd(e).J({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kd(e).K("userMutationsIndex",t).next(r=>r.map(i=>Wf(this.wt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=NC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Hm(e).J({range:i},(u,f,_)=>{const[w,I,x]=u,L=nu(I);if(w===this.userId&&t.path.isEqual(L))return Kd(e).get(x).next(B=>{if(!B)throw it();Tt(B.userId===this.userId),a.push(Wf(this.wt,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(Rt);const i=[];return t.forEach(a=>{const u=NC(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Hm(e).J({range:f},(w,I,x)=>{const[L,B,q]=w,le=nu(B);L===this.userId&&a.path.isEqual(le)?r=r.add(q):x.done()});i.push(_)}),ue.waitFor(i).next(()=>this.pn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=NC(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new un(Rt);return Hm(e).J({range:u},(_,w,I)=>{const[x,L,B]=_,q=nu(L);x===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(B)):I.done()}).next(()=>this.pn(e,f))}pn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Kd(e).get(a).next(u=>{if(null===u)throw it();Tt(u.userId===this.userId),r.push(Wf(this.wt,u))}))}),ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return rR(e.ee,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Hm(e).J({range:r},(a,u,f)=>{if(a[0]===this.userId){const _=nu(a[1]);i.push(_)}else f.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return iR(e,this.userId,t)}Tn(e){return sR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iR(n,e,t){const r=NC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Hm(n).J({range:a,H:!0},(f,_,w)=>{const[I,x,L]=f;I===e&&x===i&&(u=!0),w.done()}).next(()=>u)}function Kd(n){return ci(n,"mutations")}function Hm(n){return ci(n,"documentMutations")}function sR(n){return ci(n,"mutationQueues")}class Qf{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Qf(0)}static Rn(){return new Qf(-1)}}class aL{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const r=new Qf(t.highestTargetId);return t.highestTargetId=r.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>bt.fromTimestamp(new wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Pn(e,i)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(r=>(r.targetCount+=1,this.Vn(t,r),this.Pn(e,r))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>$m(e).delete(t.targetId)).next(()=>this.bn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.Pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return $m(e).J((u,f)=>{const _=ab(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return $m(e).J((r,i)=>{const a=ab(i);t(a)})}bn(e){return oR(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Pn(e,t){return oR(e).put("targetGlobalKey",t)}vn(e,t){return $m(e).put(WO(this.wt,t))}Vn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return $m(e).J({range:i,index:"queryTargetsIndex"},(u,f,_)=>{const w=ab(f);$d(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Yd(e);return t.forEach(u=>{const f=_s(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yd(e);return ue.forEach(t,a=>{const u=_s(a.path);return ue.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Yd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yd(e);let a=Ut();return i.J({range:r,H:!0},(u,f,_)=>{const w=nu(u[1]),I=new Ze(w);a=a.add(I)}).next(()=>a)}containsKey(e,t){const r=_s(t.path),i=IDBKeyRange.bound([r],[Uv(r)],!1,!0);let a=0;return Yd(e).J({index:"documentTargetsIndex",H:!0,range:i},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}te(e,t){return $m(e).get(t).next(r=>r?ab(r):null)}}function $m(n){return ci(n,"targets")}function oR(n){return ci(n,"targetGlobal")}function Yd(n){return ci(n,"targetDocuments")}function aR([n,e],[t,r]){const i=Rt(n,t);return 0===i?Rt(e,r):i}class lL{constructor(e){this.Sn=e,this.buffer=new un(aR),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){el(r)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Xa(r)}yield t.kn(3e5)}))}}class cL{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(gs.ot);const r=new lL(t);return this.On.forEachTarget(e,i=>r.xn(i.sequenceNumber)).next(()=>this.On.Fn(e,i=>r.xn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.On.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(nR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nR):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let r,i,a,u,f,_,w;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,f=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(w=Date.now(),mm()<=za.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${x} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class dL{constructor(e,t){this.db=e,this.garbageCollector=new cL(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Bn(e){let t=0;return this.Fn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(r,i)=>t(i))}addReference(e,t,r){return HC(e,r)}removeReference(e,t,r){return HC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return HC(e,t)}Un(e,t){return function(r,i){let a=!1;return sR(r).Y(u=>iR(r,u,i).next(f=>(f&&(a=!0),ue.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ln(e,(u,f)=>{if(f<=t){const _=this.Un(e,u).next(w=>{if(!w)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,bt.min()),Yd(e).delete([0,_s(u.path)])))});i.push(_)}}).next(()=>ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return HC(e,t)}Ln(e,t){const r=Yd(e);let i,a=gs.ot;return r.J({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==gs.ot&&t(new Ze(nu(i)),a),a=w,i=_):a=gs.ot}).next(()=>{a!==gs.ot&&t(new Ze(nu(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function HC(n,e){return Yd(n).put((r=n.currentSequenceNumber,{targetId:0,path:_s(e.path),sequenceNumber:r}));var r}class lR{constructor(){this.changes=new eu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class hL{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jf(e).put(r)}removeEntry(e,t,r){return Jf(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],FC(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.qn(e,r)))}getEntry(e,t){let r=Sn.newInvalidDocument(t);return Jf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r=this.Kn(t,a)}).next(()=>r)}Gn(e,t){let r={size:0,document:Sn.newInvalidDocument(t)};return Jf(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,a)=>{r={document:this.Kn(t,a),size:UC(a)}}).next(()=>r)}getEntries(e,t){let r=ms();return this.Qn(e,t,(i,a)=>{const u=this.Kn(i,a);r=r.insert(i,u)}).next(()=>r)}jn(e,t){let r=ms(),i=new Jn(Ze.comparator);return this.Qn(e,t,(a,u)=>{const f=this.Kn(a,u);r=r.insert(a,f),i=i.insert(a,UC(u))}).next(()=>({documents:r,Wn:i}))}Qn(e,t,r){if(t.isEmpty())return ue.resolve();let i=new un(hR);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(hb(i.first()),hb(i.last())),u=i.getIterator();let f=u.getNext();return Jf(e).J({index:"documentKeyIndex",range:a},(_,w,I)=>{const x=Ze.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&hR(f,x)<0;)r(f,null),f=u.getNext();f&&f.isEqual(x)&&(r(f,w),f=u.hasNext()?u.getNext():null),f?I.q(hb(f)):I.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),FC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jf(e).K(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=ms();for(const _ of u){const w=this.Kn(Ze.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=ms();const u=dR(t,r),f=dR(t,Wi.max());return Jf(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,I)=>{const x=this.Kn(Ze.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(x.key,x),a.size===i&&I.done()}).next(()=>a)}newChangeBuffer(e){return new fL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return cR(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}qn(e,t){return cR(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const r=function(n,e){let t;if(e.document)t=Bm(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=qf(e.noDocument.readTime);t=Sn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=Ze.fromSegments(e.unknownDocument.path),i=qf(e.unknownDocument.version);t=Sn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new wn(r[0],r[1]);return bt.fromTimestamp(i)}(e.readTime)),t}(this.wt,t);if(!r.isNoDocument()||!r.version.isEqual(bt.min()))return r}return Sn.newInvalidDocument(e)}}function uR(n){return new hL(n)}class fL extends lR{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new eu(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new un((a,u)=>Rt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=qO(this.zn.wt,u);i=i.add(a.path.popLast()),r+=UC(_)-f.size,t.push(this.zn.addEntry(e,a,_))}else if(r-=f.size,this.trackRemovals){const _=qO(this.zn.wt,u.convertToNoDocument(bt.min()));t.push(this.zn.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(r=>(this.Hn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:r,Wn:i})=>(i.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function cR(n){return ci(n,"remoteDocumentGlobal")}function Jf(n){return ci(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dR(n,e){const t=e.documentKey.path.toArray();return[n,FC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Rt(t[a],r[a]),i)return i;return i=Rt(t.length,r.length),i||(i=Rt(t[t.length-2],r[r.length-2]),i||Rt(t[t.length-1],r[r.length-1]))}class pL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class fR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Xl(r.mutation,i,Pr.empty(),wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ut()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ut()){const i=al();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Nm();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=al();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ut()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let a=ms();const u=Fm(),f=Fm();return t.forEach((_,w)=>{const I=r.get(w.key);i.has(w.key)&&(void 0===I||I.mutation instanceof ol)?a=a.insert(w.key,w):void 0!==I&&(u.set(w.key,I.mutation.getFieldMask()),Xl(I.mutation,w,I.mutation.getFieldMask(),wn.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,I)=>u.set(w,I)),t.forEach((w,I)=>{var x;return f.set(w,new pL(I,null!==(x=u.get(w))&&void 0!==x?x:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Fm();let i=new Jn((u,f)=>u-f),a=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let I=r.get(_)||Pr.empty();I=f.applyToLocalView(w,I),r.set(_,I);const x=(i.get(f.batchId)||Ut()).add(_);i=i.insert(f.batchId,x)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,I=_.value,x=PC();I.forEach(L=>{if(!a.has(L)){const B=SC(t.get(L),r.get(L));null!==B&&x.set(L,B),a=a.add(L)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,x))}return ue.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):bC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ue.resolve(al());let f=-1,_=a;return u.next(w=>ue.forEach(w,(I,x)=>(f<x.largestBatchId&&(f=x.largestBatchId),a.get(I)?ue.resolve():this.getBaseDocument(e,I,x).next(L=>{_=_.insert(I,L)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Ut())).next(I=>({batchId:f,changes:AS(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let i=Nm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Nm();return this.indexManager.getCollectionParents(e,i).next(u=>ue.forEach(u,f=>{const _=(w=t,I=f.child(i),new rl(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(w=>{w.forEach((I,x)=>{a=a.insert(I,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===i.get(w)&&(i=i.insert(w,Sn.newInvalidDocument(w)))});let u=Nm();return i.forEach((f,_)=>{const w=a.get(f);void 0!==w&&Xl(w.mutation,_,Pr.empty(),wn.now()),il(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):ue.resolve(Sn.newInvalidDocument(t))}}class gL{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return ue.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var r;return this.Jn.set(t.id,{id:(r=t).id,version:r.version,createTime:qe(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(r=t).name,query:kS(r.bundledQuery),readTime:qe(r.readTime)}),ue.resolve();var r}}class mL{constructor(){this.overlays=new Jn(Ze.comparator),this.Xn=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=al();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ie(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=al(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Jn((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>r){let I=a.get(w.largestBatchId);null===I&&(I=al(),a=a.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const f=al(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>f.set(w,I)),!(f.size()>=i)););return ue.resolve(f)}ie(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new RS(t,r));let a=this.Xn.get(t);void 0===a&&(a=Ut(),this.Xn.set(t,a)),this.Xn.set(t,a.add(r.key))}}class FS{constructor(){this.Zn=new un(di.ts),this.es=new un(di.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new di(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new di(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new Ze(new Kt([])),r=new di(t,e),i=new di(t,e+1),a=[];return this.es.forEachInRange([r,i],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ze(new Kt([])),r=new di(t,e),i=new di(t,e+1);let a=Ut();return this.es.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new di(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class di{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ze.comparator(e.key,t.key)||Rt(e.ls,t.ls)}static ns(e,t){return Rt(e.ls,t.ls)||Ze.comparator(e.key,t.key)}}class _L{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new un(di.ts)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.fs;this.fs++;const u=new xS(a,t,r,i);this.mutationQueue.push(u);for(const f of i)this.ds=this.ds.add(new di(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ws(t+1),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new di(t,0),i=new di(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],u=>{const f=this._s(u.ls);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(Rt);return t.forEach(i=>{const a=new di(i,0),u=new di(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],f=>{r=r.add(f.ls)})}),ue.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const u=new di(new Ze(a),0);let f=new un(Rt);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(_.ls)),!0)},u),ue.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return ue.forEach(t.mutations,i=>{const a=new di(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,t){const r=new di(t,0),i=this.ds.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yL{constructor(e){this.ps=e,this.docs=new Jn(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ps(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Sn.newInvalidDocument(t))}getEntries(e,t){let r=ms();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Sn.newInvalidDocument(i))}),ue.resolve(r)}getAllFromCollection(e,t,r){let i=ms();const a=new Ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||wm(tC(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ue.resolve(i)}getAllFromCollectionGroup(e,t,r,i){it()}Is(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vL(this)}getSize(e){return ue.resolve(this.size)}}class vL extends lR{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class bL{constructor(e){this.persistence=e,this.Ts=new eu(t=>fc(t),$d),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Es=0,this.As=new FS,this.targetCount=0,this.Rs=Qf.An()}forEachTarget(e,t){return this.Ts.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Es&&(this.Es=t),ue.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Qf(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.vn(t),ue.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Ts.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ue.waitFor(a).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.Ts.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.As.containsKey(t))}}class pR{constructor(e,t){this.bs={},this.overlays={},this.Ps=new gs(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new bL(this),this.indexManager=new sL,this.remoteDocumentCache=new yL(r=>this.referenceDelegate.Ss(r)),this.wt=new zO(t),this.Ds=new gL(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.bs[e.toKey()];return r||(r=new _L(t,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,r){ke("MemoryPersistence","Starting transaction:",e);const i=new wL(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(a=>this.referenceDelegate.xs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ns(e,t){return ue.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class wL extends Hv{constructor(e){super(),this.currentSequenceNumber=e}}class $C{constructor(e){this.persistence=e,this.ks=new FS,this.Os=null}static Ms(e){return new $C(e)}get Fs(){if(this.Os)return this.Os;throw it()}addReference(e,t,r){return this.ks.addReference(r,t),this.Fs.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.ks.removeReference(r,t),this.Fs.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),ue.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Fs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Fs,r=>{const i=Ze.fromPath(r);return this.$s(e,i).next(a=>{a||t.removeEntry(i,bt.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return ue.or([()=>ue.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class EL{constructor(e){this.wt=e}O(e,t,r,i){const a=new xf("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0}),f.createObjectStore("documentMutations"),gR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),gR(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,_){return _.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",UO,{unique:!0});const I=_.store("mutations"),x=w.map(L=>I.put(L));return ue.waitFor(x)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Bs(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),r<7&&i>=7&&(u=u.next(()=>this.Us(a))),r<8&&i>=8&&(u=u.next(()=>this.qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Ks(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:WF});_.createIndex("collectionPathOverlayIndex",ZF,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",KF,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:FF});_.createIndex("documentKeyIndex",LF),_.createIndex("collectionGroupIndex",VF)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.Qs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:$F}).createIndex("sequenceNumberIndex",GF,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:zF}).createIndex("documentKeyIndex",qF,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((r,i)=>{t+=UC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Bs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.K().next(i=>ue.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",u).next(f=>ue.forEach(f,_=>{Tt(_.userId===a.userId);const w=Wf(this.wt,_);return rR(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.J((u,f)=>{const _=new Kt(u),w=[0,_s(_)];a.push(t.get(w).next(I=>I?ue.resolve():t.put({targetId:0,path:_s(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:HF});const r=t.store("collectionParents"),i=new NS,a=u=>{if(i.add(u)){const f=u.lastSegment(),_=u.popLast();return r.put({collectionId:f,parent:_s(_)})}};return t.store("remoteDocuments").J({H:!0},(u,f)=>{const _=new Kt(u);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,f,_],w)=>{const I=nu(f);return a(I.popLast())}))}Ks(e){const t=e.store("targets");return t.J((r,i)=>{const a=ab(i),u=WO(this.wt,a);return t.put(u)})}Gs(e,t){const r=t.store("remoteDocuments"),i=[];return r.J((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new Ze(Kt.fromString(w.document.name).popFirst(5)):w.noDocument?Ze.fromSegments(w.noDocument.path):w.unknownDocument?Ze.fromSegments(w.unknownDocument.path):it()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(I))}).next(()=>ue.waitFor(i))}Qs(e,t){const r=t.store("mutations"),i=uR(this.wt),a=new pR($C.Ms,this.wt.ne);return r.K().next(u=>{const f=new Map;return u.forEach(_=>{var w;let I=null!==(w=f.get(_.userId))&&void 0!==w?w:Ut();Wf(this.wt,_).keys().forEach(x=>I=I.add(x)),f.set(_.userId,I)}),ue.forEach(f,(_,w)=>{const I=new kr(w),x=LC.se(this.wt,I),L=a.getIndexManager(I),B=jC.se(I,this.wt,L,a.referenceDelegate);return new fR(i,B,x,L).recalculateAndSaveOverlaysForDocumentKeys(new MS(t,gs.ot),_).next()})})}}function gR(n){n.createObjectStore("targetDocuments",{keyPath:UF}).createIndex("documentTargetsIndex",jF,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",BF,{unique:!0}),n.createObjectStore("targetGlobal")}const LS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VS{constructor(e,t,r,i,a,u,f,_,w,I,x=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.js=a,this.window=u,this.document=f,this.Ws=w,this.zs=I,this.Hs=x,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=L=>Promise.resolve(),!VS.V())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dL(this,i),this.ei=t+"main",this.wt=new zO(_),this.ni=new Eo(this.ei,this.Hs,new EL(this.wt)),this.Vs=new aL(this.referenceDelegate,this.wt),this.remoteDocumentCache=uR(this.wt),this.Ds=new XF,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&Qn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,LS);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new gs(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(el(e))return ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return fb(e).get("owner").next(t=>ue.resolve(this.di(t)))}_i(e){return GC(e).delete(this.clientId)}wi(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ci(r,"clientMetadata");return i.K().next(a=>{const u=e.gi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return ue.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const r of t)e.si.removeItem(e.yi(r.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?ue.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,LS);return!1}}return!(!this.networkEnabled||!this.inForeground)||GC(e).K().next(r=>void 0===this.gi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new MS(t,gs.ot);return e.li(r).next(()=>e._i(r))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(r=>this.mi(r.updateTimeMs,t)&&!this.pi(r.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>GC(e).K().next(t=>this.gi(t,18e5).map(r=>r.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return jC.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new oL(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return LC.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,r){ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Hs)?QF:14===u?GO:13===u?$O:12===u?YF:11===u?HO:void it();var u;let f;return this.ni.runTransaction(e,i,a,_=>(f=new MS(_,this.Ps?this.Ps.next():gs.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw Qn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Oe(me.FAILED_PRECONDITION,nC);return r(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,LS)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static V(){return Eo.V()}li(e){const t=fb(e);return t.get("owner").next(r=>this.di(r)?(ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}mi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Qn(`Detected an update time that is in the future: ${e} > ${r}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Lt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const r=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Qn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Qn("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return ci(n,"owner")}function GC(n){return ci(n,"clientMetadata")}function BS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class US{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Pi=r,this.vi=i}static Vi(e,t){let r=Ut(),i=Ut();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new US(e,t.fromCache,r,i)}}class mR{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ci(e,t).next(a=>a||this.xi(e,t,i,r)).next(a=>a||this.Ni(e,t))}Ci(e,t){return ue.resolve(null)}xi(e,t,r,i){return function(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(bt.min())?this.Ni(e,t):this.Di.getDocuments(e,r).next(a=>{const u=this.ki(t,a);return this.Oi(t,u,r,i)?this.Ni(e,t):(mm()<=za.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xm(t)),this.Mi(e,u,t,eC(i,-1)))})}ki(e,t){let r=new un(Om(e));return t.forEach((i,a)=>{il(e,a)&&(r=r.add(a))}),r}Oi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ni(e,t){return mm()<=za.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",xm(t)),this.Di.getDocumentsMatchingQuery(e,t,Wi.min())}Mi(e,t,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class CL{constructor(e,t,r,i){this.persistence=e,this.Fi=t,this.wt=i,this.$i=new Jn(Rt),this.Bi=new eu(a=>fc(a),$d),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function _R(n,e,t,r){return new CL(n,e,t,r)}function yR(n,e){return jS.apply(this,arguments)}function jS(){return jS=(0,we.Z)(function*(n,e){const t=Je(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let _=Ut();for(const w of i){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of a){f.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return t.localDocuments.getDocuments(r,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:f}))})})}),jS.apply(this,arguments)}function DL(n,e){const t=Je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const I=_.batch,x=I.keys();let L=ue.resolve();return x.forEach(B=>{L=L.next(()=>w.getEntry(f,B)).next(q=>{const le=_.docVersions.get(B);Tt(null!==le),q.version.compareTo(le)<0&&(I.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),L.next(()=>u.mutationQueue.removeMutationBatch(f,I))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=Ut();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function vR(n){const e=Je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function IL(n,e){const t=Je(n),r=e.snapshotVersion;let i=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});i=t.$i;const f=[];e.targetChanges.forEach((I,x)=>{const L=i.get(x);if(!L)return;f.push(t.Vs.removeMatchingKeys(a,I.removedDocuments,x).next(()=>t.Vs.addMatchingKeys(a,I.addedDocuments,x)));let B=L.withSequenceNumber(a.currentSequenceNumber);var q,le,Ee;e.targetMismatches.has(x)?B=B.withResumeToken(Cr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):I.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(I.resumeToken,r)),i=i.insert(x,B),le=B,Ee=I,(0===(q=L).resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,B))});let _=ms(),w=Ut();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,I))}),f.push(bR(a,u,e.documentUpdates).next(I=>{_=I.Gi,w=I.Qi})),!r.isEqual(bt.min())){const I=t.Vs.getLastRemoteSnapshotVersion(a).next(x=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(I)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=i,a))}function bR(n,e,t){let r=Ut(),i=Ut();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ms();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(bt.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:i}})}function TL(n,e){const t=Je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Gm(n,e){const t=Je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Vs.getTargetData(r,e).next(a=>a?(i=a,ue.resolve(i)):t.Vs.allocateTargetId(r).next(u=>(i=new Zd(e,u,0,r.currentSequenceNumber),t.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.$i=t.$i.insert(r.targetId,r),t.Bi.set(e,r.targetId)),r})}function zm(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,we.Z)(function*(n,e,t){const r=Je(n),i=r.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!el(u))throw u;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),HS.apply(this,arguments)}function zC(n,e,t){const r=Je(n);let i=bt.min(),a=Ut();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const I=Je(f),x=I.Bi.get(w);return void 0!==x?ue.resolve(I.$i.get(x)):I.Vs.getTargetData(_,w)}(r,u,zs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>r.Fi.getDocumentsMatchingQuery(u,e,t?i:bt.min(),t?a:Ut())).next(f=>(CR(r,eb(e),f),{documents:f,ji:a})))}function wR(n,e){const t=Je(n),r=Je(t.Vs),i=t.$i.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.te(a,e).next(u=>u?u.target:null))}function ER(n,e){const t=Je(n),r=t.Li.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ui.getAllFromCollectionGroup(i,e,eC(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(CR(t,e,i),i))}function CR(n,e,t){let r=bt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Li.set(e,r)}function $S(){return $S=(0,we.Z)(function*(n,e,t,r){const i=Je(n);let a=Ut(),u=ms();for(const w of t){const I=e.Wi(w.metadata.name);w.document&&(a=a.add(I));const x=e.zi(w);x.setReadTime(e.Hi(w.metadata.readTime)),u=u.insert(I,x)}const f=i.Ui.newChangeBuffer({trackRemovals:!0}),_=yield Gm(i,(w=r,zs(zd(Kt.fromString(`__bundle__/docs/${w}`)))));var w;return i.persistence.runTransaction("Apply bundle documents","readwrite",w=>bR(w,f,u).next(I=>(f.apply(w),I)).next(I=>i.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>i.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(w,I.Gi,I.Qi)).next(()=>I.Gi)))}),$S.apply(this,arguments)}function AL(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,we.Z)(function*(n,e,t=Ut()){const r=yield Gm(n,zs(kS(e.bundledQuery))),i=Je(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=qe(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ds.saveNamedQuery(a,e);const f=r.withResumeToken(Cr.EMPTY_BYTE_STRING,u);return i.$i=i.$i.insert(f.targetId,f),i.Vs.updateTargetData(a,f).next(()=>i.Vs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Vs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ds.saveNamedQuery(a,e))})}),GS.apply(this,arguments)}function DR(n,e){return`firestore_clients_${n}_${e}`}function IR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function zS(n,e){return`firestore_targets_${n}_${e}`}class qC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new qC(e,t,i.state,a):(Qn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new pb(e,r.state,i):(Qn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=o();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=fS(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new WC(e,a):(Qn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class qS{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new qS(t.clientId,t.onlineState):(Qn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class WS{constructor(){this.activeTargetIds=o()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(e,t,r,i,a){this.window=e,this.js=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Jn(Rt),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=DR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new WS),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Ri();for(const i of t){if(i===e.tr)continue;const a=e.getItem(DR(e.persistenceKey,i));if(a){const u=WC.Ji(i,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(zS(this.persistenceKey,e));if(r){const i=pb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(zS(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ke("SharedClientState","READ",e,t),t}setItem(e,t){ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Qn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.ar.test(r.key)){if(null!==r.newValue){const i=t.vr(r.key,r.newValue);if(i)return t.Vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let u=gs.ot;if(null!=a)try{const f=JSON.parse(a);Tt("number"==typeof f),u=f}catch(f){Qn("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==gs.ot&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new qC(this.currentUser,e,t,r),a=IR(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=IR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=zS(this.persistenceKey,e),a=new pb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return WC.Ji(r,t)}vr(e,t){const r=this.ar.exec(e),i=Number(r[1]);return qC.Ji(new kr(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return pb.Ji(i,t)}wr(e){return qS.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),u=[],f=[];return a.forEach(_=>{i.has(_)||u.push(_)}),i.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Mr(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=o();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class TR{constructor(){this.Fr=new WS,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new WS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ML{Br(e){}shutdown(){}}class SR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class OL{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class RL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const u=this.oo(e,t);ke("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,a),this.co(e,u,f,r).then(_=>(ke("RestConnection","Received: ",_),_),_=>{throw Ld("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",r),_})}ao(e,t,r,i,a,u){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${xL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,i){return new Promise((a,u)=>{const f=new Vv;f.listenOnce(TO.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fv.NO_ERROR:const w=f.getResponseJson();ke("Connection","XHR received:",JSON.stringify(w)),a(w);break;case Fv.TIMEOUT:ke("Connection",'RPC "'+e+'" timed out'),u(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case Fv.HTTP_ERROR:const I=f.getStatus();if(ke("Connection",'RPC "'+e+'" failed with status:',I,"response text:",f.getResponseText()),I>0){const x=f.getResponseJson().error;if(x&&x.status&&x.message){const L=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(q)>=0?q:me.UNKNOWN}(x.status);u(new Oe(L,x.message))}else u(new Oe(me.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{ke("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);f.send(t,"POST",_,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KE(),u=eS(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new YE({})),this.uo(f.initMessageHeaders,t,r),(0,Lt.uI)()||(0,Lt.b$)()||(0,Lt.d)()||(0,Lt.w1)()||(0,Lt.Mn)()||(0,Lt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");ke("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let I=!1,x=!1;const L=new OL({jr:q=>{x?ke("Connection","Not sending because WebChannel is closed:",q):(I||(ke("Connection","Opening WebChannel transport."),w.open(),I=!0),ke("Connection","WebChannel sending:",q),w.send(q))},Wr:()=>w.close()}),B=(q,le,Ee)=>{q.listen(le,Ue=>{try{Ee(Ue)}catch(st){setTimeout(()=>{throw st},0)}})};return B(w,Nd.EventType.OPEN,()=>{x||ke("Connection","WebChannel transport opened.")}),B(w,Nd.EventType.CLOSE,()=>{x||(x=!0,ke("Connection","WebChannel transport closed"),L.eo())}),B(w,Nd.EventType.ERROR,q=>{x||(x=!0,Ld("Connection","WebChannel transport errored:",q),L.eo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),B(w,Nd.EventType.MESSAGE,q=>{var le;if(!x){const Ee=q.data[0];Tt(!!Ee);const Ue=Ee,st=Ue.error||(null===(le=Ue[0])||void 0===le?void 0:le.error);if(st){ke("Connection","WebChannel received error:",st);const lt=st.status;let nt=function(jt){const hn=cr[jt];if(void 0!==hn)return kC(hn)}(lt),xt=st.message;void 0===nt&&(nt=me.INTERNAL,xt="Unknown error status: "+lt+" with message "+st.message),x=!0,L.eo(new Oe(nt,xt)),w.close()}else ke("Connection","WebChannel received:",Ee),L.no(Ee)}}),B(u,Lv.STAT_EVENT,q=>{q.stat===gm.PROXY?ke("Connection","Detected buffering proxy"):q.stat===gm.NOPROXY&&ke("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.Zr()},0),L}}function AR(){return"undefined"!=typeof window?window:null}function ZC(){return"undefined"!=typeof document?document:null}function gb(n){return new te(n,!0)}class KS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class MR{constructor(e,t,r,i,a,u,f,_){this.js=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new KS(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Qn(t.toString()),Qn("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kL extends MR{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:it(),i=e.targetChange.targetIds||[],a=function(_,w){return _.dt?(Tt(void 0===w||"string"==typeof w),Cr.fromBase64String(w||"")):(Tt(void 0===w||w instanceof Uint8Array),Cr.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?me.UNKNOWN:kC(_.code);return new Oe(w,_.message||"")}(u);t=new v(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Ht(n,r.document.name),a=qe(r.document.updateTime),u=new En({mapValue:{fields:r.document.fields}}),f=Sn.newFoundDocument(i,a,u);t=new h(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Ht(n,r.document),a=r.readTime?qe(r.readTime):bt.min(),u=Sn.newNoDocument(i,a);t=new h([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Ht(n,r.document);t=new h([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return it();{const r=e.filter,a=new IS(r.count||0);t=new g(r.targetId,a)}}var _;return t}(this.wt,e),r=function(i){if(!("targetChange"in i))return bt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?bt.min():a.readTime?qe(a.readTime):bt.min()}(e);return this.listener.Go(t,r)}Qo(e){const t={};t.database=gc(this.wt),t.addTarget=function(i,a){let u;const f=a.target;return u=Am(f)?{documents:PO(i,f)}:{query:NO(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=Fe(i,a.resumeToken):a.snapshotVersion.compareTo(bt.min())>0&&(u.readTime=ye(i,a.snapshotVersion.toTimestamp())),u}(this.wt,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}jo(e){const t={};t.database=gc(this.wt),t.removeTarget=e,this.Mo(t)}}class PL extends MR{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let a=qe(r.updateTime?r.updateTime:i);return a.isEqual(bt.min())&&(a=qe(i)),new TC(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=qe(e.commitTime);return this.listener.Jo(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=gc(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>mc(this.wt,r))};this.Mo(t)}}class NL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(me.UNKNOWN,i.toString())})}ao(e,t,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Oe(me.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class FL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Qn(t),this.su=!1):ke("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class LL{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var _;Qd(u)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,we.Z)(function*(w){const I=Je(w);I.lu.add(4),yield qm(I),I._u.set("Unknown"),I.lu.delete(4),yield mb(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new FL(r,i)}}function mb(n){return YS.apply(this,arguments)}function YS(){return YS=(0,we.Z)(function*(n){if(Qd(n))for(const e of n.fu)yield e(!0)}),YS.apply(this,arguments)}function qm(n){return QS.apply(this,arguments)}function QS(){return QS=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),QS.apply(this,arguments)}function KC(n,e){const t=Je(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),eA(t)?XS(t):Zm(t).Co()&&JS(t,e))}function _b(n,e){const t=Je(n),r=Zm(t);t.hu.delete(e),r.Co()&&xR(t,e),0===t.hu.size&&(r.Co()?r.ko():Qd(t)&&t._u.set("Unknown"))}function JS(n,e){n.wu.Nt(e.targetId),Zm(n).Qo(e)}function xR(n,e){n.wu.Nt(e),Zm(n).jo(e)}function XS(n){n.wu=new C({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Zm(n).start(),n._u.iu()}function eA(n){return Qd(n)&&!Zm(n).Do()&&n.hu.size>0}function Qd(n){return 0===Je(n).lu.size}function OR(n){n.wu=void 0}function VL(n){return tA.apply(this,arguments)}function tA(){return tA=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{JS(n,e)})}),tA.apply(this,arguments)}function BL(n,e){return nA.apply(this,arguments)}function nA(){return nA=(0,we.Z)(function*(n,e){OR(n),eA(n)?(n._u.uu(e),XS(n)):n._u.set("Unknown")}),nA.apply(this,arguments)}function UL(n,e,t){return rA.apply(this,arguments)}function rA(){return rA=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof v&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YC(n,r)}else if(e instanceof h?n.wu.Ut(e):e instanceof g?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(bt.min()))try{const r=yield vR(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.wu.Yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=i.hu.get(_);w&&i.hu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=i.hu.get(f);if(!_)return;i.hu.set(f,_.withResumeToken(Cr.EMPTY_BYTE_STRING,_.snapshotVersion)),xR(i,f);const w=new Zd(_.target,f,1,_.sequenceNumber);JS(i,w)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){ke("RemoteStore","Failed to raise snapshot:",r),yield YC(n,r)}var r}),rA.apply(this,arguments)}function YC(n,e,t){return iA.apply(this,arguments)}function iA(){return iA=(0,we.Z)(function*(n,e,t){if(!el(e))throw e;n.lu.add(1),yield qm(n),n._u.set("Offline"),t||(t=()=>vR(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield mb(n)}))}),iA.apply(this,arguments)}function RR(n,e){return e().catch(t=>YC(n,t,e))}function Wm(n){return sA.apply(this,arguments)}function sA(){return sA=(0,we.Z)(function*(n){const e=Je(n),t=Jd(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;jL(e);)try{const i=yield TL(e.localStore,r);if(null===i){0===e.au.length&&t.ko();break}r=i.batchId,HL(e,i)}catch(i){yield YC(e,i)}kR(e)&&PR(e)}),sA.apply(this,arguments)}function jL(n){return Qd(n)&&n.au.length<10}function HL(n,e){n.au.push(e);const t=Jd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function kR(n){return Qd(n)&&!Jd(n).Do()&&n.au.length>0}function PR(n){Jd(n).start()}function $L(n){return oA.apply(this,arguments)}function oA(){return oA=(0,we.Z)(function*(n){Jd(n).Xo()}),oA.apply(this,arguments)}function GL(n){return aA.apply(this,arguments)}function aA(){return aA=(0,we.Z)(function*(n){const e=Jd(n);for(const t of n.au)e.Ho(t.mutations)}),aA.apply(this,arguments)}function zL(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,we.Z)(function*(n,e,t){const r=n.au.shift(),i=OS.from(r,e,t);yield RR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wm(n)}),lA.apply(this,arguments)}function qL(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,we.Z)(function*(n,e){var t;e&&Jd(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(RC(a=i.code)&&a!==me.ABORTED){const u=r.au.shift();Jd(r).No(),yield RR(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Wm(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kR(n)&&PR(n)}),uA.apply(this,arguments)}function NR(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,we.Z)(function*(n,e){const t=Je(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const r=Qd(t);t.lu.add(3),yield qm(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield mb(t)}),cA.apply(this,arguments)}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,we.Z)(function*(n,e){const t=Je(n);e?(t.lu.delete(2),yield mb(t)):e||(t.lu.add(2),yield qm(t),t._u.set("Unknown"))}),hA.apply(this,arguments)}function Zm(n){return n.mu||(n.mu=function(e,t,r){const i=Je(e);return i.tu(),new kL(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:VL.bind(null,n),Jr:BL.bind(null,n),Go:UL.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),eA(n)?XS(n):n._u.set("Unknown")):(yield n.mu.stop(),OR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Jd(n){return n.gu||(n.gu=function(e,t,r){const i=Je(e);return i.tu(),new PL(t,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(n.datastore,n.asyncQueue,{zr:$L.bind(null,n),Jr:qL.bind(null,n),Yo:GL.bind(null,n),Jo:zL.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield Wm(n)):(yield n.gu.stop(),n.au.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class fA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new fA(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(n,e){if(Qn("AsyncQueue",`${e}: ${n}`),el(n))return new Oe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class Ym{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=Nm(),this.sortedSet=new Jn(this.comparator)}static emptySet(e){return new Ym(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ym)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ym;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class FR{constructor(){this.yu=new Jn(Ze.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Qm{constructor(e,t,r,i,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Qm(e,t,Ym.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class WL{constructor(){this.Iu=void 0,this.listeners=[]}}class ZL{constructor(){this.queries=new eu(e=>wC(e),Vf),this.onlineState="Unknown",this.Tu=new Set}}function pA(n,e){return gA.apply(this,arguments)}function gA(){return gA=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new WL),i)try{a.Iu=yield t.onListen(r)}catch(u){const f=Km(u,`Initialization of query '${xm(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&yA(t)}),gA.apply(this,arguments)}function mA(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,we.Z)(function*(n,e){const t=Je(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_A.apply(this,arguments)}function KL(n,e){const t=Je(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&yA(t)}function YL(n,e,t){const r=Je(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function yA(n){n.Tu.forEach(e=>{e.next()})}class vA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Qm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Qm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class QL{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class LR{constructor(e){this.wt=e}Wi(e){return Ht(this.wt,e)}zi(e){return e.metadata.exists?Bm(this.wt,e.document,!1):Sn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return qe(e)}}class JL{constructor(e,t,r){this.xu=e,this.localStore=t,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=VR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Kt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new LR(this.wt);for(const i of e)if(i.metadata.queries){const a=r.Wi(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Ut()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function(n,e,t,r){return $S.apply(this,arguments)}(e.localStore,new LR(e.wt),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield AL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function VR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BR{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class jR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Ut(),this.mutatedKeys=Ut(),this.Lu=Om(e),this.Uu=new Ym(this.Lu)}get qu(){return this.Fu}Ku(e,t){const r=t?t.Gu:new FR,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((I,x)=>{const L=i.get(I),B=il(this.query,x)?x:null,q=!!L&&this.mutatedKeys.has(L.key),le=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ee=!1;L&&B?L.data.isEqual(B.data)?q!==le&&(r.track({type:3,doc:B}),Ee=!0):this.Qu(L,B)||(r.track({type:2,doc:B}),Ee=!0,(_&&this.Lu(B,_)>0||w&&this.Lu(B,w)<0)&&(f=!0)):!L&&B?(r.track({type:0,doc:B}),Ee=!0):L&&!B&&(r.track({type:1,doc:L}),Ee=!0,(_||w)&&(f=!0)),Ee&&(B?(u=u.add(B),a=le?a.add(I):a.delete(I)):(u=u.delete(I),a=a.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),a=a.delete(I.key),r.track({type:1,doc:I})}return{Uu:u,Gu:r,Oi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,I)=>function(x,L){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return B(x)-B(L)}(w.type,I.type)||this.Lu(w.doc,I.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new Qm(this.query,e.Uu,i,a,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new FR,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Ut(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new UR(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new BR(r))}),t}Ju(e){this.Fu=e.ji,this.Bu=Ut();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Qm.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class XL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class eV{constructor(e){this.key=e,this.Xu=!1}}class tV{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new eu(f=>wC(f),Vf),this.ec=new Map,this.nc=new Set,this.sc=new Jn(Ze.comparator),this.ic=new Map,this.rc=new FS,this.oc={},this.uc=new Map,this.cc=Qf.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function nV(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,we.Z)(function*(n,e){const t=$A(n);let r,i;const a=t.tc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const u=yield Gm(t.localStore,zs(e));t.isPrimaryClient&&KC(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield wA(t,e,r,"current"===f)}return i}),bA.apply(this,arguments)}function wA(n,e,t,r){return EA.apply(this,arguments)}function EA(){return EA=(0,we.Z)(function*(n,e,t,r){n.hc=(I,x,L)=>{return(B=(0,we.Z)(function*(q,le,Ee,Ue){let st=le.view.Ku(Ee);st.Oi&&(st=yield zC(q.localStore,le.query,!1).then(({documents:xt})=>le.view.Ku(xt,st)));const lt=Ue&&Ue.targetChanges.get(le.targetId),nt=le.view.applyChanges(st,q.isPrimaryClient,lt);return RA(q,le.targetId,nt.zu),nt.snapshot}),function(q,le,Ee,Ue){return B.apply(this,arguments)})(n,I,x,L);var B};const i=yield zC(n.localStore,e,!0),a=new jR(e,i.ji),u=a.Ku(i.documents),f=c.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);RA(n,t,_.zu);const w=new XL(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),EA.apply(this,arguments)}function rV(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,we.Z)(function*(n,e){const t=Je(n),r=t.tc.get(e),i=t.ec.get(r.targetId);if(i.length>1)return t.ec.set(r.targetId,i.filter(a=>!Vf(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_b(t.remoteStore,r.targetId),Jm(t,r.targetId)}).catch(Xa))):(Jm(t,r.targetId),yield zm(t.localStore,r.targetId,!0))}),CA.apply(this,arguments)}function DA(){return DA=(0,we.Z)(function*(n,e,t){const r=GA(n);try{const i=yield function(a,u){const f=Je(a),_=wn.now(),w=u.reduce((L,B)=>L.add(B.key),Ut());let I,x;return f.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=ms(),q=Ut();return f.Ui.getEntries(L,w).next(le=>{B=le,B.forEach((Ee,Ue)=>{Ue.isValidDocument()||(q=q.add(Ee))})}).next(()=>f.localDocuments.getOverlayedDocuments(L,B)).next(le=>{I=le;const Ee=[];for(const Ue of u){const st=DS(Ue,I.get(Ue.key).overlayedDocument);null!=st&&Ee.push(new ol(Ue.key,st,hC(st.value.mapValue),Vn.exists(!0)))}return f.mutationQueue.addMutationBatch(L,_,Ee,u)}).next(le=>{x=le;const Ee=le.applyToLocalDocumentSet(I,q);return f.documentOverlayCache.saveOverlays(L,le.batchId,Ee)})}).then(()=>({batchId:x.batchId,changes:AS(I)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let _=a.oc[a.currentUser.toKey()];_||(_=new Jn(Rt)),_=_.insert(u,f),a.oc[a.currentUser.toKey()]=_}(r,i.batchId,t),yield _c(r,i.changes),yield Wm(r.remoteStore)}catch(i){const a=Km(i,"Failed to persist write");t.reject(a)}}),DA.apply(this,arguments)}function HR(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n,e){const t=Je(n);try{const r=yield IL(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ic.get(a);u&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?Tt(u.Xu):i.removedDocuments.size>0&&(Tt(u.Xu),u.Xu=!1))}),yield _c(t,r,e)}catch(r){yield Xa(r)}}),IA.apply(this,arguments)}function $R(n,e,t){const r=Je(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.tc.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=Je(a);f.onlineState=u;let _=!1;f.queries.forEach((w,I)=>{for(const x of I.listeners)x.Eu(u)&&(_=!0)}),_&&yA(f)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function sV(n,e,t){return TA.apply(this,arguments)}function TA(){return TA=(0,we.Z)(function*(n,e,t){const r=Je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ic.get(e),a=i&&i.key;if(a){let u=new Jn(Ze.comparator);u=u.insert(a,Sn.newNoDocument(a,bt.min()));const f=Ut().add(a),_=new l(bt.min(),new Map,new un(Rt),u,f);yield HR(r,_),r.sc=r.sc.remove(a),r.ic.delete(e),kA(r)}else yield zm(r.localStore,e,!1).then(()=>Jm(r,e,t)).catch(Xa)}),TA.apply(this,arguments)}function oV(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,we.Z)(function*(n,e){const t=Je(n),r=e.batch.batchId;try{const i=yield DL(t.localStore,e);OA(t,r,null),xA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _c(t,i)}catch(i){yield Xa(i)}}),SA.apply(this,arguments)}function aV(n,e,t){return AA.apply(this,arguments)}function AA(){return AA=(0,we.Z)(function*(n,e,t){const r=Je(n);try{const i=yield function(a,u){const f=Je(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(I=>(Tt(null!==I),w=I.keys(),f.mutationQueue.removeMutationBatch(_,I))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(r.localStore,e);OA(r,e,t),xA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _c(r,i)}catch(i){yield Xa(i)}}),AA.apply(this,arguments)}function MA(){return MA=(0,we.Z)(function*(n,e){const t=Je(n);Qd(t.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=Je(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.uc.get(r)||[];i.push(e),t.uc.set(r,i)}catch(r){const i=Km(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),MA.apply(this,arguments)}function xA(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function OA(n,e,t){const r=Je(n);let i=r.oc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ec.get(e))n.tc.delete(r),t&&n.Zu.lc(r,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(r=>{n.rc.containsKey(r)||GR(n,r)})}function GR(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(_b(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),kA(n))}function RA(n,e,t){for(const r of t)r instanceof BR?(n.rc.addReference(r.key,e),uV(n,r)):r instanceof UR?(ke("SyncEngine","Document no longer in limbo: "+r.key),n.rc.removeReference(r.key,e),n.rc.containsKey(r.key)||GR(n,r.key)):it()}function uV(n,e){const t=e.key,r=t.path.canonicalString();n.sc.get(t)||n.nc.has(r)||(ke("SyncEngine","New document in limbo: "+t),n.nc.add(r),kA(n))}function kA(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Ze(Kt.fromString(e)),r=n.cc.next();n.ic.set(r,new eV(t)),n.sc=n.sc.insert(t,r),KC(n.remoteStore,new Zd(zs(zd(t.path)),r,2,gs.ot))}}function _c(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],a=[],u=[];var f;r.tc.isEmpty()||(r.tc.forEach((f,_)=>{u.push(r.hc(_,e,t).then(w=>{if(w){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),i.push(w);const I=US.Vi(_.targetId,w);a.push(I)}}))}),yield Promise.all(u),r.Zu.Go(i),yield(f=(0,we.Z)(function*(_,w){const I=Je(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ue.forEach(w,L=>ue.forEach(L.Pi,B=>I.persistence.referenceDelegate.addReference(x,L.targetId,B)).next(()=>ue.forEach(L.vi,B=>I.persistence.referenceDelegate.removeReference(x,L.targetId,B)))))}catch(x){if(!el(x))throw x;ke("LocalStore","Failed to update sequence numbers: "+x)}for(const x of w){const L=x.targetId;if(!x.fromCache){const B=I.$i.get(L),le=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);I.$i=I.$i.insert(L,le)}}}),function(_,w){return f.apply(this,arguments)})(r.localStore,a))}),PA.apply(this,arguments)}function cV(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,we.Z)(function*(n,e){const t=Je(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const r=yield yR(t.localStore,e);t.currentUser=e,(i=t).uc.forEach(u=>{u.forEach(f=>{f.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _c(t,r.Ki)}var i}),NA.apply(this,arguments)}function dV(n,e){const t=Je(n),r=t.ic.get(e);if(r&&r.Xu)return Ut().add(r.key);{let i=Ut();const a=t.ec.get(e);if(!a)return i;for(const u of a){const f=t.tc.get(u);i=i.unionWith(f.view.qu)}return i}}function hV(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,we.Z)(function*(n,e){const t=Je(n),r=yield zC(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&RA(t,e.targetId,i.zu),i}),FA.apply(this,arguments)}function fV(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,we.Z)(function*(n,e){const t=Je(n);return ER(t.localStore,e).then(r=>_c(t,r))}),LA.apply(this,arguments)}function pV(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,we.Z)(function*(n,e,t,r){const i=Je(n),a=yield function(u,f){const _=Je(u),w=Je(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.yn(I,f).next(x=>x?_.localDocuments.getDocuments(I,x):ue.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Wm(i.remoteStore):"acknowledged"===t||"rejected"===t?(OA(i,e,r||null),xA(i,e),f=e,Je(Je(i.localStore).mutationQueue).In(f)):it(),yield _c(i,a)):ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),VA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(n,e){const t=Je(n);if($A(t),GA(t),!0===e&&!0!==t.ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield zR(t,r.toArray());t.ac=!0,yield dA(t.remoteStore,!0);for(const a of i)KC(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const r=[];let i=Promise.resolve();t.ec.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Jm(t,u),zm(t.localStore,u,!0))),_b(t.remoteStore,u)}),yield i,yield zR(t,r),function(a){const u=Je(a);u.ic.forEach((f,_)=>{_b(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new Jn(Ze.comparator)}(t),t.ac=!1,yield dA(t.remoteStore,!1)}}),BA.apply(this,arguments)}function zR(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,we.Z)(function*(n,e,t){const r=Je(n),i=[],a=[];for(const u of e){let f;const _=r.ec.get(u);if(_&&0!==_.length){f=yield Gm(r.localStore,zs(_[0]));for(const w of _){const I=r.tc.get(w),x=yield hV(r,I);x.snapshot&&a.push(x.snapshot)}}else{const w=yield wR(r.localStore,u);f=yield Gm(r.localStore,w),yield wA(r,qR(w),u,!1)}i.push(f)}return r.Zu.Go(a),i}),UA.apply(this,arguments)}function qR(n){return _C(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mV(n){const e=Je(n);return Je(Je(e.localStore).persistence).Ri()}function _V(n,e,t,r){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,e,t,r){const i=Je(n);if(i.ac)return void ke("SyncEngine","Ignoring unexpected query state notification.");const a=i.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield ER(i.localStore,eb(a[0])),f=l.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _c(i,u,f);break}case"rejected":yield zm(i.localStore,e,!0),Jm(i,e,r);break;default:it()}}),jA.apply(this,arguments)}function yV(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,we.Z)(function*(n,e,t){const r=$A(n);if(r.ac){for(const i of e){if(r.ec.has(i)){ke("SyncEngine","Adding an already active target "+i);continue}const a=yield wR(r.localStore,i),u=yield Gm(r.localStore,a);yield wA(r,qR(a),u.targetId,!1),KC(r.remoteStore,u)}for(const i of t)r.ec.has(i)&&(yield zm(r.localStore,i,!1).then(()=>{_b(r.remoteStore,i),Jm(r,i)}).catch(Xa))}}),HA.apply(this,arguments)}function $A(n){const e=Je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.Zu.Go=KL.bind(null,e.eventManager),e.Zu.lc=YL.bind(null,e.eventManager),e}function GA(n){const e=Je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aV.bind(null,e),e}class WR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.wt=gb(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return _R(this.persistence,new mR,e.initialUser,this.wt)}_c(e){return new pR($C.Ms,this.wt)}dc(e){return new TR}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZR extends WR{constructor(e,t,r){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.yc.initialize(r,e),yield GA(r.yc.syncEngine),yield Wm(r.yc.remoteStore),yield r.persistence.ci(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return _R(this.persistence,new mR,e.initialUser,this.wt)}mc(e,t){return new uL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const r=new AO(t,this.persistence);return new aC(e.asyncQueue,r)}_c(e){const t=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?qs.withCacheSize(this.cacheSizeBytes):qs.DEFAULT;return new VS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AR(),ZC(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new TR}}class bV extends ZR{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.yc.syncEngine;r.sharedClientState instanceof ZS&&(r.sharedClientState.syncEngine={kr:pV.bind(null,i),Or:_V.bind(null,i),Mr:yV.bind(null,i),Ri:mV.bind(null,i),Nr:fV.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.ci(function(){var a=(0,we.Z)(function*(u){yield function(n,e){return BA.apply(this,arguments)}(r.yc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(e){const t=AR();if(!ZS.V(t))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class zA{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$R(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,r.syncEngine),yield dA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZL}createDatastore(e){const t=gb(e.databaseInfo.databaseId),r=new RL(e.databaseInfo);return new NL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>$R(this.syncEngine,f,0),u=SR.V()?new SR:new ML,new LL(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,_,w){const I=new tV(r,i,a,u,f,_);return w&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=Je(t);ke("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield qm(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KR(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class QC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wV{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new sn,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,we.Z)(function*(){const t=yield e.bc();if(null===t)return null;const r=e.Ac.decode(t),i=Number(r);isNaN(i)&&e.Pc(`length string (${r}) is not valid number`);const a=yield e.vc(i);return new QL(JSON.parse(a),t.length+i)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,we.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const r=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class EV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,u){const f=Je(a),_=gc(f.wt)+"/documents",w={documents:u.map(B=>Vt(f.wt,B))},I=yield f.ao("BatchGetDocuments",_,w,u.length),x=new Map;I.forEach(B=>{const q=function(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Ht(t,r.found.name),a=qe(r.found.updateTime),u=new En({mapValue:{fields:r.found.fields}});return Sn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Ht(t,r.missing),a=qe(r.readTime);return Sn.newNoDocument(i,a)}(n,e):it()}(f.wt,B);x.set(q.key.toString(),q)});const L=[];return u.forEach(B=>{const q=x.get(B.toString());Tt(!!q),L.push(q)}),L}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new $f(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new rb(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const u=Je(i),f=gc(u.wt)+"/documents",_={writes:a.map(w=>mc(u.wt,w))};yield u.ro("Commit",f,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Vn.updateTime(t):Vn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vn.updateTime(t)}return Vn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CV{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new KS(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new EV(e.datastore),r=e.xc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Nc(a)}))}).catch(i=>{e.Nc(i)})}))}xc(e){try{const t=this.updateFunction(e);return!Dm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!RC(t)}return!1}}class DV{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kr.UNAUTHENTICATED,this.clientId=XE.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,we.Z)(function*(f){ke("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(ke("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Km(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function YR(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield yR(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),qA.apply(this,arguments)}function QR(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZA(n);ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>NR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>NR(e.remoteStore,a)),n.onlineComponents=e}),WA.apply(this,arguments)}function ZA(n){return KA.apply(this,arguments)}function KA(){return KA=(0,we.Z)(function*(n){return n.offlineComponents||(ke("FirestoreClient","Using default OfflineComponentProvider"),yield YR(n,new WR)),n.offlineComponents}),KA.apply(this,arguments)}function JC(n){return YA.apply(this,arguments)}function YA(){return YA=(0,we.Z)(function*(n){return n.onlineComponents||(ke("FirestoreClient","Using default OnlineComponentProvider"),yield QR(n,new zA)),n.onlineComponents}),YA.apply(this,arguments)}function JR(n){return ZA(n).then(e=>e.persistence)}function QA(n){return ZA(n).then(e=>e.localStore)}function XR(n){return JC(n).then(e=>e.remoteStore)}function JA(n){return JC(n).then(e=>e.syncEngine)}function Xm(n){return XA.apply(this,arguments)}function XA(){return XA=(0,we.Z)(function*(n){const e=yield JC(n),t=e.eventManager;return t.onListen=nV.bind(null,e.syncEngine),t.onUnlisten=rV.bind(null,e.syncEngine),t}),XA.apply(this,arguments)}function ek(n,e,t={}){const r=new sn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,_){const w=new QC({next:x=>{a.enqueueAndForget(()=>mA(i,I));const L=x.docs.has(u);!L&&x.fromCache?_.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&x.fromCache&&f&&"server"===f.source?_.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new vA(zd(u.path),w,{includeMetadataChanges:!0,Du:!0});return pA(i,I)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}function tk(n,e,t={}){const r=new sn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,_){const w=new QC({next:x=>{a.enqueueAndForget(()=>mA(i,I)),x.fromCache&&"server"===f.source?_.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),I=new vA(u,w,{includeMetadataChanges:!0,Du:!0});return pA(i,I)}(yield Xm(n),n.asyncQueue,e,t,r)})),r.promise}const nk=new Map;function eM(n,e,t){if(!t)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rk(n,e,t,r){if(!0===e&&!0===r)throw new Oe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ik(n){if(!Ze.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sk(n){if(Ze.isDocumentKey(n))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XC(n);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ok(n,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ak{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ak({}),this._settingsFrozen=!1,e instanceof ca?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ak(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new tS;switch(t.type){case"gapi":const r=t.client;return Tt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rS(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nk.get(e);t&&(ke("ComponentProvider","Removing Datastore"),nk.delete(e),t.terminate())}(this),Promise.resolve()}}class jn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jn(this.firestore,e,this._key)}}class Zi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zi(this.firestore,e,this._query)}}class ru extends Zi{constructor(e,t,r){super(e,t,zd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jn(this.firestore,null,new Ze(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function lk(n,e,...t){if(n=(0,Lt.m9)(n),eM("collection","path",e),n instanceof yb){const r=Kt.fromString(e,...t);return sk(r),new ru(n,null,r)}{if(!(n instanceof jn||n instanceof ru))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return sk(r),new ru(n.firestore,null,r)}}function eD(n,e,...t){if(n=(0,Lt.m9)(n),1===arguments.length&&(e=XE.I()),eM("doc","path",e),n instanceof yb){const r=Kt.fromString(e,...t);return ik(r),new jn(n,null,new Ze(r))}{if(!(n instanceof jn||n instanceof ru))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Kt.fromString(e,...t));return ik(r),new jn(n.firestore,n instanceof ru?n.converter:null,new Ze(r))}}function uk(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),(n instanceof jn||n instanceof ru)&&(e instanceof jn||e instanceof ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ck(n,e){return n=(0,Lt.m9)(n),e=(0,Lt.m9)(e),n instanceof Zi&&e instanceof Zi&&n.firestore===e.firestore&&Vf(n._query,e._query)&&n.converter===e.converter}class NV{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new KS(this,"async_queue_retry"),this.Kc=()=>{const t=ZC();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=ZC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=ZC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new sn;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!el(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,Qn("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=t,t}enqueueAfterDelay(e,t,r){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const i=fA.createAndSchedule(this,e,t,r,a=>this.Wc(a));return this.$c.push(i),i}Gc(){this.Bc&&it()}verifyOperationInProgress(){}zc(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function tM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class FV{constructor(){this._progressObserver={},this._taskCompletionResolver=new sn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends yb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new NV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dk(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||dk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dk(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Cm(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new DV(n._authCredentials,n._appCheckCredentials,n._queue,r)}function hk(n,e,t){const r=new sn;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield YR(n,t),yield QR(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function fk(n){if(n._initialized||n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class yc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iu(Cr.fromBase64String(e))}catch(t){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new iu(Cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xf{constructor(e){this._methodName=e}}class tD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const qV=/^__.*__$/;class WV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new sl(e,this.data,t,this.fieldTransforms)}}class pk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class nD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new nD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return sD(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(gk(this.Zc)&&qV.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class ZV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=r||gb(e)}aa(e,t,r,i=!1){return new nD({Zc:e,methodName:t,ca:r,path:zn.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function ep(n){const e=n._freezeSettings(),t=gb(n._databaseId);return new ZV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rD(n,e,t,r,i,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,e,t,i);sM("Data must be an object, but it was:",u,r);const f=yk(r,u);let _,w;if(a.merge)_=new Pr(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const I=[];for(const x of a.mergeFields){const L=oM(e,x,t);if(!u.contains(L))throw new Oe(me.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);bk(I,L)||I.push(L)}_=new Pr(I),w=u.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,w=u.fieldTransforms;return new WV(new En(f),_,w)}class vb extends Xf{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vb}}function mk(n,e,t){return new nD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class nM extends Xf{_toFieldTransform(e){return new jf(e.path,new Uf)}isEqual(e){return e instanceof nM}}class KV extends Xf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=mk(this,e,!0),r=this.ha.map(a=>tp(a,t)),i=new qd(r);return new jf(e.path,i)}isEqual(e){return this===e}}class YV extends Xf{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=mk(this,e,!0),r=this.ha.map(a=>tp(a,t)),i=new Wd(r);return new jf(e.path,i)}isEqual(e){return this===e}}class QV extends Xf{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new pc(e.wt,km(e.wt,this.la));return new jf(e.path,t)}isEqual(e){return this===e}}function rM(n,e,t,r){const i=n.aa(1,e,t);sM("Data must be an object, but it was:",i,r);const a=[],u=En.empty();Ud(r,(_,w)=>{const I=iD(e,_,t);w=(0,Lt.m9)(w);const x=i.ia(I);if(w instanceof vb)a.push(I);else{const L=tp(w,x);null!=L&&(a.push(I),u.set(I,L))}});const f=new Pr(a);return new pk(u,f,i.fieldTransforms)}function iM(n,e,t,r,i,a){const u=n.aa(1,e,t),f=[oM(e,r,t)],_=[i];if(a.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<a.length;L+=2)f.push(oM(e,a[L])),_.push(a[L+1]);const w=[],I=En.empty();for(let L=f.length-1;L>=0;--L)if(!bk(w,f[L])){const B=f[L];let q=_[L];q=(0,Lt.m9)(q);const le=u.ia(B);if(q instanceof vb)w.push(B);else{const Ee=tp(q,le);null!=Ee&&(w.push(B),I.set(B,Ee))}}const x=new Pr(w);return new pk(I,x,u.fieldTransforms)}function _k(n,e,t,r=!1){return tp(t,n.aa(r?4:3,e))}function tp(n,e){if(vk(n=(0,Lt.m9)(n)))return sM("Unsupported field value:",e,n),yk(n,e);if(n instanceof Xf)return function(t,r){if(!gk(r.Zc))throw r.oa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=tp(u,r.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Lt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return km(r.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=wn.fromDate(t);return{timestampValue:ye(r.wt,i)}}if(t instanceof wn){const i=new wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ye(r.wt,i)}}if(t instanceof tD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof iu)return{bytesValue:Fe(r.wt,t._byteString)};if(t instanceof jn){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:De(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.oa(`Unsupported field value: ${XC(t)}`)}(n,e)}function yk(n,e){const t={};return uS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ud(n,(r,i)=>{const a=tp(i,e.ea(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function vk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof wn||n instanceof tD||n instanceof iu||n instanceof jn||n instanceof Xf)}function sM(n,e,t){if(!vk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XC(t);throw e.oa("an object"===r?n+" a custom object":n+" "+r)}var r}function oM(n,e,t){if((e=(0,Lt.m9)(e))instanceof yc)return e._internalPath;if("string"==typeof e)return iD(n,e);throw sD("Field path arguments must be of type string or ",n,!1,void 0,t)}const JV=new RegExp("[~\\*/\\[\\]]");function iD(n,e,t){if(e.search(JV)>=0)throw sD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new yc(...e.split("."))._internalPath}catch(r){throw sD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${r}`),u&&(_+=` in document ${i}`),_+=")"),new Oe(me.INVALID_ARGUMENT,f+n+_)}function bk(n,e){return n.some(t=>t.isEqual(e))}class bb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new jn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XV extends bb{data(){return super.data()}}function oD(n,e){return"string"==typeof e?iD(n,e):e instanceof yc?e._internalPath:e._delegate._internalPath}class np{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vc extends bb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(oD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class wb extends vc{data(e={}){return super.data(e)}}class Xd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new np(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new wb(this._firestore,this._userDataWriter,r.key,r,new np(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new wb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new np(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new wb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new np(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:eB(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function wk(n,e){return n instanceof vc&&e instanceof vc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xd&&e instanceof Xd&&n._firestore===e._firestore&&ck(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Ek(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Eb{}function eh(n,...e){for(const t of e)n=t._apply(n);return n}class tB extends Eb{constructor(e,t,r){super(),this.fa=e,this.da=t,this._a=r,this.type="where"}_apply(e){const t=ep(e.firestore),r=function(i,a,u,f,_,w,I){let x;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){Ak(I,w);const B=[];for(const q of I)B.push(Sk(f,i,q));x={arrayValue:{values:B}}}else x=Sk(f,i,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||Ak(I,w),x=_k(u,"where",I,"in"===w||"not-in"===w);const L=Jr.create(_,w,x);return function(B,q){if(q.ht()){const Ee=vC(B);if(null!==Ee&&!Ee.isEqual(q.field))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${q.field.toString()}'`);const Ue=yC(B);null!==Ue&&Mk(0,q.field,Ue)}const le=function(Ee,Ue){for(const st of Ee.filters)if(Ue.indexOf(st.op)>=0)return st.op;return null}(B,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==le)throw new Oe(me.INVALID_ARGUMENT,le===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${le.toString()}' filters.`)}(i,L),L}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Zi(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new rl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class rB extends Eb{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Gd(i,a);return function(f,_){if(null===yC(f)){const w=vC(f);null!==w&&Mk(0,w,_.field)}}(r,u),u}(e._query,this.fa,this.wa);return new Zi(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new rl(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ck extends Eb{constructor(e,t,r){super(),this.type=e,this.ma=t,this.ga=r}_apply(e){return new Zi(e.firestore,e.converter,Lf(e._query,this.ma,this.ga))}}class Dk extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Tk(e,this.type,this.ya,this.pa);return new Zi(e.firestore,e.converter,(i=t,new rl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Ik extends Eb{constructor(e,t,r){super(),this.type=e,this.ya=t,this.pa=r}_apply(e){const t=Tk(e,this.type,this.ya,this.pa);return new Zi(e.firestore,e.converter,(i=t,new rl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Tk(n,e,t,r){if(t[0]=(0,Lt.m9)(t[0]),t[0]instanceof bb)return function(i,a,u,f,_){if(!f)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of Ff(i))if(I.field.isKeyField())w.push(nl(a,f.key));else{const x=f.data.field(I.field);if(Em(x))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const L=I.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}w.push(x)}return new Jl(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ep(n.firestore);return function(a,u,f,_,w,I){const x=a.explicitOrderBy;if(w.length>x.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let B=0;B<w.length;B++){const q=w[B];if(x[B].field.isKeyField()){if("string"!=typeof q)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof q}`);if(!bC(a)&&-1!==q.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${q}' contains a slash.`);const le=a.path.child(Kt.fromString(q));if(!Ze.isDocumentKey(le))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${le}' is not because it contains an odd number of segments.`);const Ee=new Ze(le);L.push(nl(u,Ee))}else{const le=_k(f,_,q);L.push(le)}}return new Jl(L,I)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Sk(n,e,t){if("string"==typeof(t=(0,Lt.m9)(t))){if(""===t)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bC(e)&&-1!==t.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Kt.fromString(t));if(!Ze.isDocumentKey(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return nl(n,new Ze(r))}if(t instanceof jn)return nl(n,t._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XC(t)}.`)}function Ak(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mk(n,e,t){if(!t.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dB={maxAttempts:5};class aM{convertValue(e,t="none"){switch(hc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return Ud(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new tD(Un(e.latitude),Un(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const t=ua(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Kt.fromString(e);Tt(VO(r));const i=new ca(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||Qn(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function aD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hB extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}class xk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ep(e)}set(e,t,r){this._verifyNotCommitted();const i=th(e,this._firestore),a=aD(i.converter,t,r),u=rD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Vn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=th(e,this._firestore);let u;return u="string"==typeof(t=(0,Lt.m9)(t))||t instanceof yc?iM(this._dataReader,"WriteBatch.update",a._key,t,r,i):rM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Vn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=th(e,this._firestore);return this._mutations=this._mutations.concat(new $f(t._key,Vn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(n,e){if((n=(0,Lt.m9)(n)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class rp extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new iu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jn(this.firestore,null,t)}}function Ok(n,e,t){n=nn(n,jn);const r=nn(n.firestore,qn),i=aD(n.converter,e,t);return e_(r,[rD(ep(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vn.none())])}function Rk(n,e,t,...r){n=nn(n,jn);const i=nn(n.firestore,qn),a=ep(i);let u;return u="string"==typeof(e=(0,Lt.m9)(e))||e instanceof yc?iM(a,"updateDoc",n._key,e,t,r):rM(a,"updateDoc",n._key,e),e_(i,[u.toMutation(n._key,Vn.exists(!0))])}function kk(n,...e){var t,r,i;n=(0,Lt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||tM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(tM(e[u])){const x=e[u];e[u]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[u+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[u+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,w,I;if(n instanceof jn)w=nn(n.firestore,qn),I=zd(n._key.path),_={next:x=>{e[u]&&e[u](lM(w,n,x))},error:e[u+1],complete:e[u+2]};else{const x=nn(n,Zi);w=nn(x.firestore,qn),I=x._query;const L=new rp(w);_={next:B=>{e[u]&&e[u](new Xd(w,L,x,B))},error:e[u+1],complete:e[u+2]},Ek(n._query)}return function(x,L,B,q){const le=new QC(q),Ee=new vA(L,le,B);return x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return pA(yield Xm(x),Ee)})),()=>{le.Tc(),x.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return mA(yield Xm(x),Ee)}))}}(Fr(w),I,f,_)}function e_(n,e){return function(t,r){const i=new sn;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,e,t){return DA.apply(this,arguments)}(yield JA(t),r,i)})),i.promise}(Fr(n),e)}function lM(n,e,t){const r=t.docs.get(e._key),i=new rp(n);return new vc(n,i,e._key,r,new np(t.hasPendingWrites,t.fromCache),e.converter)}class EB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ep(e)}get(e){const t=th(e,this._firestore),r=new hB(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return it();const a=i[0];if(a.isFoundDocument())return new bb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new bb(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const i=th(e,this._firestore),a=aD(i.converter,t,r),u=rD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=th(e,this._firestore);let u;return u="string"==typeof(t=(0,Lt.m9)(t))||t instanceof yc?iM(this._dataReader,"Transaction.update",a._key,t,r,i):rM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=th(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=th(e,this._firestore),r=new rp(this._firestore);return super.get(e).then(i=>new vc(this._firestore,r,t._key,i._document,new np(!1,!1),t.converter))}}function uM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Nk(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function Fk(){if("undefined"==typeof atob)throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fd=Xu.SDK_VERSION,(0,Xu._registerComponent)(new Jh.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new qn(i,new SO(t.getProvider("auth-internal")),new iS(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Xu.registerVersion)(QE,"3.4.12",n),(0,Xu.registerVersion)(QE,"3.4.12","esm2017")}();class Cb{constructor(e){this._delegate=e}static fromBase64String(e){return Fk(),new Cb(iu.fromBase64String(e))}static fromUint8Array(e){return Nk(),new Cb(iu.fromUint8Array(e))}toBase64(){return Fk(),this._delegate.toBase64()}toUint8Array(){return Nk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cM(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class RB{enableIndexedDbPersistence(e,t){return function(n,e){fk(n=nn(n,qn));const t=Fr(n),r=n._freezeSettings(),i=new zA;return hk(t,i,new ZR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){fk(n=nn(n,qn));const e=Fr(n),t=n._freezeSettings(),r=new zA;return hk(e,r,new bV(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new sn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!Eo.V())return Promise.resolve();const i=r+"main";yield Eo.delete(i)}),function(r){return t.apply(this,arguments)})(BS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Lk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ca||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ld("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const a=(n=nn(n,yb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ld("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=kr.MOCK_USER;else{u=(0,Lt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kr(_)}n._authCredentials=new nS(new uc(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield JR(n),t=yield XR(n);return e.setNetworkEnabled(!0),function(r){const i=Je(r);return i.lu.delete(0),mb(i)}(t)}))}(Fr(n=nn(n,qn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield JR(n),t=yield XR(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=Je(i);a.lu.add(0),yield qm(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Fr(n=nn(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,rk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new sn;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,e){return MA.apply(this,arguments)}(yield JA(e),t)})),t.promise}(Fr(n=nn(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new QC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Xm(n),i=t,Je(r).Tu.add(i),void i.next();var r,i})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Xm(n),i=t,void Je(r).Tu.delete(i);var r,i}))}}(Fr(n=nn(n,qn)),tM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new t_(this,lk(this._delegate,e))}catch(t){throw ys(t,"collection()","Firestore.collection()")}}doc(e){try{return new ha(this,eD(this._delegate,e))}catch(t){throw ys(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new vs(this,function(n,e){if(n=nn(n,yb),eM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zi(n,null,(t=e,new rl(Kt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ys(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e,t){n=nn(n,qn);const r=Object.assign(Object.assign({},dB),t);return function(i){if(i.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(n,e,t){const r=new sn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const i=yield(a=n,JC(a).then(u=>u.datastore));var a;new CV(n.asyncQueue,i,t,e,r).run()})),r.promise}(Fr(n),i=>e(new EB(n,i)),r)}(this._delegate,t=>e(new Vk(this,t)))}batch(){return Fr(this._delegate),new Bk(new xk(this._delegate,e=>e_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Fr(n=nn(n,qn)),r=new FV;return function(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return KR(_,w);if(_ instanceof ArrayBuffer)return KR(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new wV(_,u);var _}(t,gb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function(n,e,t){const r=Je(n);var i;(i=(0,we.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(L,B){const q=Je(L),le=qe(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",Ee=>q.Ds.getBundleMetadata(Ee,B.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(le)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(L=_).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);f._updateProgress(VR(_));const w=new JL(_,a.localStore,u.wt);let I=yield u.fc();for(;I;){const L=yield w.Nu(I);L&&f._updateProgress(L),I=yield u.fc()}const x=yield w.complete();return yield _c(a,x.Mu,void 0),yield function(L,B){const q=Je(L);return q.persistence.runTransaction("Save bundle","readwrite",le=>q.Ds.saveBundleMetadata(le,B))}(a.localStore,_),f._completeWith(x.progress),Promise.resolve(x.Ou)}catch(_){return Ld("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var L}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=Je(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ds.getNamedQuery(a,r))}(yield QA(n),e)}))}(Fr(n=nn(n,qn)),e).then(t=>t?new Zi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new vs(this,t):null)}}class lD extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cb(new iu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ha.forKey(t,this.firestore,null)}}class Vk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}get(e){const t=sp(e);return this._delegate.get(t).then(r=>new Db(this._firestore,new vc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=sp(e);return r?(uM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}}class Bk{constructor(e){this._delegate=e}set(e,t,r){const i=sp(e);return r?(uM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=sp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ip{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new wb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ib(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ip.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new ip(e,new lD(e),t),i.set(t,a)),a}}ip.INSTANCES=new WeakMap;class ha{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ha(t,new jn(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new ha(t,new jn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new t_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new t_(this.firestore,lk(this._delegate,e))}catch(t){throw ys(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Lt.m9)(e))instanceof jn&&uk(this._delegate,e)}set(e,t){t=uM("DocumentReference.set",t);try{return t?Ok(this._delegate,e,t):Ok(this._delegate,e)}catch(r){throw ys(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Rk(this._delegate,e):Rk(this._delegate,e,t,...r)}catch(i){throw ys(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return e_(nn(n.firestore,qn),[new $f(n._key,Vn.none())])}(this._delegate)}onSnapshot(...e){const t=Uk(e),r=jk(e,i=>new Db(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return kk(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,jn);const e=nn(n.firestore,qn),t=Fr(e),r=new rp(e);return function(n,e){const t=new sn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield function(_,w){const I=Je(_);return I.persistence.runTransaction("read document","readonly",x=>I.localDocuments.getDocument(x,w))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Km(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._key).then(i=>new vc(e,r,n._key,i,new np(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,jn);const e=nn(n.firestore,qn);return ek(Fr(e),n._key,{source:"server"}).then(t=>lM(e,n,t))}(this._delegate):function(n){n=nn(n,jn);const e=nn(n.firestore,qn);return ek(Fr(e),n._key).then(t=>lM(e,n,t))}(this._delegate),t.then(r=>new Db(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ha(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function ys(n,e,t){return n.message=n.message.replace(e,t),n}function Uk(n){for(const e of n)if("object"==typeof e&&!cM(e))return e;return{}}function jk(n,e){var t,r;let i;return i=cM(n[0])?n[0]:cM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Db{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ha(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wk(this._delegate,e._delegate)}}class Ib extends Db{data(e){const t=this._delegate.data(e);return function(n,e){n||it()}(void 0!==t),t}}class vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lD(e)}where(e,t,r){try{return new vs(this.firestore,eh(this._delegate,function(n,e,t){const r=e,i=oD("where",n);return new tB(i,r,t)}(e,t,r)))}catch(i){throw ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new vs(this.firestore,eh(this._delegate,function(n,e="asc"){const t=e,r=oD("orderBy",n);return new rB(r,t)}(e,t)))}catch(r){throw ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new vs(this.firestore,eh(this._delegate,function(n){return ok("limit",n),new Ck("limit",n,"F")}(e)))}catch(t){throw ys(t,"limit()","Query.limit()")}}limitToLast(e){try{return new vs(this.firestore,eh(this._delegate,function(n){return ok("limitToLast",n),new Ck("limitToLast",n,"L")}(e)))}catch(t){throw ys(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new vs(this.firestore,eh(this._delegate,function(...n){return new Dk("startAt",n,!0)}(...e)))}catch(t){throw ys(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new vs(this.firestore,eh(this._delegate,function(...n){return new Dk("startAfter",n,!1)}(...e)))}catch(t){throw ys(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new vs(this.firestore,eh(this._delegate,function(...n){return new Ik("endBefore",n,!1)}(...e)))}catch(t){throw ys(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new vs(this.firestore,eh(this._delegate,function(...n){return new Ik("endAt",n,!0)}(...e)))}catch(t){throw ys(t,"endAt()","Query.endAt()")}}isEqual(e){return ck(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=nn(n,Zi);const e=nn(n.firestore,qn),t=Fr(e),r=new rp(e);return function(n,e){const t=new sn;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield zC(i,a,!0),_=new jR(a,f.ji),w=_.Ku(f.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(f){const _=Km(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(i,a,u){return r.apply(this,arguments)})(yield QA(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=nn(n,Zi);const e=nn(n.firestore,qn),t=Fr(e),r=new rp(e);return tk(t,n._query,{source:"server"}).then(i=>new Xd(e,r,n,i))}(this._delegate):function(n){n=nn(n,Zi);const e=nn(n.firestore,qn),t=Fr(e),r=new rp(e);return Ek(n._query),tk(t,n._query).then(i=>new Xd(e,r,n,i))}(this._delegate),t.then(r=>new dM(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Uk(e),r=jk(e,i=>new dM(this.firestore,new Xd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return kk(this._delegate,t,r)}withConverter(e){return new vs(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}class PB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ib(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ib(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new PB(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ib(this._firestore,r))})}isEqual(e){return wk(this._delegate,e._delegate)}}class t_ extends vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ha(this.firestore,e):null}doc(e){try{return new ha(this.firestore,void 0===e?eD(this._delegate):eD(this._delegate,e))}catch(t){throw ys(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=nn(n.firestore,qn),r=eD(n),i=aD(n.converter,e);return e_(t,[rD(ep(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ha(this.firestore,t))}isEqual(e){return uk(this._delegate,e._delegate)}withConverter(e){return new t_(this.firestore,this._delegate.withConverter(e?ip.getInstance(this.firestore,e):null))}}function sp(n){return nn(n,jn)}class hM{constructor(...e){this._delegate=new yc(...e)}static documentId(){return new hM(zn.keyField().canonicalString())}isEqual(e){return(e=(0,Lt.m9)(e))instanceof yc&&this._delegate._internalPath.isEqual(e._internalPath)}}class op{constructor(e){this._delegate=e}static serverTimestamp(){const e=new nM("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new op(e)}static delete(){const e=new vb("deleteField");return e._methodName="FieldValue.delete",new op(e)}static arrayUnion(...e){const t=function(...n){return new KV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new op(t)}static arrayRemove(...e){const t=function(...n){return new YV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new op(t)}static increment(e){const t=function(n){return new QV("increment",n)}(e);return t._methodName="FieldValue.increment",new op(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const NB={Firestore:Lk,GeoPoint:tD,Timestamp:wn,Blob:Cb,Transaction:Vk,WriteBatch:Bk,DocumentReference:ha,DocumentSnapshot:Db,Query:vs,QueryDocumentSnapshot:Ib,QuerySnapshot:dM,CollectionReference:t_,FieldPath:hM,FieldValue:op,setLogLevel:function(n){!function(n){Zl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Jh.wA("firestore-compat",t=>((e,t)=>new Lk(e,t,new RB))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},NB)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.21")}(MT.Z);var uD=P(5363);function bs(n,e){return(0,Zn.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe(new ar.Q(r,_=>{null==i||i.unsubscribe();let w=0;const I=a++;(0,bi.Xf)(n(_,I)).subscribe(i=new ar.Q(r,x=>r.next(e?e(_,x,I,w++):x),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var VB=P(6063);class BB extends rn.x{constructor(e=1/0,t=1/0,r=VB.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=u;_+=2)f=_;f&&r.splice(0,f+1)}}}var UB=P(3099);function Hk(n,e,t){var r,i;let a,u=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,UB.B)({connector:()=>new BB(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}const cD=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function $k(n){return(0,Zn.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Gk(n=HB){return(0,Zn.e)((e,t)=>{let r=!1;e.subscribe(new ar.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HB(){return new cD}function ap(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Ba.y,(0,js.q)(1),t?$k(e):Gk(()=>new cD))}function zk(n,e){return(0,rs.m)(e)?bs(()=>n,e):bs(()=>n)}var fM=P(9468);P(5867);const Wk=new Map,WB={activated:!1,tokenObservers:[]},ZB={initialized:!1,enabled:!1};function hi(n){return Wk.get(n)||WB}function ll(n,e){Wk.set(n,e)}function hD(){return ZB}class XB{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new Lt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Lt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new Lt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kk(n){if(!hi(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function _M(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,we.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const B=yield u.getHeartbeatsHeader();B&&(a["X-Firebase-Client"]=B)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(B){throw ws.create("fetch-network-error",{originalErrorMessage:null===(r=B)||void 0===r?void 0:r.message})}if(200!==_.status)throw ws.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(B){throw ws.create("fetch-parse-error",{originalErrorMessage:null===(i=B)||void 0===i?void 0:i.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const x=1e3*Number(I[1]),L=Date.now();return{token:w.token,expireTimeMillis:L+x,issuedAtTimeMillis:L}}),yM.apply(this,arguments)}function iU(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Tb="firebase-app-check-store";let gD=null;function Qk(){return gD||(gD=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(ws.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Tb,{keyPath:"compositeKey"})}}catch(r){e(ws.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),gD)}function vM(){return vM=(0,we.Z)(function*(n,e){const r=(yield Qk()).transaction(Tb,"readwrite"),a=r.objectStore(Tb).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},r.onerror=_=>{var w;f(ws.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})}),vM.apply(this,arguments)}const Sb=new za.Yd("@firebase/app-check");function tP(n,e){return(0,Lt.hl)()?function(n,e){return function(n,e){return vM.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Sb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nP(){return hD().enabled}function rP(){return CM.apply(this,arguments)}function CM(){return CM=(0,we.Z)(function*(){const n=hD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),CM.apply(this,arguments)}const pU={error:"UNKNOWN_ERROR"};function gU(n){return Lt.US.encodeString(JSON.stringify(n),!1)}function mD(n){return DM.apply(this,arguments)}function DM(){return DM=(0,we.Z)(function*(n,e=!1){const t=n.app;Kk(t);const r=hi(t);let a,i=r.token;if(!i){const _=yield r.cachedTokenPromise;_&&_D(_)&&(i=_)}if(!e&&i&&_D(i))return{token:i.token};let f,u=!1;if(nP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_M(iU(t,yield rP()),n.heartbeatServiceProvider).then(w=>(r.exchangeTokenPromise=void 0,w)),u=!0);const _=yield r.exchangeTokenPromise;return yield tP(t,_),ll(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(_=>(r.exchangeTokenPromise=void 0,_)),u=!0),i=yield r.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Sb.warn(_.message):Sb.error(_),a=_}return i?(f={token:i.token},ll(t,Object.assign(Object.assign({},r),{token:i})),yield tP(t,i)):f=_U(a),u&&sP(t,f),f}),DM.apply(this,arguments)}function TM(n,e){const t=hi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ll(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function iP(n){const{app:e}=n,t=hi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new XB((0,we.Z)(function*(){let r;if(r=hi(e).token?yield mD(n,!0):yield mD(n),r.error)throw r.error}),()=>!0,()=>{const t=hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ll(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function sP(n,e){const t=hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function _D(n){return n.expireTimeMillis-Date.now()>0}function _U(n){return{token:gU(pU),error:n}}class yU{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=hi(this.app);for(const t of e)TM(this.app,t.next);return Promise.resolve()}}const fP="app-check-internal";(0,Xu._registerComponent)(new Jh.wA("app-check",n=>function(n,e){return new yU(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(fP).initialize()})),(0,Xu._registerComponent)(new Jh.wA(fP,n=>function(n){return{getToken:e=>mD(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,a=hi(i),u={next:t,error:r,type:e};if(ll(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&_D(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),iP(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>iP(n))}(n,"INTERNAL",e),removeTokenListener:e=>TM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xu.registerVersion)("@firebase/app-check","0.5.11");class xM{constructor(){return(0,Kr.vb)("app-check")}}"undefined"!=typeof window&&window;var LU=P(127);const gP=new d.OlP("angularfire2.auth.use-emulator"),mP=new d.OlP("angularfire2.auth.settings"),_P=new d.OlP("angularfire2.auth.tenant-id"),yP=new d.OlP("angularfire2.auth.langugage-code"),vP=new d.OlP("angularfire2.auth.use-device-language"),bP=new d.OlP("angularfire.auth.persistence"),wP=(n,e,t,r,i,a,u,f)=>(0,fs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return f&&_.setPersistence(f),_},[t,r,i,a,u,f]);let EP=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,x,L,B){const q=new rn.x,le=Qe(void 0).pipe((0,uD.Q)(u.outsideAngular),bs(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,1451)))),(0,Ct.U)(()=>(0,fs.on)(t,a,r)),(0,Ct.U)(Ee=>wP(Ee,a,f,w,I,x,_,L)),Hk({bufferSize:1,refCount:!1}));if(gr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{le.pipe(ap()).subscribe();const Ue=le.pipe(bs(nt=>nt.getRedirectResult().then(xt=>xt,()=>null)),Kr.iC,Hk({bufferSize:1,refCount:!1})),st=le.pipe(bs(nt=>new Hn.y(xt=>({unsubscribe:a.runOutsideAngular(()=>nt.onAuthStateChanged(jt=>xt.next(jt),jt=>xt.error(jt),()=>xt.complete()))})))),lt=le.pipe(bs(nt=>new Hn.y(xt=>({unsubscribe:a.runOutsideAngular(()=>nt.onIdTokenChanged(jt=>xt.next(jt),jt=>xt.error(jt),()=>xt.complete()))}))));this.authState=Ue.pipe(zk(st),(0,fM.R)(u.outsideAngular),(0,uD.Q)(u.insideAngular)),this.user=Ue.pipe(zk(lt),(0,fM.R)(u.outsideAngular),(0,uD.Q)(u.insideAngular)),this.idToken=this.user.pipe(bs(nt=>nt?(0,dn.D)(nt.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(bs(nt=>nt?(0,dn.D)(nt.getIdTokenResult()):Qe(null))),this.credential=(0,wh.T)(Ue,q,this.authState.pipe(On(nt=>!nt))).pipe((0,Ct.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,fM.R)(u.outsideAngular),(0,uD.Q)(u.insideAngular))}return(0,fs.pX)(this,le,a,{spy:{apply:(Ee,Ue,st)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&st.then(lt=>q.next(lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fs.Dh),d.LFG(fs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kr.HU),d.LFG(gP,8),d.LFG(mP,8),d.LFG(_P,8),d.LFG(yP,8),d.LFG(vP,8),d.LFG(bP,8),d.LFG(xM,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function CP(n,e){return function(n,e=Ou.z){return new Hn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function RM(n,e){return CP(n,e).pipe((0,Ct.U)(t=>({payload:t,type:"query"})))}function vD(n,e){return RM(n,e).pipe(Vl(void 0),qy(),(0,Ct.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const _=i.find(I=>I.doc.ref.isEqual(u.ref)),w=null==t?void 0:t.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function DP(n,e,t){return vD(n,t).pipe(Qh((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return kM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return kM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return kM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),D0(),(0,Ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function kM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function IP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class TP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Vl(void 0),qy(),On(([r,i])=>i.length>0||!r),(0,Ct.U)(([r,i])=>i),Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IP(e);return DP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return RM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Kr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Kr.iC)}add(e){return this.ref.add(e)}doc(e){return new SP(this.ref.doc(e),this.afs)}}class SP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=xP(r,t);return new TP(i,a,this.afs)}snapshotChanges(){return function(n,e){return CP(n,e).pipe(Vl(void 0),qy(),(0,Ct.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(Kr.iC)}}class $U{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),On(t=>t.length>0),Kr.iC):vD(this.query,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Qh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IP(e);return DP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Kr.iC)}valueChanges(e={}){return RM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Kr.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(Kr.iC)}}const AP=new d.OlP("angularfire2.enableFirestorePersistence"),MP=new d.OlP("angularfire2.firestore.persistenceSettings"),GU=new d.OlP("angularfire2.firestore.settings"),zU=new d.OlP("angularfire2.firestore.use-emulator");function xP(n,e=(t=>t)){return{query:e(n),ref:n}}let OP=(()=>{class n{constructor(t,r,i,a,u,f,_,w,I,x,L,B,q,le,Ee,Ue,st){this.schedulers=_;const lt=(0,fs.on)(t,f,r),nt=I;x&&wP(lt,f,L,q,le,Ee,B,Ue),[this.firestore,this.persistenceEnabled$]=(0,fs.cc)(`${lt.name}.firestore`,"AngularFirestore",lt.name,()=>{const xt=f.runOutsideAngular(()=>lt.firestore());if(a&&xt.settings(a),nt&&xt.useEmulator(...nt),i&&!gr(u)){const jt=()=>{try{return(0,dn.D)(xt.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(hn){return"undefined"!=typeof console&&console.warn(hn),Qe(!1)}};return[xt,f.runOutsideAngular(jt)]}return[xt,Qe(!1)]},[a,nt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=xP(i,r),f=this.schedulers.ngZone.run(()=>a);return new TP(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new $U(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new SP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fs.Dh),d.LFG(fs.xv,8),d.LFG(AP,8),d.LFG(GU,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Kr.HU),d.LFG(MP,8),d.LFG(zU,8),d.LFG(EP,8),d.LFG(gP,8),d.LFG(mP,8),d.LFG(_P,8),d.LFG(yP,8),d.LFG(vP,8),d.LFG(bP,8),d.LFG(xM,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),qU=(()=>{class n{constructor(){LU.Z.registerVersion("angularfire",Kr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:AP,useValue:!0},{provide:MP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[OP]}),n})();const{isArray:WU}=Array,{getPrototypeOf:ZU,prototype:KU,keys:YU}=Object;function RP(n){if(1===n.length){const e=n[0];if(WU(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&ZU(n)===KU}(e)){const t=YU(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function kP(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var JU=P(9672);function PP(n,e,t){n?(0,JU.f)(t,n,e):e()}var lp=P(515);function NP(){return(0,Zn.e)((n,e)=>{let t=null;n._refCount++;const r=new ar.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class t2 extends Hn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Zn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new si.w0;const t=this.getSubject();e.add(this.source.subscribe(new ar.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=si.w0.EMPTY)}return e}refCount(){return NP()(this)}}function nh(n){return(0,Zn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe(new ar.Q(t,void 0,void 0,u=>{a=(0,bi.Xf)(n(u,nh(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function n_(n,e){return(0,rs.m)(e)?(0,Ln.z)(n,e,1):(0,Ln.z)(n,1)}function PM(n){return n<=0?()=>lp.E:(0,Zn.e)((e,t)=>{let r=[];e.subscribe(new ar.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}var Co=P(8505);class bc{constructor(e,t){this.id=e,this.url=t}}class NM extends bc{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ab extends bc{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class FP extends bc{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class s2 extends bc{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class o2 extends bc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a2 extends bc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class l2 extends bc{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class u2 extends bc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c2 extends bc{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class d2{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h2{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class f2{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class p2{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BP{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wt="primary";class g2{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function r_(n){return new g2(n)}const UP="ngNavigationCancelingError";function FM(n){const e=Error("NavigationCancelingError: "+n);return e[UP]=!0,e}function _2(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function su(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!jP(n[i],e[i]))return!1;return!0}function jP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function HP(n){return Array.prototype.concat.apply([],n)}function $P(n){return n.length>0?n[n.length-1]:null}function Ri(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ou(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Qe(n)}const b2={exact:function qP(n,e,t){if(!cp(n.segments,e.segments)||!bD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!qP(n.children[r],e.children[r],t))return!1;return!0},subset:WP},GP={exact:function(n,e){return su(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>jP(n[t],e[t]))},ignored:()=>!0};function zP(n,e,t){return b2[t.paths](n.root,e.root,t.matrixParams)&&GP[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function WP(n,e,t){return ZP(n,e,e.segments,t)}function ZP(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!cp(i,t)||e.hasChildren()||!bD(i,t,r))}if(n.segments.length===t.length){if(!cp(n.segments,t)||!bD(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!WP(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(cp(n.segments,i)&&bD(n.segments,i,r)&&n.children[Wt])&&ZP(n.children[Wt],e,a,r)}}function bD(n,e,t){return e.every((r,i)=>GP[t](n[i].parameters,r.parameters))}class up{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r_(this.queryParams)),this._queryParamMap}toString(){return I2.serialize(this)}}class Xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ri(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wD(this)}}class Mb{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=r_(this.parameters)),this._parameterMap}toString(){return XP(this)}}function cp(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class KP{}class YP{parse(e){const t=new P2(e);return new up(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xb(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ED(t)}=${ED(i)}`).join("&"):`${ED(t)}=${ED(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${i}`}}const I2=new YP;function wD(n){return n.segments.map(e=>XP(e)).join("/")}function xb(n,e){if(!n.hasChildren())return wD(n);if(e){const t=n.children[Wt]?xb(n.children[Wt],!1):"",r=[];return Ri(n.children,(i,a)=>{a!==Wt&&r.push(`${a}:${xb(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Ri(n.children,(r,i)=>{i===Wt&&(t=t.concat(e(r,i)))}),Ri(n.children,(r,i)=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Wt?[xb(n.children[Wt],!1)]:[`${i}:${xb(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${wD(n)}/${t[0]}`:`${wD(n)}/(${t.join("//")})`}}function QP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ED(n){return QP(n).replace(/%3B/gi,";")}function LM(n){return QP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function CD(n){return decodeURIComponent(n)}function JP(n){return CD(n.replace(/\+/g,"%20"))}function XP(n){return`${LM(n.path)}${function(n){return Object.keys(n).map(e=>`;${LM(e)}=${LM(n[e])}`).join("")}(n.parameters)}`}const M2=/^[^\/()?;=#]+/;function DD(n){const e=n.match(M2);return e?e[0]:""}const x2=/^[^=?&#]+/,R2=/^[^&#]+/;class P2{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new Xt(e,t)),r}parseSegment(){const e=DD(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mb(CD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=DD(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=DD(this.remaining);i&&(r=i,this.capture(r))}e[CD(t)]=CD(r)}parseQueryParam(e){const t=function(n){const e=n.match(x2);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function(n){const e=n.match(R2);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=JP(t),a=JP(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=DD(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Wt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Wt]:new Xt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class eN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=VM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=VM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=BM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return BM(e,this._root).map(t=>t.value)}}function VM(n,e){if(n===e.value)return e;for(const t of e.children){const r=VM(n,t);if(r)return r}return null}function BM(n,e){if(n===e.value)return[e];for(const t of e.children){const r=BM(n,t);if(r.length)return r.unshift(e),r}return[]}class wc{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function i_(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class tN extends eN{constructor(e,t){super(e),this.snapshot=t,UM(this,e)}toString(){return this.snapshot.toString()}}function nN(n,e){const t=function(n,e){const u=new ID([],{},{},"",{},Wt,e,null,n.root,-1,{});return new iN("",new wc(u,[]))}(n,e),r=new us([new Mb("",{})]),i=new us({}),a=new us({}),u=new us({}),f=new us(""),_=new s_(r,i,u,f,a,Wt,e,t.root);return _.snapshot=t.root,new tN(new wc(_,[]),t)}class s_{constructor(e,t,r,i,a,u,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(e=>r_(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(e=>r_(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ID{constructor(e,t,r,i,a,u,f,_,w,I,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=r_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=r_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iN extends eN{constructor(e,t){super(t),this.url=e,UM(this,t)}toString(){return sN(this._root)}}function UM(n,e){e.value._routerState=n,e.children.forEach(t=>UM(n,t))}function sN(n){const e=n.children.length>0?` { ${n.children.map(sN).join(", ")} } `:"";return`${n.value}${e}`}function jM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,su(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),su(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!su(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),su(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function HM(n,e){const t=su(n.params,e.params)&&function(n,e){return cp(n,e)&&n.every((t,r)=>su(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||HM(n.parent,e.parent))}function Ob(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ob(n,r,i);return Ob(n,r)})}(n,e,t);return new wc(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Ob(n,f)),u}}const r=function(n){return new s_(new us(n.url),new us(n.params),new us(n.queryParams),new us(n.fragment),new us(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ob(n,a));return new wc(r,i)}}function TD(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Rb(n){return"object"==typeof n&&null!=n&&n.outlets}function $M(n,e,t,r,i){let a={};return r&&Ri(r,(u,f)=>{a[f]=Array.isArray(u)?u.map(_=>`${_}`):`${u}`}),new up(t.root===n?e:oN(t.root,n,e),a,i)}function oN(n,e,t){const r={};return Ri(n.children,(i,a)=>{r[a]=i===e?t:oN(i,e,t)}),new Xt(n.segments,r)}class aN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&TD(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Rb);if(i&&i!==$P(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class GM{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lN(n,e,t){if(n||(n=new Xt([],{})),0===n.segments.length&&n.hasChildren())return SD(n,e,t);const r=function(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Rb(f))break;const _=`${f}`,w=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!cN(_,w,u))return a;r+=2}else{if(!cN(_,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Xt(n.segments.slice(0,r.pathIndex),{});return a.children[Wt]=new Xt(n.segments.slice(r.pathIndex),n.children),SD(a,0,i)}return r.match&&0===i.length?new Xt(n.segments,{}):r.match&&!n.hasChildren()?zM(n,e,t):r.match?SD(n,0,i):zM(n,e,t)}function SD(n,e,t){if(0===t.length)return new Xt(n.segments,{});{const r=function(n){return Rb(n[0])?n[0].outlets:{[Wt]:n}}(t),i={};return Ri(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=lN(n.children[u],e,a))}),Ri(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Xt(n.segments,i)}}function zM(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Rb(a)){const _=q2(a.outlets);return new Xt(r,_)}if(0===i&&TD(t[0])){r.push(new Mb(n.segments[e].path,uN(t[0]))),i++;continue}const u=Rb(a)?a.outlets[Wt]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&TD(f)?(r.push(new Mb(u,uN(f))),i+=2):(r.push(new Mb(u,{})),i++)}return new Xt(r,{})}function q2(n){const e={};return Ri(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=zM(new Xt([],{}),0,t))}),e}function uN(n){const e={};return Ri(n,(t,r)=>e[r]=`${t}`),e}function cN(n,e,t){return n==t.path&&su(e,t.parameters)}class Z2{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),jM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=i_(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Ri(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=i_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=i_(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=i_(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new p2(a.value.snapshot))}),e.children.length&&this.forwardEvent(new h2(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(jM(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),jM(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=_,u.outlet&&u.outlet.activateWith(i,_),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class qM{constructor(e,t){this.routes=e,this.module=t}}function rh(n){return"function"==typeof n}function dp(n){return n instanceof up}const kb=Symbol("INITIAL_VALUE");function Pb(){return bs(n=>function(...n){const e=(0,_r.yG)(n),t=(0,_r.jO)(n),{args:r,keys:i}=RP(n);if(0===r.length)return(0,dn.D)([],e);const a=new Hn.y(function(n,e,t=Ba.y){return r=>{PP(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let _=0;_<i;_++)PP(e,()=>{const w=(0,dn.D)(n[_],e);let I=!1;w.subscribe(new ar.Q(r,x=>{a[_]=x,I||(I=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>kP(i,u):Ba.y));return t?a.pipe(wi(t)):a}(n.map(e=>e.pipe((0,js.q)(1),Vl(kb)))).pipe(Qh((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==kb?i:(a===kb&&(r=!0),r||!1!==a&&u!==t.length-1&&!dp(a)?i:a),e)},kb),On(e=>e!==kb),(0,Ct.U)(e=>dp(e)?e:!0===e),(0,js.q)(1)))}class tj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nb,this.attachRef=null}}class Nb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new tj,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let WM=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=a||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new nj(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Nb),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class nj{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===s_?this.route:e===Nb?this.childContexts:this.parent.get(e,t)}}let dN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[WM],encapsulation:2}),n})();function hN(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];rj(r,ij(e,r))}}function rj(n,e){n.children&&hN(n.children,e)}function ij(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ZM(n){const e=n.children&&n.children.map(ZM),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=dN),t}function fa(n){return n.outlet||Wt}function fN(n,e){const t=n.filter(r=>fa(r)===e);return t.push(...n.filter(r=>fa(r)!==e)),t}const pN={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function AD(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},pN):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||_2)(t,n,e);if(!a)return Object.assign({},pN);const u={};Ri(a.posParams,(_,w)=>{u[w]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function MD(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>xD(n,e,r)&&fa(r)!==Wt)}(n,t,r)){const u=new Xt(e,function(n,e,t,r){const i={};i[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&fa(a)!==Wt){const u=new Xt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[fa(a)]=u}return i}(n,e,r,new Xt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>xD(n,e,r))}(n,t,r)){const u=new Xt(n.segments,function(n,e,t,r,i,a){const u={};for(const f of r)if(xD(n,t,f)&&!i[fa(f)]){const _=new Xt([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[fa(f)]=_}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Xt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function xD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gN(n,e,t,r){return!!(fa(n)===r||r!==Wt&&xD(e,t,n))&&("**"===n.path||AD(e,n,t).matched)}function mN(n,e,t){return 0===e.length&&!n.children[t]}class Fb{constructor(e){this.segmentGroup=e||null}}class _N{constructor(e){this.urlTree=e}}function OD(n){return new Hn.y(e=>e.error(new Fb(n)))}function yN(n){return new Hn.y(e=>e.error(new _N(n)))}function uj(n){return new Hn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class hj{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=MD(this.urlTree.root,[],[],this.config).segmentGroup,t=new Xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Wt).pipe((0,Ct.U)(a=>this.createUrlTree(KM(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nh(a=>{if(a instanceof _N)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Fb?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wt).pipe((0,Ct.U)(i=>this.createUrlTree(KM(i),e.queryParams,e.fragment))).pipe(nh(i=>{throw i instanceof Fb?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Xt([],{[Wt]:e}):e;return new up(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ct.U)(a=>new Xt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,dn.D)(i).pipe(n_(a=>{const u=r.children[a],f=fN(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,Ct.U)(_=>({segment:_,outlet:a})))}),Qh((a,u)=>(a[u.outlet]=u.segment,a),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Ba.y,PM(1),t?$k(e):Gk(()=>new cD))}())}expandSegment(e,t,r,i,a,u){return(0,dn.D)(r).pipe(n_(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(nh(w=>{if(w instanceof Fb)return Qe(null);throw w}))),ap(f=>!!f),nh((f,_)=>{if(f instanceof cD||"EmptyError"===f.name){if(mN(t,i,a))return Qe(new Xt([],{}));throw new Fb(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return gN(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):OD(t):OD(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?yN(a):this.lineralizeSegments(r,a).pipe((0,Ln.z)(u=>{const f=new Xt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:_,lastChild:w,positionalParamSegments:I}=AD(t,i,a);if(!f)return OD(t);const x=this.applyRedirectCommands(_,i.redirectTo,I);return i.redirectTo.startsWith("/")?yN(x):this.lineralizeSegments(i,x).pipe((0,Ln.z)(L=>this.expandSegment(e,t,r,L.concat(a.slice(w)),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Qe(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ct.U)(L=>(r._loadedConfig=L,new Xt(i,{})))):Qe(new Xt(i,{}));const{matched:u,consumedSegments:f,lastChild:_}=AD(t,r,i);if(!u)return OD(t);const w=i.slice(_);return this.getChildConfig(e,r,i).pipe((0,Ln.z)(x=>{const L=x.module,B=x.routes,{segmentGroup:q,slicedSegments:le}=MD(t,f,w,B),Ee=new Xt(q.segments,q.children);if(0===le.length&&Ee.hasChildren())return this.expandChildren(L,B,Ee).pipe((0,Ct.U)(nt=>new Xt(f,nt)));if(0===B.length&&0===le.length)return Qe(new Xt(f,{}));const Ue=fa(r)===a;return this.expandSegment(L,Ee,B,le,Ue?Wt:a,!0).pipe((0,Ct.U)(lt=>new Xt(f.concat(lt.segments),lt.children)))}))}getChildConfig(e,t,r){return t.children?Qe(new qM(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Qe(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ln.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Ct.U)(a=>(t._loadedConfig=a,a))):function(n){return new Hn.y(e=>e.error(FM(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):Qe(new qM([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return Qe(!0);const a=i.map(u=>{const f=e.get(u);let _;if(function(n){return n&&rh(n.canLoad)}(f))_=f.canLoad(t,r);else{if(!rh(f))throw new Error("Invalid CanLoad guard");_=f(t,r)}return ou(_)});return Qe(a).pipe(Pb(),(0,Co.b)(u=>{if(!dp(u))return;const f=FM(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,Ct.U)(u=>!0===u))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Qe(r);if(i.numberOfChildren>1||!i.children[Wt])return uj(e.redirectTo);i=i.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new up(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ri(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Ri(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,r,i)}),new Xt(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function KM(n){const e={};for(const r of Object.keys(n.children)){const a=KM(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new Xt(n.segments.concat(e.segments),e.children)}return n}(new Xt(n.segments,e))}class vN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class RD{constructor(e,t){this.component=e,this.route=t}}function gj(n,e,t){const r=n._root;return Lb(r,e?e._root:null,t,[r.value])}function kD(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Lb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=i_(e);return n.children.forEach(u=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cp(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cp(n.url,e.url)||!su(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!HM(n,e)||!su(n.queryParams,e.queryParams);default:return!HM(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vN(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Lb(n,e,a.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new RD(f.outlet.component,u))}else u&&Vb(e,f,i),i.canActivateChecks.push(new vN(r)),Lb(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Ri(a,(u,f)=>Vb(u,t.getContext(f),i)),i}function Vb(n,e,t){const r=i_(n),i=n.value;Ri(r,(a,u)=>{Vb(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new RD(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Aj{}function bN(n){return new Hn.y(e=>e.error(n))}class xj{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=MD(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Wt);if(null===t)return null;const r=new ID([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new wc(r,t),a=new iN(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=rN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=fN(e,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;r.push(..._)}const i=wN(r);return function(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return mN(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!gN(e,t,r,i))return null;let a,u=[],f=[];if("**"===e.path){const B=r.length>0?$P(r).parameters:{};a=new ID(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DN(e),fa(e),e.component,e,EN(t),CN(t)+r.length,IN(e))}else{const B=AD(t,e,r);if(!B.matched)return null;u=B.consumedSegments,f=r.slice(B.lastChild),a=new ID(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DN(e),fa(e),e.component,e,EN(t),CN(t)+u.length,IN(e))}const _=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:w,slicedSegments:I}=MD(t,u,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===I.length&&w.hasChildren()){const B=this.processChildren(_,w);return null===B?null:[new wc(a,B)]}if(0===_.length&&0===I.length)return[new wc(a,[])];const x=fa(e)===i,L=this.processSegment(_,w,I,x?Wt:i);return null===L?null:[new wc(a,L)]}}function kj(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wN(n){const e=[],t=new Set;for(const r of n){if(!kj(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wN(r.children);e.push(new wc(r.value,i))}return e.filter(r=>!t.has(r))}function EN(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CN(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function DN(n){return n.data||{}}function IN(n){return n.resolve||{}}function YM(n){return bs(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,Ct.U)(()=>e)):Qe(e)})}class jj extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const QM=new d.OlP("ROUTES");class TN{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Ct.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new qM(HP(u.injector.get(QM,void 0,d.XFs.Self|d.XFs.Optional)).map(ZM),u)}),nh(a=>{throw t._loader$=void 0,a}));return t._loader$=new t2(i,()=>new rn.x).pipe(NP()),t._loader$}loadModuleFactory(e){return ou(e()).pipe((0,Ln.z)(t=>t instanceof d.YKP?Qe(t):(0,dn.D)(this.compiler.compileModuleAsync(t))))}}class $j{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Gj(n){throw n}function zj(n,e,t){return e.parse("/")}function SN(n,e){return Qe(null)}const qj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ki=(()=>{class n{constructor(t,r,i,a,u,f,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new rn.x,this.errorHandler=Gj,this.malformedUriErrorHandler=zj,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:SN,afterPreactivation:SN},this.urlHandlingStrategy=new $j,this.routeReuseStrategy=new jj,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(d.h0i),this.console=u.get(d.c2e);const x=u.get(d.R0b);this.isNgZoneEnabled=x instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=new up(new Xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new TN(u,f,L=>this.triggerEvent(new LP(L)),L=>this.triggerEvent(new VP(L))),this.routerState=nN(this.currentUrlTree,this.rootComponentType),this.transitions=new us({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(On(i=>0!==i.id),(0,Ct.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),bs(i=>{let a=!1,u=!1;return Qe(i).pipe((0,Co.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bs(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return PD(f.source)&&(this.browserUrlTree=f.extractedUrl),Qe(f).pipe(bs(x=>{const L=this.transitions.getValue();return r.next(new NM(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),L!==this.transitions.getValue()?lp.E:Promise.resolve(x)}),function(n,e,t,r){return bs(i=>function(n,e,t,r,i){return new hj(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Ct.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Co.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(n,e,t,r,i){return(0,Ln.z)(a=>function(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new xj(n,e,t,r,i,a).recognize();return null===u?bN(new Aj):Qe(u)}catch(u){return bN(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Ct.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Co.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(B,x)}this.browserUrlTree=x.urlAfterRedirects}const L=new o2(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(L)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:B,source:q,restoredState:le,extras:Ee}=f,Ue=new NM(L,this.serializeUrl(B),q,le);r.next(Ue);const st=nN(B,this.rootComponentType).snapshot;return Qe(Object.assign(Object.assign({},f),{targetSnapshot:st,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),lp.E}),YM(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Co.b)(f=>{const _=new a2(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,Ct.U)(f=>Object.assign(Object.assign({},f),{guards:gj(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ln.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Qe(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,dn.D)(n).pipe((0,Ln.z)(i=>function(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Qe(a.map(f=>{const _=kD(f,e,i);let w;if(function(n){return n&&rh(n.canDeactivate)}(_))w=ou(_.canDeactivate(n,e,t,r));else{if(!rh(_))throw new Error("Invalid CanDeactivate guard");w=ou(_(n,e,t,r))}return w.pipe(ap())})).pipe(Pb()):Qe(!0)}(i.component,i.route,t,e,r)),ap(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Ln.z)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,e,t,r){return(0,dn.D)(e).pipe(n_(i=>Fh(function(n,e){return null!==n&&e&&e(new d2(n)),Qe(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new f2(n)),Qe(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ag(()=>Qe(u.guards.map(_=>{const w=kD(_,u.node,t);let I;if(function(n){return n&&rh(n.canActivateChild)}(w))I=ou(w.canActivateChild(r,n));else{if(!rh(w))throw new Error("Invalid CanActivateChild guard");I=ou(w(r,n))}return I.pipe(ap())})).pipe(Pb())));return Qe(a).pipe(Pb())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Qe(!0);const i=r.map(a=>ag(()=>{const u=kD(a,e,t);let f;if(function(n){return n&&rh(n.canActivate)}(u))f=ou(u.canActivate(e,n));else{if(!rh(u))throw new Error("Invalid CanActivate guard");f=ou(u(e,n))}return f.pipe(ap())}));return Qe(i).pipe(Pb())}(n,i.route,t))),ap(i=>!0!==i,!0))}(r,a,n,e):Qe(f)),(0,Ct.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Co.b)(f=>{if(dp(f.guardsResult)){const w=FM(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw w.url=f.guardsResult,w}const _=new l2(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),On(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),YM(f=>{if(f.guards.canActivateChecks.length)return Qe(f).pipe((0,Co.b)(_=>{const w=new u2(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),bs(_=>{let w=!1;return Qe(_).pipe(function(n,e){return(0,Ln.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Qe(t);let a=0;return(0,dn.D)(i).pipe(n_(u=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Qe({});const a={};return(0,dn.D)(i).pipe((0,Ln.z)(u=>function(n,e,t,r){const i=kD(n,e,r);return ou(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Co.b)(f=>{a[u]=f}))),PM(1),(0,Ln.z)(()=>Object.keys(a).length===i.length?Qe(a):lp.E))}(n._resolve,n,e,r).pipe((0,Ct.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),rN(n,t).resolve),null)))}(u.route,r,n,e)),(0,Co.b)(()=>a++),PM(1),(0,Ln.z)(u=>a===i.length?Qe(t):lp.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Co.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Co.b)(_=>{const w=new c2(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),YM(f=>{const{targetSnapshot:_,id:w,extractedUrl:I,rawUrl:x,extras:{skipLocationChange:L,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:w,appliedUrlTree:I,rawUrlTree:x,skipLocationChange:!!L,replaceUrl:!!B})}),(0,Ct.U)(f=>{const _=function(n,e,t){const r=Ob(n,e._root,t?t._root:void 0);return new tN(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,Co.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Ct.U)(r=>(new Z2(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Co.b)({next(){a=!0},complete(){a=!0}}),function(n){return(0,Zn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),nh(f=>{if(u=!0,function(n){return n&&n[UP]}(f)){const _=dp(f.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const w=new FP(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(w),_?setTimeout(()=>{const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PD(i.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new s2(i.id,this.serializeUrl(i.extractedUrl),f);r.next(_);try{i.resolve(this.errorHandler(f))}catch(w){i.reject(w)}}return lp.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hN(t),this.config=t.map(ZM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=r,w=i||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let x=null;switch(f){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function(n,e,t,r,i){if(0===t.length)return $M(e.root,e.root,e,r,i);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aN(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Ri(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new aN(t,e,r)}(t);if(a.toRoot())return $M(e.root,new Xt([],{}),e,r,i);const u=function(n,e,t){if(n.isAbsolute)return new GM(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new GM(a,a===e.root,0)}const r=TD(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new GM(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?SD(u.segmentGroup,u.index,a.commands):lN(u.segmentGroup,u.index,a.commands);return $M(u.segmentGroup,f,e,r,i)}(w,this.currentUrlTree,t,x,null!=I?I:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=dp(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},qj):!1===r?Object.assign({},Wj):r,dp(t))return zP(this.currentUrlTree,t,i);const a=this.parseUrl(t);return zP(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ab(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var f,_,w;if(this.disposed)return Promise.resolve(!1);const I=this.transitions.value,x=PD(r)&&I&&!PD(I.source),L=I.rawUrl.toString()===t.toString(),B=I.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(x&&L&&B)return Promise.resolve(!0);let le,Ee,Ue;u?(le=u.resolve,Ee=u.reject,Ue=u.promise):Ue=new Promise((nt,xt)=>{le=nt,Ee=xt});const st=++this.navigationId;let lt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),lt=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):lt=0,this.setTransition({id:st,targetPageId:lt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:le,reject:Ee,promise:Ue,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ue.catch(nt=>Promise.reject(nt))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new FP(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function PD(n){return"imperative"!==n}let Bb=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new rn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:o_(this.skipLocationChange),replaceUrl:o_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:o_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ki),d.Y36(s_),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&d.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})(),ND=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new rn.x,this.subscription=t.events.subscribe(a=>{a instanceof Ab&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){if(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:o_(this.skipLocationChange),replaceUrl:o_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:o_(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ki),d.Y36(s_),d.Y36(Ne))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function o_(n){return""===n||!!n}class AN{}class MN{preload(e,t){return Qe(null)}}let xN=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new TN(i,r,_=>t.triggerEvent(new LP(_)),_=>t.triggerEvent(new VP(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(On(t=>t instanceof Ab),n_(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,dn.D)(i).pipe((0,lg.J)(),(0,Ct.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Qe(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ln.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ki),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(AN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),JM=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof NM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ab&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof BP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new BP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const hp=new d.OlP("ROUTER_CONFIGURATION"),ON=new d.OlP("ROUTER_FORROOT_GUARD"),Jj=[je,{provide:KP,useClass:YP},{provide:Ki,useFactory:function(n,e,t,r,i,a,u={},f,_){const w=new Ki(null,n,e,t,r,i,HP(a));return f&&(w.urlHandlingStrategy=f),_&&(w.routeReuseStrategy=_),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,w),u.enableTracing&&w.events.subscribe(I=>{var x,L;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(L=console.groupEnd)||void 0===L||L.call(console)}),w},deps:[KP,Nb,je,d.zs3,d.Sil,QM,hp,[class{},new d.FiY],[class{},new d.FiY]]},Nb,{provide:s_,useFactory:function(n){return n.routerState.root},deps:[Ki]},xN,MN,class{preload(e,t){return t().pipe(nh(()=>Qe(null)))}},{provide:hp,useValue:{enableTracing:!1}}];function Xj(){return new d.PXZ("Router",Ki)}let RN=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Jj,kN(t),{provide:ON,useFactory:nH,deps:[[Ki,new d.FiY,new d.tp0]]},{provide:hp,useValue:r||{}},{provide:Ne,useFactory:tH,deps:[pe,[new d.tBr(Ce),new d.FiY],hp]},{provide:JM,useFactory:eH,deps:[Ki,fu,hp]},{provide:AN,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:MN},{provide:d.PXZ,multi:!0,useFactory:Xj},[XM,{provide:d.ip1,multi:!0,useFactory:oH,deps:[XM]},{provide:PN,useFactory:aH,deps:[XM]},{provide:d.tb,multi:!0,useExisting:PN}]]}}static forChild(t){return{ngModule:n,providers:[kN(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ON,8),d.LFG(Ki,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function eH(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new JM(n,e,t)}function tH(n,e,t={}){return t.useHash?new Me(n,e):new Le(n,e)}function nH(n){return"guarded"}function kN(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:QM,multi:!0,useValue:n}]}let XM=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new rn.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(Ki),u=this.injector.get(hp);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Qe(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(hp),i=this.injector.get(xN),a=this.injector.get(JM),u=this.injector.get(Ki),f=this.injector.get(d.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function oH(n){return n.appInitializer.bind(n)}function aH(n){return n.bootstrapListener.bind(n)}const PN=new d.OlP("Router Initializer");let uH=(()=>{class n{constructor(t,r){this.dialog=t,this.store=r,this.title="portfolio"}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Og),d.Y36(OP))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[WM],styles:[""]}),n})();class NN{}class FN{}class Ec{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ec?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ec;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ec?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class cH{encodeKey(e){return LN(e)}encodeValue(e){return LN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const hH=/%(\d[a-f0-9])/gi,fH={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function LN(n){return encodeURIComponent(n).replace(hH,(e,t)=>{var r;return null!==(r=fH[t])&&void 0!==r?r:e})}function VN(n){return`${n}`}class ih{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new cH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ih({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(VN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(VN(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class pH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function BN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function UN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function jN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ub{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Ec),this.context||(this.context=new pH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new ih,this.urlWithParams=t}serializeBody(){return null===this.body?null:BN(this.body)||UN(this.body)||jN(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ih?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jN(this.body)?null:UN(this.body)?this.body.type||null:BN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ih?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,I=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((L,B)=>L.set(B,e.setHeaders[B]),w)),e.setParams&&(I=Object.keys(e.setParams).reduce((L,B)=>L.set(B,e.setParams[B]),I)),new Ub(r,i,u,{params:I,headers:w,context:x,reportProgress:_,responseType:a,withCredentials:f})}}var Lr=(()=>((Lr=Lr||{})[Lr.Sent=0]="Sent",Lr[Lr.UploadProgress=1]="UploadProgress",Lr[Lr.ResponseHeader=2]="ResponseHeader",Lr[Lr.DownloadProgress=3]="DownloadProgress",Lr[Lr.Response=4]="Response",Lr[Lr.User=5]="User",Lr))();class ex{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ec,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class tx extends ex{constructor(e={}){super(e),this.type=Lr.ResponseHeader}clone(e={}){return new tx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class FD extends ex{constructor(e={}){super(e),this.type=Lr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new FD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HN extends ex{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nx(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $N=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Ub)a=t;else{let _,w;_=i.headers instanceof Ec?i.headers:new Ec(i.headers),i.params&&(w=i.params instanceof ih?i.params:new ih({fromObject:i.params})),a=new Ub(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Qe(a).pipe(n_(_=>this.handler.handle(_)));if(t instanceof Ub||"events"===i.observe)return u;const f=u.pipe(On(_=>_ instanceof FD));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,Ct.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Ct.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Ct.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Ct.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ih).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,nx(i,r))}post(t,r,i={}){return this.request("POST",t,nx(i,r))}put(t,r,i={}){return this.request("PUT",t,nx(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(NN))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class GN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const zN=new d.OlP("HTTP_INTERCEPTORS");let _H=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yH=/^\)\]\}',?\n/;let qN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((B,q)=>i.setRequestHeader(B,q.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const B=t.detectContentTypeHeader();null!==B&&i.setRequestHeader("Content-Type",B)}if(t.responseType){const B=t.responseType.toLowerCase();i.responseType="json"!==B?B:"text"}const a=t.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=1223===i.status?204:i.status,q=i.statusText||"OK",le=new Ec(i.getAllResponseHeaders()),Ee=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new tx({headers:le,status:B,statusText:q,url:Ee}),u},_=()=>{let{headers:B,status:q,statusText:le,url:Ee}=f(),Ue=null;204!==q&&(Ue=void 0===i.response?i.responseText:i.response),0===q&&(q=Ue?200:0);let st=q>=200&&q<300;if("json"===t.responseType&&"string"==typeof Ue){const lt=Ue;Ue=Ue.replace(yH,"");try{Ue=""!==Ue?JSON.parse(Ue):null}catch(nt){Ue=lt,st&&(st=!1,Ue={error:nt,text:Ue})}}st?(r.next(new FD({body:Ue,headers:B,status:q,statusText:le,url:Ee||void 0})),r.complete()):r.error(new HN({error:Ue,headers:B,status:q,statusText:le,url:Ee||void 0}))},w=B=>{const{url:q}=f(),le=new HN({error:B,status:i.status||0,statusText:i.statusText||"Unknown Error",url:q||void 0});r.error(le)};let I=!1;const x=B=>{I||(r.next(f()),I=!0);let q={type:Lr.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),"text"===t.responseType&&!!i.responseText&&(q.partialText=i.responseText),r.next(q)},L=B=>{let q={type:Lr.UploadProgress,loaded:B.loaded};B.lengthComputable&&(q.total=B.total),r.next(q)};return i.addEventListener("load",_),i.addEventListener("error",w),i.addEventListener("timeout",w),i.addEventListener("abort",w),t.reportProgress&&(i.addEventListener("progress",x),null!==a&&i.upload&&i.upload.addEventListener("progress",L)),i.send(a),r.next({type:Lr.Sent}),()=>{i.removeEventListener("error",w),i.removeEventListener("abort",w),i.removeEventListener("load",_),i.removeEventListener("timeout",w),t.reportProgress&&(i.removeEventListener("progress",x),null!==a&&i.upload&&i.upload.removeEventListener("progress",L)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(xo))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const rx=new d.OlP("XSRF_COOKIE_NAME"),ix=new d.OlP("XSRF_HEADER_NAME");class WN{}let bH=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=St(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(se),d.LFG(d.Lbi),d.LFG(rx))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),sx=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(WN),d.LFG(ix))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),wH=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(zN,[]);this.chain=r.reduceRight((i,a)=>new GN(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(FN),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),EH=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:sx,useClass:_H}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:rx,useValue:t.cookieName}:[],t.headerName?{provide:ix,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[sx,{provide:zN,useExisting:sx,multi:!0},{provide:WN,useClass:bH},{provide:rx,useValue:"XSRF-TOKEN"},{provide:ix,useValue:"X-XSRF-TOKEN"}]}),n})(),CH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$N,{provide:NN,useClass:wH},qN,{provide:FN,useExisting:qN}],imports:[[EH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),ZN=(()=>{class n{constructor(t,r){this.http=t,this.router=r,this.api="https://localhost:3000/api"}login(t,r){this.http.post(this.api+"/autenticate",{email:t,password:r}).subscribe(i=>{this.router.navigate(["profile"]),localStorage.setItem("auth_token",i.token)})}logout(){localStorage.removeItem("auth_token")}get logIn(){return null!==localStorage.getItem("auth_token")}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($N),d.LFG(Ki))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DH(n,e){1&n&&(d.TgZ(0,"button",10),d._uU(1,"LOGIN"),d.qZA())}function IH(n,e){1&n&&(d.TgZ(0,"button",11),d._uU(1,"LOGOUT"),d.qZA())}let TH=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.header={name:"Ian Petraccaro Cantero",twitter_icon:"https://twitter.com/Sectusius/",github_icon:"https://github.com/Sectusius/",instagram_icon:"https://www.instagram.com/maquineman/",login_button:"LOGIN"}}login(){this.router.navigateByUrl("/Login")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ki),d.Y36(ZN))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:13,vars:2,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],[1,"page-header"],["href","https://twitter.com/Sectusius/","target","_blank"],[1,"fa","fa-twitter"],["href","https://github.com/Sectusius/","target","_blank"],[1,"fa","fa-github"],["href","https://www.instagram.com/maquineman/","target","_blank"],[1,"fa","fa-instagram"],["class","login-button","routerLink","/Login",4,"ngIf"],["class","login-button",4,"ngIf"],["routerLink","/Login",1,"login-button"],[1,"login-button"]],template:function(t,r){1&t&&(d._UZ(0,"link",0),d.TgZ(1,"header",1),d.TgZ(2,"p"),d._uU(3," Ian Petraccaro Cantero "),d.qZA(),d.TgZ(4,"p"),d.TgZ(5,"a",2),d._UZ(6,"i",3),d.qZA(),d.TgZ(7,"a",4),d._UZ(8,"i",5),d.qZA(),d.TgZ(9,"a",6),d._UZ(10,"i",7),d.qZA(),d.YNc(11,DH,2,0,"button",8),d.YNc(12,IH,2,0,"button",9),d.qZA(),d.qZA()),2&t&&(d.xp6(11),d.Q6J("ngIf",!r.auth.logIn),d.xp6(1),d.Q6J("ngIf",r.auth.logIn))},directives:[Hr,Bb],styles:[".page-header[_ngcontent-%COMP%]{background-color:#413c5f;height:45px;border:gray;display:flex;justify-items:right;justify-content:space-between;align-items:center;text-orientation:sideways;color:#fff;margin:0}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{padding:3px;color:inherit}.login-button[_ngcontent-%COMP%]{background-color:transparent;border:0;color:#fff}.login-button[_ngcontent-%COMP%]:hover{border-style:solid;border-color:#000;background-color:#000;color:#fff}"]}),n})(),SH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-profile"]],decls:9,vars:0,consts:[[1,"profile-background"],[1,"background-pic-container"],["src","assets/Images/gator.jpg",1,"background-pic"],["src","assets/Images/gator.jpg",1,"profile-pic"],[1,"profile_text"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._UZ(2,"img",2),d.qZA(),d._UZ(3,"img",3),d.qZA(),d.TgZ(4,"div",4),d.TgZ(5,"h2"),d._uU(6," Ian Petraccaro Cantero "),d.qZA(),d.TgZ(7,"p"),d._uU(8," Estudiante de informatica en la UNLP "),d.qZA(),d.qZA())},styles:[".profile-background[_ngcontent-%COMP%]{display:flex;margin:0 10px 10px;justify-items:center;justify-content:center;align-content:center;position:relative}.background-pic-container[_ngcontent-%COMP%]{margin:10px 0 0;height:300px;width:98%}img.background-pic[_ngcontent-%COMP%]{border-top-left-radius:20px;border-top-right-radius:20px;height:100%;width:100%;display:block}.profile-picture[_ngcontent-%COMP%]{margin:10px;padding:200px 0 0}img.profile-pic[_ngcontent-%COMP%]{height:150px;border-radius:50%;position:absolute;top:200px;left:0px}.profile_text[_ngcontent-%COMP%]{margin-top:40px;margin-left:10px}"]}),n})(),AH=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navigation-header"]],decls:16,vars:0,consts:[[1,"navegation-header"],["href","#acerca_de"],[1,"navegation-button"],["href","#experiencia"],["href","#educacion"],["href","#hard_soft_skills"],["href","#proyectos"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"a",1),d.TgZ(2,"button",2),d._uU(3,"Acerca de"),d.qZA(),d.qZA(),d.TgZ(4,"a",3),d.TgZ(5,"button",2),d._uU(6,"Experiencia"),d.qZA(),d.qZA(),d.TgZ(7,"a",4),d.TgZ(8,"button",2),d._uU(9,"Educaci\xf3n"),d.qZA(),d.qZA(),d.TgZ(10,"a",5),d.TgZ(11,"button",2),d._uU(12,"Hard & Soft skills"),d.qZA(),d.qZA(),d.TgZ(13,"a",6),d.TgZ(14,"button",2),d._uU(15,"Proyectos"),d.qZA(),d.qZA(),d.qZA())},styles:[".navegation-header[_ngcontent-%COMP%]{background-color:#413c5f;height:50px;align-content:center;justify-items:center;justify-content:space-around}.navegation-button[_ngcontent-%COMP%]{border-color:transparent;background-color:transparent;color:#fff;margin:10px}.navegation-button[_ngcontent-%COMP%]:hover{color:#fff;background-color:transparent;display:inline-block;border-bottom-color:#fff;border-bottom-style:solid}"]}),n})(),KN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),fp=(()=>{class n extends KN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const au=new d.OlP("NgValueAccessor"),OH={provide:au,useExisting:(0,d.Gpc)(()=>LD),multi:!0},kH=new d.OlP("CompositionEventMode");let LD=(()=>{class n extends KN{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(kH,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[d._Bn([OH]),d.qOj]}),n})();function sh(n){return null==n||0===n.length}function QN(n){return null!=n&&"number"==typeof n.length}const Yi=new d.OlP("NgValidators"),oh=new d.OlP("NgAsyncValidators"),PH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jb{static min(e){return function(n){return e=>{if(sh(e.value)||sh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(sh(e.value)||sh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return e1(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return sh(n.value)||PH.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>sh(e.value)||!QN(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>QN(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Hb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(sh(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return h1(e)}static composeAsync(e){return f1(e)}}function e1(n){return sh(n.value)?{required:!0}:null}function Hb(n){return null}function a1(n){return null!=n}function l1(n){const e=(0,d.QGY)(n)?(0,dn.D)(n):n;return(0,d.CqO)(e),e}function u1(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function c1(n,e){return e.map(t=>t(n))}function d1(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function h1(n){if(!n)return null;const e=n.filter(a1);return 0==e.length?null:function(t){return u1(c1(t,e))}}function ox(n){return null!=n?h1(d1(n)):null}function f1(n){if(!n)return null;const e=n.filter(a1);return 0==e.length?null:function(t){return function(...n){const e=(0,_r.jO)(n),{args:t,keys:r}=RP(n),i=new Hn.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let x=!1;(0,bi.Xf)(t[I]).subscribe(new ar.Q(a,L=>{x||(x=!0,w--),f[I]=L},()=>_--,void 0,()=>{(!_||!x)&&(w||a.next(r?kP(r,f):f),a.complete())}))}});return e?i.pipe(wi(e)):i}(c1(t,e).map(l1)).pipe((0,Ct.U)(u1))}}function ax(n){return null!=n?f1(d1(n)):null}function p1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function g1(n){return n._rawValidators}function m1(n){return n._rawAsyncValidators}function lx(n){return n?Array.isArray(n)?n:[n]:[]}function VD(n,e){return Array.isArray(n)?n.includes(e):n===e}function _1(n,e){const t=lx(e);return lx(n).forEach(i=>{VD(t,i)||t.push(i)}),t}function y1(n,e){return lx(e).filter(t=>!VD(n,t))}class v1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ox(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ax(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Cc extends v1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Es extends v1{get formDirective(){return null}get path(){return null}}class b1{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let w1=(()=>{class n extends b1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cc,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),E1=(()=>{class n extends b1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Es,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function $b(n,e){dx(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&C1(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&C1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$D(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function HD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dx(n,e){const t=g1(n);null!==e.validator?n.setValidators(p1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=m1(n);null!==e.asyncValidator?n.setAsyncValidators(p1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();HD(e._rawValidators,i),HD(e._rawAsyncValidators,i)}function $D(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=g1(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=m1(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return HD(e._rawValidators,r),HD(e._rawAsyncValidators,r),t}function C1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D1(n,e){dx(n,e)}function I1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Gb="VALID",zD="INVALID",a_="PENDING",zb="DISABLED";function px(n){return(mx(n)?n.validators:n)||null}function T1(n){return Array.isArray(n)?ox(n):n||null}function gx(n,e){return(mx(e)?e.asyncValidators:n)||null}function S1(n){return Array.isArray(n)?ax(n):n||null}function mx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class _x{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=T1(this._rawValidators),this._composedAsyncValidatorFn=S1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gb}get invalid(){return this.status===zD}get pending(){return this.status==a_}get disabled(){return this.status===zb}get enabled(){return this.status!==zb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=T1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=S1(e)}addValidators(e){this.setValidators(_1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(_1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(y1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(y1(e,this._rawAsyncValidators))}hasValidator(e){return VD(this._rawValidators,e)}hasAsyncValidator(e){return VD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=a_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zb,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gb||this.status===a_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zb:Gb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=a_,this._hasOwnPendingAsyncValidator=!0;const t=l1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof qb?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof yx&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?zb:this.errors?zD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a_)?a_:this._anyControlsHaveStatus(zD)?zD:Gb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mx(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class l_ extends _x{constructor(e=null,t,r){super(px(t),gx(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class qb extends _x{constructor(e,t,r){super(px(t),gx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof l_?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class yx extends _x{constructor(e,t,r){super(px(t),gx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof l_?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const WH={provide:Es,useExisting:(0,d.Gpc)(()=>qD)},Wb=(()=>Promise.resolve(null))();let qD=(()=>{class n extends Es{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new qb({},ox(t),ax(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Wb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),$b(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Wb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),GD(this._directives,t)})}addFormGroup(t){Wb.then(()=>{const r=this._findContainer(t.path),i=new qb({});D1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Wb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Wb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,I1(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yi,10),d.Y36(oh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([WH]),d.qOj]}),n})(),R1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),P1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const vx=new d.OlP("NgModelWithFormControlWarning"),t$={provide:Es,useExisting:(0,d.Gpc)(()=>Zb)};let Zb=(()=>{class n extends Es{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($D(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $b(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){jD(t.control||null,t,!1),GD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,I1(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(jD(r||null,t),i instanceof l_&&($b(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);D1(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return $D(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dx(this.form,this),this._oldForm&&$D(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Yi,10),d.Y36(oh,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([t$]),d.qOj,d.TTD]}),n})();const i$={provide:Cc,useExisting:(0,d.Gpc)(()=>Ex)};let Ex=(()=>{class n extends Cc{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===LD?t=a:function(n){return Object.getPrototypeOf(n.constructor)===fp}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Es,13),d.Y36(Yi,10),d.Y36(oh,10),d.Y36(au,10),d.Y36(vx,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([i$]),d.qOj,d.TTD]}),n})();const f$={provide:Yi,useExisting:(0,d.Gpc)(()=>ZD),multi:!0};let ZD=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?e1(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[d._Bn([f$])]}),n})(),Y1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[P1]]}),n})(),v$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Y1]}),n})(),Q1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Y1]}),n})(),w$=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,u=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,u=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,u=null!=r.asyncValidator?r.asyncValidator:null)),new qb(i,{asyncValidators:u,updateOn:f,validators:a})}control(t,r,i){return new l_(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new yx(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof l_||t instanceof qb||t instanceof yx?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:Q1}),n})(),J1=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C$=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=mr(t);return new Hn.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new rn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(J1))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D$=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ns(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(n,e=Ou.z){return(0,Zn.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=a;a=null,r.next(w)}};function _(){const w=u+n,I=e.now();if(I<w)return i=this.schedule(void 0,w-I),void r.add(i);f()}t.subscribe(new ar.Q(r,w=>{a=w,u=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(C$),d.Y36(d.SBq),d.Y36(d.R0b))},n.\u0275dir=d.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[J1]}),n})();const T$=["connectionContainer"],S$=["inputContainer"],A$=["label"];function M$(n,e){1&n&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function x$(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",19),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.Hsn(1,1),d.qZA()}if(2&n){const t=d.oxw();d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function O$(n,e){if(1&n&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&n){const t=d.oxw(2);d.xp6(3),d.Oqu(t._control.placeholder)}}function R$(n,e){1&n&&d.Hsn(0,3,["*ngSwitchCase","true"])}function k$(n,e){1&n&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function P$(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(t),d.oxw().updateOutlineGap()}),d.YNc(2,O$,4,1,"ng-container",12),d.YNc(3,R$,1,0,"ng-content",12),d.YNc(4,k$,2,0,"span",22),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),d.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),d.uIk("for",t._control.id)("aria-owns",t._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function N$(n,e){1&n&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function F$(n,e){if(1&n&&(d.TgZ(0,"div",25),d._UZ(1,"span",26),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function L$(n,e){if(1&n&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState)}}function V$(n,e){if(1&n&&(d.TgZ(0,"div",30),d._uU(1),d.qZA()),2&n){const t=d.oxw(2);d.Q6J("id",t._hintLabelId),d.xp6(1),d.Oqu(t.hintLabel)}}function B$(n,e){if(1&n&&(d.TgZ(0,"div",27),d.YNc(1,V$,2,2,"div",28),d.Hsn(2,6),d._UZ(3,"div",29),d.Hsn(4,7),d.qZA()),2&n){const t=d.oxw();d.Q6J("@transitionMessages",t._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",t.hintLabel)}}const U$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],j$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],H$=new d.OlP("MatError"),$$={transitionMessages:Z0("transitionMessages",[oy("enter",Bl({opacity:1,transform:"translateY(0%)"})),Lh("void => enter",[Bl({opacity:0,transform:"translateY(-5px)"}),sy("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ix=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n}),n})();const G$=new d.OlP("MatHint");let X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-label"]]}),n})(),z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const q$=new d.OlP("MatPrefix"),W$=new d.OlP("MatSuffix");let eF=0;const K$=B0(class{constructor(n){this._elementRef=n}},"primary"),Y$=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),nF=new d.OlP("MatFormField");let Q$=(()=>{class n extends K${constructor(t,r,i,a,u,f,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new rn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+eF++,this._labelId="mat-form-field-label-"+eF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ns(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Vl(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(ls(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ls(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,wh.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vl(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vl(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(ls(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,fo(this._label.nativeElement,"transitionend").pipe((0,js.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const a=this._connectionContainerRef.nativeElement,u=a.querySelectorAll(".mat-form-field-outline-start"),f=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const _=a.getBoundingClientRect();if(0===_.width&&0===_.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const w=this._getStartEnd(_),I=t.children,x=this._getStartEnd(I[0].getBoundingClientRect());let L=0;for(let B=0;B<I.length;B++)L+=I[B].offsetWidth;r=Math.abs(x-w)-5,i=L>0?.75*L+10:0}for(let _=0;_<u.length;_++)u[_].style.width=`${r}px`;for(let _=0;_<f.length;_++)f[_].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Ml,8),d.Y36(Y$,8),d.Y36(yr),d.Y36(d.R0b),d.Y36(bd,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(d.Suo(i,Ix,5),d.Suo(i,Ix,7),d.Suo(i,X1,5),d.Suo(i,X1,7),d.Suo(i,z$,5),d.Suo(i,H$,5),d.Suo(i,G$,5),d.Suo(i,q$,5),d.Suo(i,W$,5)),2&t){let a;d.iGM(a=d.CRH())&&(r._controlNonStatic=a.first),d.iGM(a=d.CRH())&&(r._controlStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildNonStatic=a.first),d.iGM(a=d.CRH())&&(r._labelChildStatic=a.first),d.iGM(a=d.CRH())&&(r._placeholderChild=a.first),d.iGM(a=d.CRH())&&(r._errorChildren=a),d.iGM(a=d.CRH())&&(r._hintChildren=a),d.iGM(a=d.CRH())&&(r._prefixChildren=a),d.iGM(a=d.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(d.Gf(T$,7),d.Gf(S$,5),d.Gf(A$,5)),2&t){let i;d.iGM(i=d.CRH())&&(r._connectionContainerRef=i.first),d.iGM(i=d.CRH())&&(r._inputContainerRef=i.first),d.iGM(i=d.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&d.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:nF,useExisting:n}]),d.qOj],ngContentSelectors:j$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(d.F$t(U$),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),d.YNc(3,M$,9,0,"ng-container",3),d.YNc(4,x$,2,1,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,P$,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,N$,2,0,"div",9),d.qZA(),d.YNc(11,F$,2,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,L$,2,1,"div",12),d.YNc(14,B$,5,2,"div",13),d.qZA(),d.qZA()),2&t&&(d.xp6(3),d.Q6J("ngIf","outline"==r.appearance),d.xp6(1),d.Q6J("ngIf",r._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",r._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",r._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=r.appearance),d.xp6(1),d.Q6J("ngSwitch",r._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Hr,ba,Ni,D$],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[$$.transitionMessages]},changeDetection:0}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[kc,cs,I$],cs]}),n})();const rF=Pu({passive:!0});let J$=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return lp.E;const r=mr(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new rn.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,rF),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,rF)}}),a}stopMonitoring(t){const r=mr(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(yr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[xr]]}),n})();const X$=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),eG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let tG=0;const nG=xI(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let rG=(()=>{class n extends nG{constructor(t,r,i,a,u,f,_,w,I,x){super(f,a,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=w,this._formField=x,this._uid="mat-input-"+tG++,this.focused=!1,this.stateChanges=new rn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>po().has(q));const L=this._elementRef.nativeElement,B=L.nodeName.toLowerCase();this._inputValueAccessor=_||L,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",q=>{const le=q.target;!le.value&&0===le.selectionStart&&0===le.selectionEnd&&(le.setSelectionRange(1,1),le.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=L.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ns(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(jb.required))&&void 0!==a&&a}set required(t){this._required=Ns(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&po().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ns(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){eG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(yr),d.Y36(Cc,10),d.Y36(qD,8),d.Y36(Zb,8),d.Y36(sg),d.Y36(X$,10),d.Y36(J$),d.Y36(d.R0b),d.Y36(nF,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&d.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(d.Ikx("disabled",r.disabled)("required",r.required),d.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),d.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[d._Bn([{provide:Ix,useExisting:n}]),d.qOj,d.TTD]}),n})(),iG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[sg],imports:[[iF,Tx,cs],iF,Tx]}),n})(),sG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Qx,cs],cs]}),n})();const oG=["*",[["mat-card-footer"]]],aG=["*","mat-card-footer"],lG=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uG=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let cG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),dG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),hG=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(bd,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&d.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:aG,decls:2,vars:0,template:function(t,r){1&t&&(d.F$t(oG),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),fG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:uG,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(d.F$t(lG),d.Hsn(0),d.TgZ(1,"div",0),d.Hsn(2,1),d.qZA(),d.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[cs],cs]}),n})();function gG(n,e){1&n&&(d.TgZ(0,"p",8),d._uU(1," Mail required. "),d.qZA())}function mG(n,e){1&n&&(d.TgZ(0,"p",8),d._uU(1," Invalid format. "),d.qZA())}function _G(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,gG,2,0,"p",7),d.YNc(2,mG,2,0,"p",7),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",null==t.Mail?null:t.Mail.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==t.Mail?null:t.Mail.hasError("email"))}}function yG(n,e){1&n&&(d.TgZ(0,"p",8),d._uU(1," Password Required. "),d.qZA())}function vG(n,e){1&n&&(d.TgZ(0,"p",8),d._uU(1," The password requires more than 8 characters. "),d.qZA())}function bG(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,yG,2,0,"p",7),d.YNc(2,vG,2,0,"p",7),d.qZA()),2&n){const t=d.oxw();d.xp6(1),d.Q6J("ngIf",null==t.Password?null:t.Password.hasError("required")),d.xp6(1),d.Q6J("ngIf",null==t.Password||null==t.Password.errors?null:t.Password.errors.minlength)}}let wG=(()=>{class n{constructor(t,r,i){this.formBuilder=t,this.authservice=r,this.router=i,this.submitted=!1,this.form=this.formBuilder.group({password:["",[jb.required,jb.minLength(8)]],email:["",[jb.required,jb.email]]})}onSend(t){this.form.valid&&alert("todo pillo")}get Password(){return this.form.get("password")}get Mail(){return this.form.get("email")}get PasswordValid(){var t,r;return(null===(t=this.Password)||void 0===t?void 0:t.touched)&&!(null===(r=this.Password)||void 0===r?void 0:r.valid)}get MailValid(){return!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(w$),d.Y36(ZN),d.Y36(Ki))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login-window"]],decls:27,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","placeholder","Email","type","email","name","email","formControlName","email","required",""],[4,"ngIf"],["matInput","","placeholder","Password","type","password","formControlName","password","required",""],["routerLink","/Home"],["type","submit",1,"login-button"],["routerLink","/Home",1,"login-button"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,r){1&t&&(d.TgZ(0,"div"),d.TgZ(1,"mat-card"),d.TgZ(2,"mat-card-header"),d.TgZ(3,"mat-card-title"),d._uU(4," Iniciar Sesion "),d.qZA(),d.qZA(),d.TgZ(5,"mat-card-content"),d.TgZ(6,"form",0),d.NdJ("ngSubmit",function(a){return r.onSend(a)}),d.TgZ(7,"div"),d.TgZ(8,"mat-form-field"),d._UZ(9,"input",1),d.qZA(),d.YNc(10,_G,3,2,"div",2),d.qZA(),d.TgZ(11,"div"),d.TgZ(12,"mat-form-field"),d._UZ(13,"input",3),d.qZA(),d.YNc(14,bG,3,2,"div",2),d.qZA(),d._UZ(15,"br"),d.TgZ(16,"div"),d.TgZ(17,"a",4),d._uU(18,"Forgot password?"),d.qZA(),d.TgZ(19,"a",4),d._uU(20,"Sign up"),d.qZA(),d.qZA(),d._UZ(21,"br"),d.TgZ(22,"div"),d.TgZ(23,"button",5),d._uU(24,"Confirm"),d.qZA(),d.TgZ(25,"button",6),d._uU(26,"Go Back"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.xp6(6),d.Q6J("formGroup",r.form),d.xp6(4),d.Q6J("ngIf",(null==r.Mail?null:r.Mail.errors)&&(null==r.Mail?null:r.Mail.touched)),d.xp6(4),d.Q6J("ngIf",(null==r.Password?null:r.Password.hasError)&&(null==r.Password?null:r.Password.touched)))},directives:[hG,fG,dG,cG,R1,E1,Zb,Q$,rG,LD,w1,Ex,ZD,Hr,ND,Bb],styles:["body[_ngcontent-%COMP%]{background-color:#7f79a5}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{padding:3px;color:inherit}.mat-card[_ngcontent-%COMP%]{color:#000;background-color:inherit;border:0;box-shadow:none}button[_ngcontent-%COMP%]{margin:5px}.error[_ngcontent-%COMP%]{color:red}.login-button[_ngcontent-%COMP%]{background-color:#fff;color:#000}.login-button[_ngcontent-%COMP%]:hover{border-style:solid;border-color:#000;background-color:#000;color:#fff}"]}),n})(),EG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-error-page"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"h1"),d._uU(1," Sorry, but this page was eaten by a gator"),d.qZA())},styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], *[_ngcontent-%COMP%]{margin:0}body[_ngcontent-%COMP%]{background-color:red}"]}),n})(),CG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-profile-edit"]],decls:2,vars:0,template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1,"profile-edit works!"),d.qZA())},styles:[""]}),n})(),DG=(()=>{class n{canActivate(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-home"]],decls:33,vars:0,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],["charset","utf-8"],["id","acerca_de"],["id","experiencia"],["id","educacion"],["id","hard_soft_skills"],["id","proyectos"],["href","https://sectusius.github.io/Home","target","_blank"]],template:function(t,r){1&t&&(d._UZ(0,"link",0),d.TgZ(1,"title"),d._uU(2," Portfolio - Petraccaro Cantero Ian\n"),d.qZA(),d.TgZ(3,"head"),d._UZ(4,"meta",1),d.qZA(),d._UZ(5,"app-header"),d.TgZ(6,"body"),d._UZ(7,"app-scroll-to-top"),d._UZ(8,"app-profile"),d._UZ(9,"app-navigation-header"),d.TgZ(10,"h2",2),d._uU(11,"Acerca de"),d.qZA(),d.TgZ(12,"p"),d._uU(13," Soy Ian petraccaro Cantero, nac\xed el 22 de mayo de 2002. Actualmente estoy estudiando la carrera de Licenciatura Inform\xe1tica en Universidad Nacional de La Plata. "),d.qZA(),d.TgZ(14,"p"),d._uU(15," Resido en Argentina, en la ciudad de La Plata. "),d.qZA(),d.TgZ(16,"h2",3),d._uU(17,"Experiencia"),d.qZA(),d.TgZ(18,"p"),d._uU(19," Mi unica experiencia es este proyecto junto a uno que estoy actualmente desarrollando para una materia de mi facultad. "),d.qZA(),d.TgZ(20,"h2",4),d._uU(21,"Educaci\xf3n"),d.qZA(),d.TgZ(22,"p"),d._uU(23," Termine mi educaci\xf3n secundaria en el colegio Marianista San Agust\xedn de Nueve de Julio. Actualmente estoy cursando la carrera de Licenciatura Inform\xe1tica y Analista en Programador Universitario en la facultad de informatica de la Universidad Nacional de La Plata. "),d.qZA(),d.TgZ(24,"h2",5),d._uU(25,"Hard & Soft skills"),d.qZA(),d._UZ(26,"p"),d.TgZ(27,"h2",6),d._uU(28,"Proyectos"),d.qZA(),d.TgZ(29,"p"),d._uU(30," Portfolio Online solo frontend actualmente:"),d.TgZ(31,"a",7),d._uU(32,"https://sectusius.github.io/Home "),d.qZA(),d.qZA(),d.qZA())},styles:["main[_ngcontent-%COMP%]{font:bold}","main[_ngcontent-%COMP%]{font:bold}"]}),n})();const IG=[{path:"Home",component:sF},{path:"Login",component:wG},{path:"",redirectTo:"/Home",pathMatch:"full"},{path:"profile",component:CG,canActivate:[DG]},{path:"**",component:EG}];let TG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[RN.forRoot(IG)],RN]}),n})();const SG=function(n){return{"show-scrollTop":n}};let AG=(()=>{class n{constructor(t){this.document=t,this.windowScrolled=!1}onWindowScroll(){window.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop>100?this.windowScrolled=!0:(this.windowScrolled&&window.pageYOffset||this.document.documentElement.scrollTop||this.document.body.scrollTop<10)&&(this.windowScrolled=!1)}scrollToTop(){!function t(){var r=document.documentElement.scrollTop||document.body.scrollTop;r>0&&(window.requestAnimationFrame(t),window.scrollTo(0,r-r/8))}()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(se))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-scroll-to-top"]],hostBindings:function(t,r){1&t&&d.NdJ("scroll",function(){return r.onWindowScroll()},!1,d.Jf7)},decls:3,vars:3,consts:[[1,"back_to_top",3,"ngClass"],["type","button","data-toggle","button","aria-pressed","true",1,"btn","active",3,"click"],[1,"fas","fa-chevron-up"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return r.scrollToTop()}),d._UZ(2,"i",2),d.qZA(),d.qZA()),2&t&&d.Q6J("ngClass",d.VKq(1,SG,r.windowScrolled))},directives:[Ys],styles:[".back_to_top[_ngcontent-%COMP%]{position:fixed;right:5px;bottom:5px;transition:all .2s ease-in-out;background-color:transparent}.show-scrollTop[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}"]}),n})();const oF_firebaseConfig={apiKey:"your-api-key",authDomain:"your-auth-domain",projectId:"your-project-id",storageBucket:"your-storage-buckey",messagingSenderId:"your-messaging-sender-id",appId:"your-api-id",measurementId:"your-measurement-id"};let MG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[uH]}),n.\u0275inj=d.cJS({providers:[],imports:[[v$,Q1,Bo,Gw,iG,pG,sG,Tx,Yw,TG,CH,fs.hO.initializeApp(oF_firebaseConfig),qU]]}),n})();d.B6R(sF,[TH,AG,SH,AH],[]),(0,d.G48)(),Vo().bootstrapModule(MG).catch(n=>console.error(n))},5867:(et,be,P)=>{P.d(be,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=P(9681);(0,d.registerVersion)("firebase","9.9.0","app")},127:(et,be,P)=>{P.d(be,{Z:()=>d.Z});var d=P(3942);d.Z.registerVersion("firebase","9.9.0","app-compat")},1451:(et,be,P)=>{P.r(be);var d=P(5861),ne=P(3942),N=P(2090),de=P(9681),he=P(655),ve=P(1877),se=P(4859);const He=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$e=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new ve.Yd("@firebase/auth");function Le(y,...p){Ce.logLevel<=ve.in.ERROR&&Ce.error(`Auth (${de.SDK_VERSION}): ${y}`,...p)}function Me(y,...p){throw Ye(y,...p)}function je(y,...p){return Ye(y,...p)}function Re(y,p,m){const b=Object.assign(Object.assign({},$e()),{[p]:m});return new N.LL("auth","Firebase",b).create(p,{appName:y.name})}function Be(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(y,"argument-error"),Re(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...p){if("string"!=typeof y){const m=p[0],b=[...p.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(m,...b)}return Ne.create(y,...p)}function K(y,p,...m){if(!y)throw Ye(p,...m)}function H(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Le(p),new Error(p)}function X(y,p){y||H(p)}const fe=new Map;function oe(y){X(y instanceof Function,"Expected a class definition");let p=fe.get(y);return p?(X(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,fe.set(y,p),p)}function ft(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function kt(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Et{constructor(p,m){this.shortDelay=p,this.longDelay=m,X(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,N.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Yt(y,p){X(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class er{static initialize(p,m,b){this.fetchImpl=p,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void H("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void H("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void H("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new Et(3e4,6e4);function fn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Nt(y,p,m,b){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(y,p,m,b,S={}){return Vr(y,S,(0,d.Z)(function*(){let k={},J={};b&&("GET"===p?J=b:k={body:JSON.stringify(b)});const ge=(0,N.xO)(Object.assign({key:y.config.apiKey},J)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),er.fetch()(Qi(y,y.config.apiHost,m,ge),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Vr(y,p,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(y,p,m){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},pi),p);try{const S=new Dr(y),k=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const J=yield k.json();if("needConfirmation"in J)throw gi(y,"account-exists-with-different-credential",J);if(k.ok&&!("errorMessage"in J))return J;{const ge=k.ok?J.errorMessage:J.error.message,[Ve,Xe]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw gi(y,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ve)throw gi(y,"email-already-in-use",J);if("USER_DISABLED"===Ve)throw gi(y,"user-disabled",J);const _t=b[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Re(y,_t,Xe);Me(y,_t)}}catch(S){if(S instanceof N.ZR)throw S;Me(y,"network-request-failed")}})).apply(this,arguments)}function Xr(y,p,m,b){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(y,p,m,b,S={}){const k=yield Nt(y,p,m,b,S);return"mfaPendingCredential"in k&&Me(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function Qi(y,p,m,b){const S=`${p}${m}?${b}`;return y.config.emulator?Yt(y.config,S):`${y.config.apiScheme}://${S}`}class Dr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(je(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(y,p,m){const b={appName:y.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const S=je(y,p,b);return S.customData._tokenResponse=m,S}function pt(){return(pt=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Cn(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tr(y,p){return _i.apply(this,arguments)}function _i(){return(_i=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ei(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Io(){return(Io=(0,d.Z)(function*(y,p=!1){const m=(0,N.m9)(y),b=yield m.getIdToken(p),S=tt(b);K(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,J=null==k?void 0:k.sign_in_provider;return{claims:S,token:b,authTime:ei(_n(S.auth_time)),issuedAtTime:ei(_n(S.iat)),expirationTime:ei(_n(S.exp)),signInProvider:J||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function _n(y){return 1e3*Number(y)}function tt(y){var p;const[m,b,S]=y.split(".");if(void 0===m||void 0===b||void 0===S)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,N.tV)(b);return k?JSON.parse(k):(Le("Failed to decode base64 JWT payload"),null)}catch(k){return Le("Caught error parsing JWT payload as JSON",null===(p=k)||void 0===p?void 0:p.toString()),null}}function hr(y,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(b){throw b instanceof N.ZR&&Ur(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}function Ur({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Qt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(p);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var p=this;return(0,d.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===(null===(m=b)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class fr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ei(this.lastLoginAt),this.creationTime=ei(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Is(y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(y){var p;const m=y.auth,b=yield y.getIdToken(),S=yield hr(y,tr(m,{idToken:b}));K(null==S?void 0:S.users.length,m,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const J=(null===(p=k.providerUserInfo)||void 0===p?void 0:p.length)?U(k.providerUserInfo):[],ge=W(y.providerData,J),_t=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==ge?void 0:ge.length)),ht={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:ge,metadata:new fr(k.createdAt,k.lastLoginAt),isAnonymous:_t};Object.assign(y,ht)})).apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(y){const p=(0,N.m9)(y);yield Is(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function W(y,p){return[...y.filter(b=>!p.some(S=>S.providerId===b.providerId)),...p]}function U(y){return y.map(p=>{var{providerId:m}=p,b=(0,he._T)(p,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function $(){return($=(0,d.Z)(function*(y,p){const m=yield Vr(y,{},(0,d.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,J=Qi(y,S,"/v1/token",`key=${k}`),ge=yield y._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",er.fetch()(J,{method:"POST",headers:ge,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ie{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){K(p.idToken,"internal-error"),K(void 0!==p.idToken,"internal-error"),K(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(y){const p=tt(y);return K(p,"internal-error"),K(void 0!==p.exp,"internal-error"),K(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var b=this;return(0,d.Z)(function*(){return K(!b.accessToken||b.refreshToken,p,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(p,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var b=this;return(0,d.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:J}=yield function(y,p){return $.apply(this,arguments)}(p,m);b.updateTokensAndExpiration(S,k,Number(J))})()}updateTokensAndExpiration(p,m,b){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(p,m){const{refreshToken:b,accessToken:S,expirationTime:k}=m,J=new Ie;return b&&(K("string"==typeof b,"internal-error",{appName:p}),J.refreshToken=b),S&&(K("string"==typeof S,"internal-error",{appName:p}),J.accessToken=S),k&&(K("number"==typeof k,"internal-error",{appName:p}),J.expirationTime=k),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ie,this.toJSON())}_performRefresh(){return H("not implemented")}}function Ge(y,p){K("string"==typeof y||void 0===y,"internal-error",{appName:p})}class at{constructor(p){var{uid:m,auth:b,stsTokenManager:S}=p,k=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new fr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,d.Z)(function*(){const b=yield hr(m,m.stsTokenManager.getToken(m.auth,p));return K(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(p){return function(y){return Io.apply(this,arguments)}(this,p)}reload(){return function(y){return j.apply(this,arguments)}(this)}_assign(p){this!==p&&(K(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new at(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var b=this;return(0,d.Z)(function*(){let S=!1;p.idToken&&p.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Is(b)),yield b.auth._persistUserIfCurrent(b),S&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var p=this;return(0,d.Z)(function*(){const m=yield p.getIdToken();return yield hr(p,function(y,p){return pt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var b,S,k,J,ge,Ve,Xe,_t;const ht=null!==(b=m.displayName)&&void 0!==b?b:void 0,Gn=null!==(S=m.email)&&void 0!==S?S:void 0,$i=null!==(k=m.phoneNumber)&&void 0!==k?k:void 0,ud=null!==(J=m.photoURL)&&void 0!==J?J:void 0,_0=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,Va=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Mh=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,Wp=null!==(_t=m.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:Zp,emailVerified:xh,isAnonymous:q_,providerData:Kp,stsTokenManager:W_}=m;K(Zp&&W_,p,"internal-error");const y0=Ie.fromJSON(this.name,W_);K("string"==typeof Zp,p,"internal-error"),Ge(ht,p.name),Ge(Gn,p.name),K("boolean"==typeof xh,p,"internal-error"),K("boolean"==typeof q_,p,"internal-error"),Ge($i,p.name),Ge(ud,p.name),Ge(_0,p.name),Ge(Va,p.name),Ge(Mh,p.name),Ge(Wp,p.name);const Yp=new at({uid:Zp,auth:p,email:Gn,emailVerified:xh,displayName:ht,isAnonymous:q_,photoURL:ud,phoneNumber:$i,tenantId:_0,stsTokenManager:y0,createdAt:Mh,lastLoginAt:Wp});return Kp&&Array.isArray(Kp)&&(Yp.providerData=Kp.map(v0=>Object.assign({},v0))),Va&&(Yp._redirectEventId=Va),Yp}static _fromIdTokenResponse(p,m,b=!1){return(0,d.Z)(function*(){const S=new Ie;S.updateFromServerResponse(m);const k=new at({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:b});return yield Is(k),k})()}}const zt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var S=this;return(0,d.Z)(function*(){S.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=b.storage[m];return void 0===S?null:S})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return y.type="NONE",y})();function Wn(y,p,m){return`firebase:${y}:${p}:${m}`}class Ft{constructor(p,m,b){this.persistence=p,this.auth=m,this.userKey=b;const{config:S,name:k}=this.auth;this.fullUserKey=Wn(this.userKey,S.apiKey,k),this.fullPersistenceKey=Wn("persistence",S.apiKey,k),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,d.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?at._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,d.Z)(function*(){if(m.persistence===p)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new Ft(oe(zt),p,b);const S=(yield Promise.all(m.map(function(){var Xe=(0,d.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let k=S[0]||oe(zt);const J=Wn(b,p.config.apiKey,p.name);let ge=null;for(const Xe of m)try{const _t=yield Xe._get(J);if(_t){const ht=at._fromJSON(p,_t);Xe!==k&&(ge=ht),k=Xe;break}}catch(_t){}const Ve=S.filter(Xe=>Xe._shouldAllowMigration);return k._shouldAllowMigration&&Ve.length?(k=Ve[0],ge&&(yield k._set(J,ge.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,d.Z)(function*(_t){if(_t!==k)try{yield _t._remove(J)}catch(ht){}});return function(_t){return Xe.apply(this,arguments)}}())),new Ft(k,p,b)):new Ft(k,p,b)})()}}function Ir(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ul(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ji(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pi(p))return"Blackberry";if(jr(p))return"Webos";if(To(p))return"Safari";if((p.includes("chrome/")||ga(p))&&!p.includes("edge/"))return"Chrome";if(In(p))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function Ji(y=(0,N.z$)()){return/firefox\//i.test(y)}function To(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ga(y=(0,N.z$)()){return/crios\//i.test(y)}function ul(y=(0,N.z$)()){return/iemobile/i.test(y)}function In(y=(0,N.z$)()){return/android/i.test(y)}function Pi(y=(0,N.z$)()){return/blackberry/i.test(y)}function jr(y=(0,N.z$)()){return/webos/i.test(y)}function An(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function _a(y=(0,N.z$)()){return An(y)||In(y)||jr(y)||Pi(y)||/windows phone/i.test(y)||ul(y)}function Mn(y,p=[]){let m;switch(y){case"Browser":m=Ir((0,N.z$)());break;case"Worker":m=`${Ir((0,N.z$)())}-${y}`;break;default:m=y}const b=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${de.SDK_VERSION}/${b}`}class Tc{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const b=k=>new Promise((J,ge)=>{try{J(p(k))}catch(Ve){ge(Ve)}});b.onAbort=m,this.queue.push(b);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,d.Z)(function*(){var b;if(m.auth.currentUser===p)return;const S=[];try{for(const k of m.queue)yield k(p),k.onAbort&&S.push(k.onAbort)}catch(k){S.reverse();for(const J of S)try{J()}catch(ge){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(b=k)||void 0===b?void 0:b.message})}})()}}class ti{constructor(p,m,b){this.app=p,this.heartbeatServiceProvider=m,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mt(this),this.idTokenSubscription=new Mt(this),this.beforeStateQueue=new Tc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(p,m){var b=this;return m&&(this._popupRedirectResolver=oe(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var S,k;if(!b._deleted&&(b.persistenceManager=yield Ft.create(b,p),!b._deleted)){if(null===(S=b._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(J){}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(k=b.currentUser)||void 0===k?void 0:k.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,d.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,d.Z)(function*(){var b;const S=yield m.assertedPersistence.getCurrentUser();let k=S,J=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ge=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,Ve=null==k?void 0:k._redirectEventId,Xe=yield m.tryRedirectSignIn(p);(!ge||ge===Ve)&&(null==Xe?void 0:Xe.user)&&(k=Xe.user,J=!0)}if(!k)return m.directlySetCurrentUser(null);if(!k._redirectEventId){if(J)try{yield m.beforeStateQueue.runMiddleware(k)}catch(ge){k=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ge))}return k?m.reloadAndSetCurrentUserOrClear(k):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===k._redirectEventId?m.directlySetCurrentUser(k):m.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(p){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,d.Z)(function*(){var b;try{yield Is(p)}catch(S){if("auth/network-request-failed"!==(null===(b=S)||void 0===b?void 0:b.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,d.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,d.Z)(function*(){const b=p?(0,N.m9)(p):null;return b&&K(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(p,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return p&&K(b.tenantId===p.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(p)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(p),b.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,d.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(oe(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,b){return this.registerStateListener(this.authStateSubscription,p,m,b)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,b){return this.registerStateListener(this.idTokenSubscription,p,m,b)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var b=this;return(0,d.Z)(function*(){const S=yield b.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=p&&oe(p)||m._popupRedirectResolver;K(b,m,"argument-error"),m.redirectPersistenceManager=yield Ft.create(m,[oe(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,d.Z)(function*(){var b,S;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,d.Z)(function*(){if(p===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,b,S){if(this._deleted)return()=>{};const k="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return K(J,this,"internal-error"),J.then(()=>k(this.currentUser)),"function"==typeof m?p.addObserver(m,b,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Mn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":p.clientVersion};p.app.options.appId&&(b["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(b["X-Firebase-Client"]=S),b})()}}function Pe(y){return(0,N.m9)(y)}class Mt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function xn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class ln{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return H("not implemented")}_getIdTokenResponse(p){return H("not implemented")}_linkToIdToken(p,m){return H("not implemented")}_getReauthenticationResolver(p){return H("not implemented")}}function Bn(y,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:resetPassword",fn(y,p))})).apply(this,arguments)}function St(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Qs(y,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",fn(y,p))})).apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPassword",fn(y,p))})).apply(this,arguments)}function Js(y,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendOobCode",fn(y,p))})).apply(this,arguments)}function vi(y,p){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(y,p){return Js(y,p)})).apply(this,arguments)}function va(y,p){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(y,p){return Js(y,p)})).apply(this,arguments)}function Ni(y,p){return ni.apply(this,arguments)}function ni(){return(ni=(0,d.Z)(function*(y,p){return Js(y,p)})).apply(this,arguments)}function lh(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(y,p){return Js(y,p)})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",fn(y,p))})).apply(this,arguments)}function ch(){return(ch=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithEmailLink",fn(y,p))})).apply(this,arguments)}class pr extends ln{constructor(p,m,b,S=null){super("password",b),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new pr(p,m,"password")}static _fromEmailAndCode(p,m,b=null){return new pr(p,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,d.Z)(function*(){switch(m.signInMethod){case"password":return function(y,p){return ir.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(y,p){return $r.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return St(p,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(y,p){return ch.apply(this,arguments)}(p,{idToken:m,email:b._email,oobCode:b._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xi(y,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithIdp",fn(y,p))})).apply(this,arguments)}class es extends ln{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S}=m,k=(0,he._T)(m,["providerId","signInMethod"]);if(!b||!S)return null;const J=new es(b,S);return J.idToken=k.idToken||void 0,J.accessToken=k.accessToken||void 0,J.secret=k.secret,J.nonce=k.nonce,J.pendingToken=k.pendingToken||null,J}_getIdTokenResponse(p){return Xi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Xi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function _p(y,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:sendVerificationCode",fn(y,p))})).apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",fn(y,p))})).apply(this,arguments)}function Mc(){return(Mc=(0,d.Z)(function*(y,p){const m=yield Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",fn(y,p));if(m.temporaryProof)throw gi(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const vp={USER_NOT_FOUND:"user-not-found"};function xc(){return(xc=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithPhoneNumber",fn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),vp)})).apply(this,arguments)}class Ao extends ln{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Ao({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Ao({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function(y,p){return As.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function(y,p){return Mc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(y,p){return xc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:b,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:b,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:k}=p;return b||m||S||k?new Ao({verificationId:m,verificationCode:b,phoneNumber:S,temporaryProof:k}):null}}class Xs{constructor(p){var m,b,S,k,J,ge;const Ve=(0,N.zd)((0,N.pd)(p)),Xe=null!==(m=Ve.apiKey)&&void 0!==m?m:null,_t=null!==(b=Ve.oobCode)&&void 0!==b?b:null,ht=function(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);K(Xe&&_t&&ht,"argument-error"),this.apiKey=Xe,this.operation=ht,this.code=_t,this.continueUrl=null!==(k=Ve.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(J=Ve.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ge=Ve.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const m=function(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||p||y}(p);try{return new Xs(m)}catch(b){return null}}}let Rc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,b){return pr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const S=Xs.parseLink(b);return K(S,"argument-error"),pr._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ms{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Gr extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class xs extends Gr{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return K("providerId"in m&&"signInMethod"in m,"argument-error"),es._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return K(p.idToken||p.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return xs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return xs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:S,pendingToken:k,nonce:J,providerId:ge}=p;if(!b&&!S&&!m&&!k||!ge)return null;try{return new xs(ge)._credential({idToken:m,accessToken:b,nonce:J,pendingToken:k})}catch(Ve){return null}}}let eo=(()=>{class y extends Gr{constructor(){super("facebook.com")}static credential(m){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),hu=(()=>{class y extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:S}=m;if(!b&&!S)return null;try{return y.credential(b,S)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),dh=(()=>{class y extends Gr{constructor(){super("github.com")}static credential(m){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(b){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class to extends ln{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Xi(p,this.buildRequest())}_linkToIdToken(p,m){const b=this.buildRequest();return b.idToken=m,Xi(p,b)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Xi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:b,signInMethod:S,pendingToken:k}=m;return b&&S&&k&&b===S?new to(b,k):null}static _create(p,m){return new to(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ri extends Ms{constructor(p){K(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ri.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ri.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=to.fromJSON(p);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:b}=p;if(!m||!b)return null;try{return to._create(b,m)}catch(S){return null}}}let dl=(()=>{class y extends Gr{constructor(){super("twitter.com")}static credential(m,b){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:S}=m;if(!b||!S)return null;try{return y.credential(b,S)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function hl(y,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signUp",fn(y,p))})).apply(this,arguments)}class zr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,b,S=!1){return(0,d.Z)(function*(){const k=yield at._fromIdTokenResponse(p,b,S),J=Pc(b);return new zr({user:k,providerId:J,_tokenResponse:b,operationType:m})})()}static _forOperation(p,m,b){return(0,d.Z)(function*(){yield p._updateTokensIfNecessary(b,!0);const S=Pc(b);return new zr({user:p,providerId:S,_tokenResponse:b,operationType:m})})()}}function Pc(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function fu(){return(fu=(0,d.Z)(function*(y){var p;const m=Pe(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new zr({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield hl(m,{returnSecureToken:!0}),S=yield zr._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Mo extends N.ZR{constructor(p,m,b,S){var k;super(m.code,m.message),this.operationType=b,this.user=S,Object.setPrototypeOf(this,Mo.prototype),this.customData={appName:p.name,tenantId:null!==(k=p.tenantId)&&void 0!==k?k:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(p,m,b,S){return new Mo(p,m,b,S)}}function Nc(y,p,m,b){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Mo._fromErrorAndOperation(y,k,p,b):k})}function tn(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function xo(){return(xo=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);yield ts(!0,m,p);const{providerUserInfo:b}=yield Cn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=tn(b||[]);return m.providerData=m.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function yn(y,p){return ro.apply(this,arguments)}function ro(){return(ro=(0,d.Z)(function*(y,p,m=!1){const b=yield hr(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return zr._forOperation(y,"link",b)})).apply(this,arguments)}function ts(y,p,m){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(y,p,m){yield Is(p);const S=!1===y?"provider-already-linked":"no-such-provider";K(tn(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function sr(y,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(y,p,m=!1){var b;const{auth:S}=y,k="reauthenticate";try{const J=yield hr(y,Nc(S,k,p,y),m);K(J.idToken,S,"internal-error");const ge=tt(J.idToken);K(ge,S,"internal-error");const{sub:Ve}=ge;return K(y.uid===Ve,S,"user-mismatch"),zr._forOperation(y,k,J)}catch(J){throw"auth/user-not-found"===(null===(b=J)||void 0===b?void 0:b.code)&&Me(S,"user-mismatch"),J}})).apply(this,arguments)}function io(y,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,p,m=!1){const b="signIn",S=yield Nc(y,b,p),k=yield zr._fromIdTokenResponse(y,b,S);return m||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function qt(y,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(y,p){return io(Pe(y),p)})).apply(this,arguments)}function Ro(y,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y);return yield ts(!1,m,p.providerId),yn(m,p)})).apply(this,arguments)}function Tr(y,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.Z)(function*(y,p){return sr((0,N.m9)(y),p)})).apply(this,arguments)}function No(y,p){return ct.apply(this,arguments)}function ct(){return(ct=(0,d.Z)(function*(y,p){return Xr(y,"POST","/v1/accounts:signInWithCustomToken",fn(y,p))})).apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(y,p){const m=Pe(y),b=yield No(m,{token:p,returnSecureToken:!0}),S=yield zr._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class oo{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?pl._fromServerResponse(p,m):Me(p,"internal-error")}}class pl extends oo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new pl(m)}}function Fo(y,p,m){var b;K((null===(b=m.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),K(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function gl(){return(gl=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:p};m&&Fo(b,S,m),yield va(b,S)})).apply(this,arguments)}function Bt(){return(Bt=(0,d.Z)(function*(y,p,m){yield Bn((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(y,p){yield Qs((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function ml(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),b=yield Bn(m,{oobCode:p}),S=b.requestType;switch(K(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(b.mfaInfo,m,"internal-error");default:K(b.email,m,"internal-error")}let k=null;return b.mfaInfo&&(k=oo._fromServerResponse(Pe(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(y,p){const{data:m}=yield ml((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Fc(){return(Fc=(0,d.Z)(function*(y,p,m){const b=Pe(y),S=yield hl(b,{returnSecureToken:!0,email:p,password:m}),k=yield zr._fromIdTokenResponse(b,"signIn",S);return yield b._updateCurrentUser(k.user),k})).apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};K(m.handleCodeInApp,b,"argument-error"),m&&Fo(b,S,m),yield Ni(b,S)})).apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y),S=Rc.credentialWithLink(p,m||ft());return K(S._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),qt(b,S)})).apply(this,arguments)}function Lo(y,p){return ii.apply(this,arguments)}function ii(){return(ii=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:createAuthUri",fn(y,p))})).apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(y,p){const b={identifier:p,continueUri:kt()?ft():"http://localhost"},{signinMethods:S}=yield Lo((0,N.m9)(y),b);return S||[]})).apply(this,arguments)}function vu(){return(vu=(0,d.Z)(function*(y,p){const m=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Fo(m.auth,S,p);const{email:k}=yield vi(m.auth,S);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function Vo(){return(Vo=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&Fo(b.auth,k,m);const{email:J}=yield lh(b.auth,k);J!==y.email&&(yield y.reload())})).apply(this,arguments)}function vl(y,p){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(y,p){return Nt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bl(){return(bl=(0,d.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const b=(0,N.m9)(y),k={idToken:yield b.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},J=yield hr(b,vl(b.auth,k));b.displayName=J.displayName||null,b.photoURL=J.photoUrl||null;const ge=b.providerData.find(({providerId:Ve})=>"password"===Ve);ge&&(ge.displayName=b.displayName,ge.photoURL=b.photoURL),yield b._updateTokensIfNecessary(J)})).apply(this,arguments)}function wl(y,p,m){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,d.Z)(function*(y,p,m){const{auth:b}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(k.email=p),m&&(k.password=m);const J=yield hr(y,St(b,k));yield y._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class ks{constructor(p,m,b={}){this.isNewUser=p,this.providerId=m,this.profile=b}}class fh extends ks{constructor(p,m,b,S){super(p,m,b),this.username=S}}class Eu extends ks{constructor(p,m){super(p,"facebook.com",m)}}class gn extends fh{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ps extends ks{constructor(p,m){super(p,"google.com",m)}}class mn extends fh{constructor(p,m,b){super(p,"twitter.com",m,b)}}function Cu(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(y){var p,m;if(!y)return null;const{providerId:b}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&(null==y?void 0:y.idToken)){const J=null===(m=null===(p=tt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new ks(k,"anonymous"!==J&&"custom"!==J?J:null)}if(!b)return null;switch(b){case"facebook.com":return new Eu(k,S);case"github.com":return new gn(k,S);case"google.com":return new Ps(k,S);case"twitter.com":return new mn(k,S,y.screenName||null);case"custom":case"anonymous":return new ks(k,null);default:return new ks(k,b,S)}}(m)}class co{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new co("enroll",p)}static _fromMfaPendingCredential(p){return new co("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,b;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return co._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(b=p.multiFactorSession)||void 0===b?void 0:b.idToken)return co._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Cl{constructor(p,m,b){this.session=p,this.hints=m,this.signInResolver=b}static _fromError(p,m){const b=Pe(p),S=m.customData._serverResponse,k=(S.mfaInfo||[]).map(ge=>oo._fromServerResponse(b,ge));K(S.mfaPendingCredential,b,"internal-error");const J=co._fromMfaPendingCredential(S.mfaPendingCredential);return new Cl(J,k,function(){var ge=(0,d.Z)(function*(Ve){const Xe=yield Ve._process(b,J);delete S.mfaInfo,delete S.mfaPendingCredential;const _t=Object.assign(Object.assign({},S),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const ht=yield zr._fromIdTokenResponse(b,m.operationType,_t);return yield b._updateCurrentUser(ht.user),ht;case"reauthenticate":return K(m.user,b,"internal-error"),zr._forOperation(m.user,m.operationType,_t);default:Me(b,"internal-error")}});return function(Ve){return ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,d.Z)(function*(){return m.signInResolver(p)})()}}function Sa(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:start",fn(y,p))}class Uo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>oo._fromServerResponse(p.auth,b)))})}static _fromUser(p){return new Uo(p)}getSession(){var p=this;return(0,d.Z)(function*(){return co._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var b=this;return(0,d.Z)(function*(){const S=p,k=yield b.getSession(),J=yield hr(b.user,S._process(b.user.auth,k,m));return yield b.user._updateTokensIfNecessary(J),b.user.reload()})()}unenroll(p){var m=this;return(0,d.Z)(function*(){var b;const S="string"==typeof p?p:p.uid,k=yield m.user.getIdToken(),J=yield hr(m.user,function(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",fn(y,p))}(m.user.auth,{idToken:k,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ge})=>ge!==S),yield m.user._updateTokensIfNecessary(J);try{yield m.user.reload()}catch(ge){if("auth/user-token-expired"!==(null===(b=ge)||void 0===b?void 0:b.code))throw ge}})()}}const jo=new WeakMap,Aa="__sak";class gh{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Aa,"1"),this.storage.removeItem(Aa),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fs=(()=>{class y extends gh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const y=(0,N.z$)();return To(y)||An(y)}()&&function(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=_a(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const S=this.storage.getItem(b),k=this.localCache[b];S!==k&&m(b,k,S)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((ge,Ve,Xe)=>{this.notifyListeners(ge,Xe)});const S=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(S);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!b)return}const k=()=>{const ge=this.storage.getItem(S);!b&&this.localCache[S]===ge||this.notifyListeners(S,ge)},J=this.storage.getItem(S);(0,N.w1)()&&10===document.documentMode&&J!==m.newValue&&m.newValue!==m.oldValue?setTimeout(k,10):k()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var S=()=>super._set,k=this;return(0,d.Z)(function*(){yield S().call(k,m,b),k.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,S=this;return(0,d.Z)(function*(){const k=yield b().call(S,m);return S.localCache[m]=JSON.stringify(k),k})()}_remove(m){var b=()=>super._remove,S=this;return(0,d.Z)(function*(){yield b().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),mr=(()=>{class y extends gh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return y.type="SESSION",y})();let rn=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(k=>k.isListeningto(m));if(b)return b;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const S=m,{eventId:k,eventType:J,data:ge}=S.data,Ve=b.handlersMap[J];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:J});const Xe=Array.from(Ve).map(function(){var ht=(0,d.Z)(function*(Gn){return Gn(S.origin,ge)});return function(Gn){return ht.apply(this,arguments)}}()),_t=yield function(y){return Promise.all(y.map(function(){var p=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return p.apply(this,arguments)}}()))}(Xe);S.ports[0].postMessage({status:"done",eventId:k,eventType:J,response:_t})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function _r(y="",p=10){let m="";for(let b=0;b<p;b++)m+=Math.floor(10*Math.random());return y+m}class dn{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,b=50){var S=this;return(0,d.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let J,ge;return new Promise((Ve,Xe)=>{const _t=_r("",20);k.port1.start();const ht=setTimeout(()=>{Xe(new Error("unsupported_event"))},b);ge={messageChannel:k,onMessage(Gn){const $i=Gn;if($i.data.eventId===_t)switch($i.data.status){case"ack":clearTimeout(ht),J=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ve($i.data.response);break;default:clearTimeout(ht),clearTimeout(J),Xe(new Error("invalid_response"))}}},S.handlers.add(ge),k.port1.addEventListener("message",ge.onMessage),S.target.postMessage({eventType:p,eventId:_t,data:m},[k.port2])}).finally(()=>{ge&&S.removeMessageHandler(ge)})})()}}function Qe(){return window}function bi(){return void 0!==Qe().WorkerGlobalScope&&"function"==typeof Qe().importScripts}function Iu(){return(Iu=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const $o="firebaseLocalStorageDb",wi="firebaseLocalStorage",Ma="fbase_key";class ho{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function xa(y,p){return y.transaction([wi],p?"readwrite":"readonly").objectStore(wi)}function Oa(){const y=indexedDB.open($o,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(wi,{keyPath:Ma})}catch(S){m(S)}}),y.addEventListener("success",(0,d.Z)(function*(){const b=y.result;b.objectStoreNames.contains(wi)?p(b):(b.close(),yield function(){const y=indexedDB.deleteDatabase($o);return new ho(y).toPromise()}(),p(yield Oa()))}))})}function Ra(y,p,m){return Su.apply(this,arguments)}function Su(){return(Su=(0,d.Z)(function*(y,p,m){const b=xa(y,!0).put({[Ma]:p,value:m});return new ho(b).toPromise()})).apply(this,arguments)}function is(){return(is=(0,d.Z)(function*(y,p){const m=xa(y,!1).get(p),b=yield new ho(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function si(y,p){const m=xa(y,!0).delete(p);return new ho(m).toPromise()}const Ei=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Oa()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let S=0;for(;;)try{const k=yield b._openDb();return yield m(k)}catch(k){if(S++>3)throw k;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return bi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=rn._getInstance(bi()?self:null),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(S,k){return{keyProcessed:(yield m._poll()).includes(k.key)}});return function(S,k){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,S;if(m.activeServiceWorker=yield function(){return Iu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new dn(m.activeServiceWorker);const k=yield m.sender._send("ping",{},800);!k||(null===(b=k[0])||void 0===b?void 0:b.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Oa();return yield Ra(m,Aa,"1"),yield si(m,Aa),!0}catch(m){}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var S=this;return(0,d.Z)(function*(){return S._withPendingWrite((0,d.Z)(function*(){return yield S._withRetries(k=>Ra(k,m,b)),S.localCache[m]=b,S.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const S=yield b._withRetries(k=>function(y,p){return is.apply(this,arguments)}(k,m));return b.localCache[m]=S,S})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(S=>si(S,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(J=>{const ge=xa(J,!1).getAll();return new ho(ge).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:J,value:ge}of b)k.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(ge)&&(m.notifyListeners(J,ge),S.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!k.has(J)&&(m.notifyListeners(J,null),S.push(J));return S})()}notifyListeners(m,b){this.localCache[m]=b;const S=this.listeners[m];if(S)for(const k of Array.from(S))k(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Il(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:start",fn(y,p))}function Di(){return(Di=(0,d.Z)(function*(y){return(yield Nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ii(y){return new Promise((p,m)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=p,b.onerror=S=>{const k=je("internal-error");k.customData=S,m(k)},b.type="text/javascript",b.charset="UTF-8",function(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(b)})}function Tl(y){return`__${y}${Math.floor(1e6*Math.random())}`}const ka=1e12;class xu{constructor(p){this.auth=p,this.counter=ka,this._widgets=new Map}render(p,m){const b=this.counter;return this._widgets.set(b,new Tn(p,this.auth.name,m||{})),this.counter++,b}reset(p){var m;const b=p||ka;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ka))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(p||ka))||void 0===b||b.execute(),""})()}}class Tn{constructor(p,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;K(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}();const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _h=Tl("rcb"),h_=new Et(3e4,6e4);class Zn{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=Qe().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return K((y=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Qe().grecaptcha):new Promise((b,S)=>{const k=Qe().setTimeout(()=>{S(je(p,"network-request-failed"))},h_.get());Qe()[_h]=()=>{Qe().clearTimeout(k),delete Qe()[_h];const ge=Qe().grecaptcha;if(!ge)return void S(je(p,"internal-error"));const Ve=ge.render;ge.render=(Xe,_t)=>{const ht=Ve(Xe,_t);return this.counter++,ht},this.hostLanguage=m,b(ge)},Ii(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:_h,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(k),S(je(p,"internal-error"))})});var y}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=Qe().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class f_{load(p){return(0,d.Z)(function*(){return new xu(p)})()}clearedOneInstance(){}}const Pa="recaptcha",p_={theme:"light",type:"image"};class $n{constructor(p,m=Object.assign({},p_),b){this.parameters=m,this.type=Pa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(b),this.isInvisible="invisible"===this.parameters.size,K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;K(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new f_:new Zn,this.validateStartingState()}verify(){var p=this;return(0,d.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),b=p.getAssertedRecaptcha();return b.getResponse(m)||new Promise(k=>{const J=ge=>{!ge||(p.tokenChangeListeners.delete(J),k(ge))};p.tokenChangeListeners.add(J),p.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof p)p(m);else if("string"==typeof p){const b=Qe()[p];"function"==typeof b&&b(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,d.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,d.Z)(function*(){K(kt()&&!bi(),p.auth,"internal-error"),yield function(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function(y){return Di.apply(this,arguments)}(p.auth);K(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class On{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Ao._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function yr(){return(yr=(0,d.Z)(function*(y,p,m){const b=Pe(y),S=yield oi(b,p,(0,N.m9)(m));return new On(S,k=>qt(b,k))})).apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y);yield ts(!1,b,"phone");const S=yield oi(b.auth,p,(0,N.m9)(m));return new On(S,k=>Ro(b,k))})).apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y),S=yield oi(b.auth,p,(0,N.m9)(m));return new On(S,k=>Tr(b,k))})).apply(this,arguments)}function oi(y,p,m){return Al.apply(this,arguments)}function Al(){return(Al=(0,d.Z)(function*(y,p,m){var b;const S=yield m.verify();try{let k;if(K("string"==typeof S,y,"argument-error"),K(m.type===Pa,y,"argument-error"),k="string"==typeof p?{phoneNumber:p}:p,"session"in k){const J=k.session;if("phoneNumber"in k)return K("enroll"===J.type,y,"internal-error"),(yield Sa(y,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{K("signin"===J.type,y,"internal-error");const ge=(null===(b=k.multiFactorHint)||void 0===b?void 0:b.uid)||k.multiFactorUid;return K(ge,y,"missing-multi-factor-info"),(yield Il(y,{mfaPendingCredential:J.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield _p(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return J}}finally{m._reset()}})).apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(y,p){yield yn((0,N.m9)(y),p)})).apply(this,arguments)}let Bi=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Pe(m)}verifyPhoneNumber(m,b){return oi(this.auth,m,(0,N.m9)(b))}static credential(m,b){return Ao._fromVerification(m,b)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:S}=m;return b&&S?Ao._fromTokenResponse(b,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function qo(y,p){return p?oe(p):(K(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Nu extends ln{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Xi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Xi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function vr(y){return io(y.auth,new Nu(y),y.bypassAuthState)}function Na(y){const{auth:p,user:m}=y;return K(m,p,"internal-error"),sr(m,new Nu(y),y.bypassAuthState)}function Ls(y){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,d.Z)(function*(y){const{auth:p,user:m}=y;return K(m,p,"internal-error"),yn(m,new Nu(y),y.bypassAuthState)})).apply(this,arguments)}class Ti{constructor(p,m,b,S,k=!1){this.auth=p,this.resolver=b,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,d.Z)(function*(b,S){p.pendingPromise={resolve:b,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(k){p.reject(k)}});return function(b,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:S,postBody:k,tenantId:J,error:ge,type:Ve}=p;if(ge)return void m.reject(ge);const Xe={auth:m.auth,requestUri:b,sessionId:S,tenantId:J||void 0,postBody:k||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(Xe))}catch(_t){m.reject(_t)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return vr;case"linkViaPopup":case"linkViaRedirect":return Ls;case"reauthViaPopup":case"reauthViaRedirect":return Na;default:Me(this.auth,"internal-error")}}resolve(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){X(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fa=new Et(2e3,1e4);function La(){return(La=(0,d.Z)(function*(y,p,m){const b=Pe(y);Be(y,p,Ms);const S=qo(b,m);return new Ui(b,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y);Be(b.auth,p,Ms);const S=qo(b.auth,m);return new Ui(b.auth,"reauthViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}function xl(){return(xl=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y);Be(b.auth,p,Ms);const S=qo(b.auth,m);return new Ui(b.auth,"linkViaPopup",p,S,b).executeNotNull()})).apply(this,arguments)}let Ui=(()=>{class y extends Ti{constructor(m,b,S,k,J){super(m,b,k,J),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return K(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){X(1===m.filter.length,"Popup operations only handle one event");const b=_r();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(je(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,S;this.pollId=(null===(S=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Fa.get())};m()}}return y.currentPopupAction=null,y})();const ss=new Map;class Gc extends Ti{constructor(p,m,b=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=ss.get(m.auth._key());if(!b){try{const k=(yield function(y,p){return Vs.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;b=()=>Promise.resolve(k)}catch(S){b=()=>Promise.reject(S)}ss.set(m.auth._key(),b)}return m.bypassAuthState||ss.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(b,p);if("unknown"!==p.type){if(p.eventId){const S=yield b.auth._redirectUserForId(p.eventId);if(S)return b.user=S,m().call(b,p);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Vs(){return(Vs=(0,d.Z)(function*(y,p){const m=Rl(p),b=go(y);if(!(yield b._isAvailable()))return!1;const S="true"===(yield b._get(m));return yield b._remove(m),S})).apply(this,arguments)}function zc(y,p){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(y,p){return go(y)._set(Rl(p),"true")})).apply(this,arguments)}function vh(y,p){ss.set(y._key(),p)}function go(y){return oe(y._redirectPersistence)}function Rl(y){return Wn("pendingRedirect",y.config.apiKey,y.name)}function D(){return(D=(0,d.Z)(function*(y,p,m){const b=Pe(y);Be(y,p,Ms);const S=qo(b,m);return yield zc(S,b),S._openRedirect(b,p,"signInViaRedirect")})).apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y);Be(b.auth,p,Ms);const S=qo(b.auth,m);yield zc(S,b.auth);const k=yield dt(b);return S._openRedirect(b.auth,p,"reauthViaRedirect",k)})).apply(this,arguments)}function Ae(){return(Ae=(0,d.Z)(function*(y,p,m){const b=(0,N.m9)(y);Be(b.auth,p,Ms);const S=qo(b.auth,m);yield ts(!1,b,p.providerId),yield zc(S,b.auth);const k=yield dt(b);return S._openRedirect(b.auth,p,"linkViaRedirect",k)})).apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(y,p){return yield Pe(y)._initializationPromise,Dt(y,p,!1)})).apply(this,arguments)}function Dt(y,p){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(y,p,m=!1){const b=Pe(y),S=qo(b,p),J=yield new Gc(b,S,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield b._persistUserIfCurrent(J.user),yield b._setRedirectUser(null,p)),J})).apply(this,arguments)}function dt(y){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.Z)(function*(y){const p=_r(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Bs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(p,b)&&(m=!0,this.sendToConsumer(p,b),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var b;if(p.error&&!Zo(p)){const S=(null===(b=p.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(je(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const b=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&b}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(as(p))}saveEventToCache(p){this.cachedEventUids.add(as(p)),this.lastProcessedEventTime=Date.now()}}function as(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Zo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Us(y){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(y,p={}){return Nt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yo=/^https?/;function Wc(){return(Wc=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Us(y);for(const m of p)try{if(YD(m))return}catch(b){}Me(y,"unauthorized-domain")})).apply(this,arguments)}function YD(y){const p=ft(),{protocol:m,hostname:b}=new URL(p);if(y.startsWith("chrome-extension://")){const J=new URL(y);return""===J.hostname&&""===b?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===b}if(!Yo.test(m))return!1;if(Ko.test(y))return b===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(b)}const wh=new Et(3e4,6e4);function js(){const y=Qe().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let ls=null;function Zc(y){return ls=ls||function(y){return new Promise((p,m)=>{var b,S,k;function J(){js(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{js(),m(je(y,"network-request-failed"))},timeout:wh.get()})}if(null===(S=null===(b=Qe().gapi)||void 0===b?void 0:b.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(k=Qe().gapi)||void 0===k?void 0:k.load)){const ge=Tl("iframefcb");return Qe()[ge]=()=>{gapi.load?J():m(je(y,"network-request-failed"))},Ii(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ve=>m(Ve))}J()}}).catch(p=>{throw ls=null,p})}(y),ls}const kl=new Et(5e3,15e3),__={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kc(y){const p=y.config;K(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Yt(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,b={apiKey:p.apiKey,appName:y.name,v:de.SDK_VERSION},S=Pl.get(y.config.apiHost);S&&(b.eid=S);const k=y._getFrameworks();return k.length&&(b.fw=k.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function Yc(){return Yc=(0,d.Z)(function*(y){const p=yield Zc(y),m=Qe().gapi;return K(m,y,"internal-error"),p.open({where:document.body,url:Kc(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:__,dontclear:!0},b=>new Promise(function(){var S=(0,d.Z)(function*(k,J){yield b.restyle({setHideOnLeave:!1});const ge=je(y,"network-request-failed"),Ve=Qe().setTimeout(()=>{J(ge)},kl.get());function Xe(){Qe().clearTimeout(Ve),k(b)}b.ping(Xe).then(Xe,()=>{J(ge)})});return function(k,J){return S.apply(this,arguments)}}()))}),Yc.apply(this,arguments)}const Eh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class b_{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ap(y,p,m,b,S,k){K(y.config.authDomain,y,"auth-domain-config-required"),K(y.config.apiKey,y,"invalid-api-key");const J={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:b,v:de.SDK_VERSION,eventId:S};if(p instanceof Ms){p.setDefaultLanguage(y.languageCode),J.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Xe]of Object.entries(k||{}))J[Ve]=Xe}if(p instanceof Gr){const Ve=p.getScopes().filter(Xe=>""!==Xe);Ve.length>0&&(J.scopes=Ve.join(","))}y.tenantId&&(J.tid=y.tenantId);const ge=J;for(const Ve of Object.keys(ge))void 0===ge[Ve]&&delete ge[Ve];return`${function({config:y}){return y.emulator?Yt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(ge).slice(1)}`}const Ch="webStorageSupport";class Dh extends class{constructor(p){this.factorId=p}_process(p,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,b);case"signin":return this._finalizeSignIn(p,m.credential);default:return H("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Dh(p)}_finalizeEnroll(p,m,b){return function(y,p){return Nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",fn(y,p))}(p,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function(y,p){return Nt(y,"POST","/v2/accounts/mfaSignIn:finalize",fn(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Op=(()=>{class y{constructor(){}static assertion(m){return Dh._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var y,Rp="@firebase/auth";class n0{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(b=>{var S;p((null===(S=b)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qr(){return window}function Xc(){return Xc=(0,d.Z)(function*(y,p,m){var b;const{BuildInfo:S}=qr();X(p.sessionId,"AuthEvent did not contain a session ID");const k=yield Lp(p.sessionId),J={};return An()?J.ibi=S.packageName:In()?J.apn=S.packageName:Me(y,"operation-not-supported-in-this-environment"),S.displayName&&(J.appDisplayName=S.displayName),J.sessionId=k,Ap(y,m,p.type,void 0,null!==(b=p.eventId)&&void 0!==b?b:void 0,J)}),Xc.apply(this,arguments)}function I_(){return I_=(0,d.Z)(function*(y){const{BuildInfo:p}=qr(),m={};An()?m.iosBundleId=p.packageName:In()?m.androidPackageName=p.packageName:Me(y,"operation-not-supported-in-this-environment"),yield Us(y,m)}),I_.apply(this,arguments)}function ed(){return ed=(0,d.Z)(function*(y,p,m){const{cordova:b}=qr();let S=()=>{};try{yield new Promise((k,J)=>{let ge=null;function Ve(){var ht;k();const Gn=null===(ht=b.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof Gn&&Gn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Xe(){ge||(ge=window.setTimeout(()=>{J(je(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}p.addPassiveListener(Ve),document.addEventListener("resume",Xe,!1),In()&&document.addEventListener("visibilitychange",_t,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",_t,!1),ge&&window.clearTimeout(ge)}})}finally{S()}}),ed.apply(this,arguments)}function Lp(y){return S_.apply(this,arguments)}function S_(){return S_=(0,d.Z)(function*(y){const p=QD(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")}),S_.apply(this,arguments)}function QD(y){if(X(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let b=0;b<y.length;b++)m[b]=y.charCodeAt(b);return m}y="Browser",(0,de._registerComponent)(new se.wA("auth",(p,{options:m})=>{const b=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:k,authDomain:J}=b.options;return((ge,Ve)=>{K(k&&!k.includes(":"),"invalid-api-key",{appName:ge.name}),K(!(null==J?void 0:J.includes(":")),"argument-error",{appName:ge.name});const Xe={apiKey:k,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mn(y)},_t=new ti(ge,Ve,Xe);return function(y,p){const m=(null==p?void 0:p.persistence)||[],b=(Array.isArray(m)?m:[m]).map(oe);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(b,null==p?void 0:p.popupRedirectResolver)}(_t,m),_t})(b,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,b)=>{p.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new se.wA("auth-internal",p=>{const m=Pe(p.getProvider("auth").getImmediate());return new n0(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Rp,"0.20.5",void 0),(0,de.registerVersion)(Rp,"0.20.5","esm2017");class A_ extends Bs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,d.Z)(function*(){yield p.initPromise})()}}function x_(y){return td.apply(this,arguments)}function td(){return td=(0,d.Z)(function*(y){const p=yield nd()._get(Bp(y));return p&&(yield nd()._remove(Bp(y))),p}),td.apply(this,arguments)}function s0(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const b=Math.floor(Math.random()*p.length);y.push(p.charAt(b))}return y.join("")}function nd(){return oe(Fs)}function Bp(y){return Wn("authEvent",y.config.apiKey,y.name)}function Sh(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function R_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}function Ah(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Wr(y=(0,N.z$)()){return!("file:"!==Ah()&&"ionic:"!==Ah()&&"capacitor:"!==Ah()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vu(){try{const y=self.localStorage,p=_r();if(y)return y.setItem(p,"1"),y.removeItem(p),!function(y=(0,N.z$)()){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)||function(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return id()&&(0,N.hl)()}return!1}function id(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Hp(){return("http:"===Ah()||"https:"===Ah()||(0,N.ru)()||Wr())&&!((0,N.b$)()||(0,N.UG)())&&Vu()&&!id()}function N_(){return Wr()&&"undefined"!=typeof document}function $p(){return $p=(0,d.Z)(function*(){return!!N_()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})}),$p.apply(this,arguments)}const Hi={LOCAL:"local",NONE:"none",SESSION:"session"},Bu=K,V_="persistence";function Gp(y){return sd.apply(this,arguments)}function sd(){return sd=(0,d.Z)(function*(y){yield y._initializationPromise;const p=B_(),m=Wn(V_,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())}),sd.apply(this,arguments)}function B_(){var y;try{return(null===(y="undefined"!=typeof window?window:null)||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const XD=K;class mo{constructor(){this.browserResolver=oe(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mr,this._completeRedirectFn=Dt,this._overrideRedirectResult=vh}_openPopup(p,m,b,S){var k=this;return(0,d.Z)(function*(){var J;X(null===(J=k.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ge=Ap(p,m,b,ft(),S);return function(y,p,m,b=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),J=Math.max((window.screen.availWidth-b)/2,0).toString();let ge="";const Ve=Object.assign(Object.assign({},Eh),{width:b.toString(),height:S.toString(),top:k,left:J}),Xe=(0,N.z$)().toLowerCase();m&&(ge=ga(Xe)?"_blank":m),Ji(Xe)&&(p=p||"http://localhost",Ve.scrollbars="yes");const _t=Object.entries(Ve).reduce((Gn,[$i,ud])=>`${Gn}${$i}=${ud},`,"");if(function(y=(0,N.z$)()){var p;return An(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Xe)&&"_self"!==ge)return function(y,p){const m=document.createElement("a");m.href=y,m.target=p;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(p||"",ge),new b_(null);const ht=window.open(p||"",ge,_t);K(ht,y,"popup-blocked");try{ht.focus()}catch(Gn){}return new b_(ht)}(p,ge,_r())})()}_openRedirect(p,m,b,S){var k=this;return(0,d.Z)(function*(){return yield k._originValidation(p),y=Ap(p,m,b,ft(),S),Qe().location.href=y,new Promise(()=>{});var y})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:k}=this.eventManagers[m];return S?Promise.resolve(S):(X(k,"If manager is not set, promise should be"),k)}const b=this.initAndGetManager(p);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(p){var m=this;return(0,d.Z)(function*(){const b=yield function(y){return Yc.apply(this,arguments)}(p),S=new Bs(p);return b.register("authEvent",k=>(K(null==k?void 0:k.authEvent,p,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=b,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Ch,{type:Ch},S=>{var k;const J=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[Ch];void 0!==J&&m(!!J),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return Wc.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return _a()||To()||An()}}),this.cordovaResolver=oe(class{constructor(){this._redirectPersistence=mr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dt,this._overrideRedirectResult=vh}_initialize(p){var m=this;return(0,d.Z)(function*(){const b=p._key();let S=m.eventManagers.get(b);return S||(S=new A_(p),m.eventManagers.set(b,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,b,S){var k=this;return(0,d.Z)(function*(){!function(y){var p,m,b,S,k,J,ge,Ve,Xe,_t;const ht=qr();K("function"==typeof(null===(p=null==ht?void 0:ht.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),K(void 0!==(null===(m=null==ht?void 0:ht.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),K("function"==typeof(null===(k=null===(S=null===(b=null==ht?void 0:ht.cordova)||void 0===b?void 0:b.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(Ve=null===(ge=null===(J=null==ht?void 0:ht.cordova)||void 0===J?void 0:J.plugins)||void 0===ge?void 0:ge.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),K("function"==typeof(null===(_t=null===(Xe=null==ht?void 0:ht.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield k._initialize(p);yield J.initialized(),J.resetRedirect(),ss.clear(),yield k._originValidation(p);const ge=function(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:s0(),postBody:null,tenantId:y.tenantId,error:je(y,"no-auth-event")}}(p,b,S);yield function(y,p){return nd()._set(Bp(y),p)}(p,ge);const Ve=yield function(y,p,m){return Xc.apply(this,arguments)}(p,ge,m),Xe=yield function(y){const{cordova:p}=qr();return new Promise(m=>{p.plugins.browsertab.isAvailable(b=>{let S=null;b?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Ve);return function(y,p,m){return ed.apply(this,arguments)}(p,J,Xe)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(y){return I_.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:b,handleOpenURL:S,BuildInfo:k}=qr(),J=setTimeout((0,d.Z)(function*(){yield x_(p),m.onEvent(R_())}),500),ge=function(){var _t=(0,d.Z)(function*(ht){clearTimeout(J);const Gn=yield x_(p);let $i=null;Gn&&(null==ht?void 0:ht.url)&&($i=function(y,p){var m,b;const S=function(y){const p=Sh(y),m=p.link?decodeURIComponent(p.link):void 0,b=Sh(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Sh(S).link||S||b||m||y}(p);if(S.includes("/__/auth/callback")){const k=Sh(S),J=k.firebaseError?function(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(k.firebaseError)):null,ge=null===(b=null===(m=null==J?void 0:J.code)||void 0===m?void 0:m.split("auth/"))||void 0===b?void 0:b[1],Ve=ge?je(ge):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Gn,ht.url)),m.onEvent($i||R_())});return function(Gn){return _t.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,ge);const Ve=S,Xe=`${k.packageName.toLowerCase()}://`;qr().handleOpenURL=function(){var _t=(0,d.Z)(function*(ht){if(ht.toLowerCase().startsWith(Xe)&&ge({url:ht}),"function"==typeof Ve)try{Ve(ht)}catch(Gn){console.error(Gn)}});return function(ht){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=mr,this._completeRedirectFn=Dt,this._overrideRedirectResult=vh}_initialize(p){var m=this;return(0,d.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,b,S){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(p,m,b,S)})()}_openRedirect(p,m,b,S){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(p,m,b,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return N_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return XD(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,d.Z)(function*(){if(p.underlyingResolver)return;const m=yield function(){return $p.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function U_(y){return y.unwrap()}function od(y){return j_(y)}function j_(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Bi.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let b;switch(m){case"google.com":b=hu;break;case"facebook.com":b=eo;break;case"github.com":b=dh;break;case"twitter.com":b=dl;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:J,pendingToken:ge,nonce:Ve}=p;return k||J||S||ge?ge?m.startsWith("saml.")?to._create(m,ge):es._fromParams({providerId:m,signInMethod:m,pendingToken:ge,idToken:S,accessToken:k}):new xs(m).credential({idToken:S,accessToken:k,rawNonce:Ve}):null}return y instanceof N.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Si(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function(y,p){var m,b;const S=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(b=p)||void 0===b?void 0:b.code))p.resolver=new H_(y,function(y,p){var m;const b=(0,N.m9)(y),S=p;return K(p.customData.operationType,b,"argument-error"),K(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Cl._fromError(b,S)}(y,p));else if(S){const k=j_(p),J=p;k&&(J.credential=k,J.tenantId=S.tenantId||void 0,J.email=S.email||void 0,J.phoneNumber=S.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:od(m),additionalUserInfo:Cu(m),user:Qo.getOrCreate(S)}})}function zp(y,p){return qp.apply(this,arguments)}function qp(){return qp=(0,d.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:b=>Si(y,m.confirm(b))}}),qp.apply(this,arguments)}class H_{constructor(p,m){this.resolver=m,this.auth=function(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Si(U_(this.auth),this.resolver.resolveSignIn(p))}}class Qo{constructor(p){this._delegate=p,this.multiFactor=function(y){const p=(0,N.m9)(y);return jo.has(p)||jo.set(p,Uo._fromUser(p)),jo.get(p)}(p)}static getOrCreate(p){return Qo.USER_MAP.has(p)||Qo.USER_MAP.set(p,new Qo(p)),Qo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,d.Z)(function*(){return Si(m.auth,Ro(m._delegate,p))})()}linkWithPhoneNumber(p,m){var b=this;return(0,d.Z)(function*(){return zp(b.auth,function(y,p,m){return Kn.apply(this,arguments)}(b._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,d.Z)(function*(){return Si(m.auth,function(y,p,m){return xl.apply(this,arguments)}(m._delegate,p,mo))})()}linkWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Gp(Pe(m.auth)),function(y,p,m){return function(y,p,m){return Ae.apply(this,arguments)}(y,p,m)}(m._delegate,p,mo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,d.Z)(function*(){return Si(m.auth,Tr(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return zp(this.auth,function(y,p,m){return po.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Si(this.auth,function(y,p,m){return $c.apply(this,arguments)}(this._delegate,p,mo))}reauthenticateWithRedirect(p){var m=this;return(0,d.Z)(function*(){return yield Gp(Pe(m.auth)),function(y,p,m){return function(y,p,m){return V.apply(this,arguments)}(y,p,m)}(m._delegate,p,mo)})()}sendEmailVerification(p){return function(y,p){return vu.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,d.Z)(function*(){return yield function(y,p){return xo.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function(y,p){return wl((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function(y,p){return wl((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(y,p){return zo.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(y,p){return bl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function(y,p,m){return Vo.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qo.USER_MAP=new WeakMap;const ad=K;let $_=(()=>{class y{constructor(m,b){if(this.app=m,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;ad(S,"invalid-api-key",{appName:m.name}),ad(S,"invalid-api-key",{appName:m.name});const k="undefined"!=typeof window?mo:void 0;this._delegate=b.initialize({options:{persistence:z_(S,m.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(He),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,b){!function(y,p,m){const b=Pe(y);K(b._canInitEmulator,b,"emulator-config-failed"),K(/^https?:\/\//.test(p),b,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),k=rr(p),{host:J,port:ge}=function(y){const p=rr(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(b);if(S){const k=S[1];return{host:k,port:xn(b.substr(k.length+1))}}{const[k,J]=b.split(":");return{host:k,port:xn(J)}}}(p);b.config.emulator={url:`${k}//${J}${null===ge?"":`:${ge}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:J,port:ge,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,b)}applyActionCode(m){return function(y,p){return vn.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ml(this._delegate,m)}confirmPasswordReset(m,b){return function(y,p,m){return Bt.apply(this,arguments)}(this._delegate,m,b)}createUserWithEmailAndPassword(m,b){var S=this;return(0,d.Z)(function*(){return Si(S._delegate,function(y,p,m){return Fc.apply(this,arguments)}(S._delegate,m,b))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(y,p){return yl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(y,p){const m=Xs.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,d.Z)(function*(){ad(Hp(),m._delegate,"operation-not-supported-in-this-environment");const b=yield function(y,p){return ot.apply(this,arguments)}(m._delegate,mo);return b?Si(m._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(y,p){Pe(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,b,S){const{next:k,error:J,complete:ge}=G_(m,b,S);return this._delegate.onAuthStateChanged(k,J,ge)}onIdTokenChanged(m,b,S){const{next:k,error:J,complete:ge}=G_(m,b,S);return this._delegate.onIdTokenChanged(k,J,ge)}sendSignInLinkToEmail(m,b){return function(y,p,m){return lo.apply(this,arguments)}(this._delegate,m,b)}sendPasswordResetEmail(m,b){return function(y,p,m){return gl.apply(this,arguments)}(this._delegate,m,b||void 0)}setPersistence(m){var b=this;return(0,d.Z)(function*(){let S;switch(function(y,p){Bu(Object.values(Hi).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Bu(p!==Hi.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Bu(p===Hi.NONE,y,"unsupported-persistence-type"):id()?Bu(p===Hi.NONE||p===Hi.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Bu(p===Hi.NONE||Vu(),y,"unsupported-persistence-type")}(b._delegate,m),m){case Hi.SESSION:S=mr;break;case Hi.LOCAL:S=(yield oe(Ei)._isAvailable())?Ei:Fs;break;case Hi.NONE:S=zt;break;default:return Me("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Si(this._delegate,function(y){return fu.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Si(this._delegate,qt(this._delegate,m))}signInWithCustomToken(m){return Si(this._delegate,function(y,p){return so.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,b){return Si(this._delegate,function(y,p,m){return qt((0,N.m9)(y),Rc.credential(p,m))}(this._delegate,m,b))}signInWithEmailLink(m,b){return Si(this._delegate,function(y,p,m){return uo.apply(this,arguments)}(this._delegate,m,b))}signInWithPhoneNumber(m,b){return zp(this._delegate,function(y,p,m){return yr.apply(this,arguments)}(this._delegate,m,b))}signInWithPopup(m){var b=this;return(0,d.Z)(function*(){return ad(Hp(),b._delegate,"operation-not-supported-in-this-environment"),Si(b._delegate,function(y,p,m){return La.apply(this,arguments)}(b._delegate,m,mo))})()}signInWithRedirect(m){var b=this;return(0,d.Z)(function*(){return ad(Hp(),b._delegate,"operation-not-supported-in-this-environment"),yield Gp(b._delegate),function(y,p,m){return function(y,p,m){return D.apply(this,arguments)}(y,p,m)}(b._delegate,m,mo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(y,p){return Ea.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Hi,y})();function G_(y,p,m){let b=y;"function"!=typeof y&&({next:b,error:p,complete:m}=y);const S=b;return{next:J=>S(J&&Qo.getOrCreate(J)),error:p,complete:m}}function z_(y,p){const m=function(y,p){const m=B_();if(!m)return[];const b=Wn(V_,y,p);switch(m.getItem(b)){case Hi.NONE:return[zt];case Hi.LOCAL:return[Ei,mr];case Hi.SESSION:return[mr];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(Ei)&&m.push(Ei),"undefined"!=typeof window)for(const b of[Fs,mr])m.includes(b)||m.push(b);return m.includes(zt)||m.push(zt),m}class ld{constructor(){this.providerId="phone",this._delegate=new Bi(U_(ne.Z.auth()))}static credential(p,m){return Bi.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}ld.PHONE_SIGN_IN_METHOD=Bi.PHONE_SIGN_IN_METHOD,ld.PROVIDER_ID=Bi.PROVIDER_ID;const g0=K;class m0{constructor(p,m,b=ne.Z.app()){var S;g0(null===(S=b.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new $n(p,m,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),b=p.getProvider("auth");return new $_(m,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Rc,FacebookAuthProvider:eo,GithubAuthProvider:dh,GoogleAuthProvider:hu,OAuthProvider:xs,SAMLAuthProvider:ri,PhoneAuthProvider:ld,PhoneMultiFactorGenerator:Op,RecaptchaVerifier:m0,TwitterAuthProvider:dl,Auth:$_,AuthCredential:ln,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(ne.Z)},8306:(et,be,P)=>{P.d(be,{y:()=>G});var d=P(930),ne=P(727),N=P(8822),de=P(4671);var se=P(2416),pe=P(576),_e=P(2806);let G=(()=>{class Te{constructor($e){$e&&(this._subscribe=$e)}lift($e){const Ne=new Te;return Ne.source=this,Ne.operator=$e,Ne}subscribe($e,Ne,ie){const Ce=function(Te){return Te&&Te instanceof d.Lv||function(Te){return Te&&(0,pe.m)(Te.next)&&(0,pe.m)(Te.error)&&(0,pe.m)(Te.complete)}(Te)&&(0,ne.Nn)(Te)}($e)?$e:new d.Hp($e,Ne,ie);return(0,_e.x)(()=>{const{operator:Le,source:Me}=this;Ce.add(Le?Le.call(Ce,Me):Me?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe($e){try{return this._subscribe($e)}catch(Ne){$e.error(Ne)}}forEach($e,Ne){return new(Ne=Y(Ne))((ie,Ce)=>{const Le=new d.Hp({next:Me=>{try{$e(Me)}catch(je){Ce(je),Le.unsubscribe()}},error:Ce,complete:ie});this.subscribe(Le)})}_subscribe($e){var Ne;return null===(Ne=this.source)||void 0===Ne?void 0:Ne.subscribe($e)}[N.L](){return this}pipe(...$e){return function(Te){return 0===Te.length?de.y:1===Te.length?Te[0]:function($e){return Te.reduce((Ne,ie)=>ie(Ne),$e)}}($e)(this)}toPromise($e){return new($e=Y($e))((Ne,ie)=>{let Ce;this.subscribe(Le=>Ce=Le,Le=>ie(Le),()=>Ne(Ce))})}}return Te.create=He=>new Te(He),Te})();function Y(Te){var He;return null!==(He=null!=Te?Te:se.v.Promise)&&void 0!==He?He:Promise}},7579:(et,be,P)=>{P.d(be,{x:()=>se});var d=P(8306),ne=P(727);const de=(0,P(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=P(8737),ve=P(2806);let se=(()=>{class _e extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const re=new pe(this,this);return re.operator=Y,re}_throwIfClosed(){if(this.closed)throw new de}next(Y){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const re=this.observers.slice();for(const We of re)We.next(Y)}})}error(Y){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:re}=this;for(;re.length;)re.shift().error(Y)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:re,isStopped:We,observers:Te}=this;return re||We?ne.Lc:(Te.push(Y),new ne.w0(()=>(0,he.P)(Te,Y)))}_checkFinalizedStatuses(Y){const{hasError:re,thrownError:We,isStopped:Te}=this;re?Y.error(We):Te&&Y.complete()}asObservable(){const Y=new d.y;return Y.source=this,Y}}return _e.create=(G,Y)=>new pe(G,Y),_e})();class pe extends se{constructor(G,Y){super(),this.destination=G,this.source=Y}next(G){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===re||re.call(Y,G)}error(G){var Y,re;null===(re=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===re||re.call(Y,G)}complete(){var G,Y;null===(Y=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===Y||Y.call(G)}_subscribe(G){var Y,re;return null!==(re=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(G))&&void 0!==re?re:ne.Lc}}},930:(et,be,P)=>{P.d(be,{Hp:()=>We,Lv:()=>re});var d=P(576),ne=P(727),N=P(2416),de=P(7849),he=P(5032);const ve=_e("C",void 0,void 0);function _e(ie,Ce,Le){return{kind:ie,value:Ce,error:Le}}var G=P(3410),Y=P(2806);class re extends ne.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ne.Nn)(Ce)&&Ce.add(this)):this.destination=Ne}static create(Ce,Le,Me){return new We(Ce,Le,Me)}next(Ce){this.isStopped?$e(_e("N",Ce,void 0),this):this._next(Ce)}error(Ce){this.isStopped?$e(_e("E",void 0,Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?$e(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class We extends re{constructor(Ce,Le,Me){let je;if(super(),(0,d.m)(Ce))je=Ce;else if(Ce){let Re;({next:je,error:Le,complete:Me}=Ce),this&&N.v.useDeprecatedNextContext?(Re=Object.create(Ce),Re.unsubscribe=()=>this.unsubscribe()):Re=Ce,je=null==je?void 0:je.bind(Re),Le=null==Le?void 0:Le.bind(Re),Me=null==Me?void 0:Me.bind(Re)}this.destination={next:je?Te(je):he.Z,error:Te(null!=Le?Le:He),complete:Me?Te(Me):he.Z}}}function Te(ie,Ce){return(...Le)=>{try{ie(...Le)}catch(Me){N.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(Me):(0,de.h)(Me)}}}function He(ie){throw ie}function $e(ie,Ce){const{onStoppedNotification:Le}=N.v;Le&&G.z.setTimeout(()=>Le(ie,Ce))}const Ne={closed:!0,next:he.Z,error:He,complete:he.Z}},727:(et,be,P)=>{P.d(be,{Lc:()=>ve,w0:()=>he,Nn:()=>se});var d=P(576);const N=(0,P(3888).d)(_e=>function(Y){_e(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((re,We)=>`${We+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var de=P(8737);class he{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Te of Y)Te.remove(this);else Y.remove(this);const{initialTeardown:re}=this;if((0,d.m)(re))try{re()}catch(Te){G=Te instanceof N?Te.errors:[Te]}const{_teardowns:We}=this;if(We){this._teardowns=null;for(const Te of We)try{pe(Te)}catch(He){G=null!=G?G:[],He instanceof N?G=[...G,...He.errors]:G.push(He)}}if(G)throw new N(G)}}add(G){var Y;if(G&&G!==this)if(this.closed)pe(G);else{if(G instanceof he){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._teardowns=null!==(Y=this._teardowns)&&void 0!==Y?Y:[]).push(G)}}_hasParent(G){const{_parentage:Y}=this;return Y===G||Array.isArray(Y)&&Y.includes(G)}_addParent(G){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(G),Y):Y?[Y,G]:G}_removeParent(G){const{_parentage:Y}=this;Y===G?this._parentage=null:Array.isArray(Y)&&(0,de.P)(Y,G)}remove(G){const{_teardowns:Y}=this;Y&&(0,de.P)(Y,G),G instanceof he&&G._removeParent(this)}}he.EMPTY=(()=>{const _e=new he;return _e.closed=!0,_e})();const ve=he.EMPTY;function se(_e){return _e instanceof he||_e&&"closed"in _e&&(0,d.m)(_e.remove)&&(0,d.m)(_e.add)&&(0,d.m)(_e.unsubscribe)}function pe(_e){(0,d.m)(_e)?_e():_e.unsubscribe()}},2416:(et,be,P)=>{P.d(be,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,be,P)=>{P.d(be,{E:()=>ne});const ne=new(P(8306).y)(he=>he.complete())},8996:(et,be,P)=>{P.d(be,{D:()=>je});var d=P(8421),ne=P(5363),N=P(9468),ve=P(8306),pe=P(2202),_e=P(576),G=P(9672);function re(Re,Be){if(!Re)throw new Error("Iterable cannot be null");return new ve.y(Ye=>{(0,G.f)(Ye,Be,()=>{const K=Re[Symbol.asyncIterator]();(0,G.f)(Ye,Be,()=>{K.next().then(H=>{H.done?Ye.complete():Ye.next(H.value)})},0,!0)})})}var We=P(3670),Te=P(8239),He=P(1144),$e=P(6495),Ne=P(2206),ie=P(4532),Ce=P(3260);function je(Re,Be){return Be?function(Re,Be){if(null!=Re){if((0,We.c)(Re))return function(Re,Be){return(0,d.Xf)(Re).pipe((0,N.R)(Be),(0,ne.Q)(Be))}(Re,Be);if((0,He.z)(Re))return function(Re,Be){return new ve.y(Ye=>{let K=0;return Be.schedule(function(){K===Re.length?Ye.complete():(Ye.next(Re[K++]),Ye.closed||this.schedule())})})}(Re,Be);if((0,Te.t)(Re))return function(Re,Be){return(0,d.Xf)(Re).pipe((0,N.R)(Be),(0,ne.Q)(Be))}(Re,Be);if((0,Ne.D)(Re))return re(Re,Be);if((0,$e.T)(Re))return function(Re,Be){return new ve.y(Ye=>{let K;return(0,G.f)(Ye,Be,()=>{K=Re[pe.h](),(0,G.f)(Ye,Be,()=>{let H,X;try{({value:H,done:X}=K.next())}catch(fe){return void Ye.error(fe)}X?Ye.complete():Ye.next(H)},0,!0)}),()=>(0,_e.m)(null==K?void 0:K.return)&&K.return()})}(Re,Be);if((0,Ce.L)(Re))return function(Re,Be){return re((0,Ce.Q)(Re),Be)}(Re,Be)}throw(0,ie.z)(Re)}(Re,Be):(0,d.Xf)(Re)}},8421:(et,be,P)=>{P.d(be,{Xf:()=>We});var d=P(655),ne=P(1144),N=P(8239),de=P(8306),he=P(3670),ve=P(2206),se=P(4532),pe=P(6495),_e=P(3260),G=P(576),Y=P(7849),re=P(8822);function We(Me){if(Me instanceof de.y)return Me;if(null!=Me){if((0,he.c)(Me))return function(Me){return new de.y(je=>{const Re=Me[re.L]();if((0,G.m)(Re.subscribe))return Re.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ne.z)(Me))return function(Me){return new de.y(je=>{for(let Re=0;Re<Me.length&&!je.closed;Re++)je.next(Me[Re]);je.complete()})}(Me);if((0,N.t)(Me))return function(Me){return new de.y(je=>{Me.then(Re=>{je.closed||(je.next(Re),je.complete())},Re=>je.error(Re)).then(null,Y.h)})}(Me);if((0,ve.D)(Me))return ie(Me);if((0,pe.T)(Me))return function(Me){return new de.y(je=>{for(const Re of Me)if(je.next(Re),je.closed)return;je.complete()})}(Me);if((0,_e.L)(Me))return function(Me){return ie((0,_e.Q)(Me))}(Me)}throw(0,se.z)(Me)}function ie(Me){return new de.y(je=>{(function(Me,je){var Re,Be,Ye,K;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Re=(0,d.KL)(Me);!(Be=yield Re.next()).done;)if(je.next(Be.value),je.closed)return}catch(H){Ye={error:H}}finally{try{Be&&!Be.done&&(K=Re.return)&&(yield K.call(Re))}finally{if(Ye)throw Ye.error}}je.complete()})})(Me,je).catch(Re=>je.error(Re))})}},6451:(et,be,P)=>{P.d(be,{T:()=>ve});var d=P(8189),ne=P(8421),N=P(515),de=P(3269),he=P(8996);function ve(...se){const pe=(0,de.yG)(se),_e=(0,de._6)(se,1/0),G=se;return G.length?1===G.length?(0,ne.Xf)(G[0]):(0,d.J)(_e)((0,he.D)(G,pe)):N.E}},5403:(et,be,P)=>{P.d(be,{Q:()=>ne});var d=P(930);class ne extends d.Lv{constructor(de,he,ve,se,pe){super(de),this.onFinalize=pe,this._next=he?function(_e){try{he(_e)}catch(G){de.error(G)}}:super._next,this._error=se?function(_e){try{se(_e)}catch(G){de.error(G)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(_e){de.error(_e)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;const{closed:he}=this;super.unsubscribe(),!he&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}},4004:(et,be,P)=>{P.d(be,{U:()=>N});var d=P(4482),ne=P(5403);function N(de,he){return(0,d.e)((ve,se)=>{let pe=0;ve.subscribe(new ne.Q(se,_e=>{se.next(de.call(he,_e,pe++))}))})}},8189:(et,be,P)=>{P.d(be,{J:()=>N});var d=P(5577),ne=P(4671);function N(de=1/0){return(0,d.z)(ne.y,de)}},5577:(et,be,P)=>{P.d(be,{z:()=>pe});var d=P(4004),ne=P(8421),N=P(4482),he=(P(9672),P(5403)),se=P(576);function pe(_e,G,Y=1/0){return(0,se.m)(G)?pe((re,We)=>(0,d.U)((Te,He)=>G(re,Te,We,He))((0,ne.Xf)(_e(re,We))),Y):("number"==typeof G&&(Y=G),(0,N.e)((re,We)=>function(_e,G,Y,re,We,Te,He,$e){const Ne=[];let ie=0,Ce=0,Le=!1;const Me=()=>{Le&&!Ne.length&&!ie&&G.complete()},je=Be=>ie<re?Re(Be):Ne.push(Be),Re=Be=>{ie++;let Ye=!1;(0,ne.Xf)(Y(Be,Ce++)).subscribe(new he.Q(G,K=>{G.next(K)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(ie--;Ne.length&&ie<re;){const K=Ne.shift();Re(K)}Me()}catch(K){G.error(K)}}))};return _e.subscribe(new he.Q(G,je,()=>{Le=!0,Me()})),()=>{}}(re,We,_e,Y)))}},5363:(et,be,P)=>{P.d(be,{Q:()=>de});var d=P(9672),ne=P(4482),N=P(5403);function de(he,ve=0){return(0,ne.e)((se,pe)=>{se.subscribe(new N.Q(pe,_e=>(0,d.f)(pe,he,()=>pe.next(_e),ve),()=>(0,d.f)(pe,he,()=>pe.complete(),ve),_e=>(0,d.f)(pe,he,()=>pe.error(_e),ve)))})}},3099:(et,be,P)=>{P.d(be,{B:()=>ve});var d=P(8996),ne=P(5698),N=P(7579),de=P(930),he=P(4482);function ve(pe={}){const{connector:_e=(()=>new N.x),resetOnError:G=!0,resetOnComplete:Y=!0,resetOnRefCountZero:re=!0}=pe;return We=>{let Te=null,He=null,$e=null,Ne=0,ie=!1,Ce=!1;const Le=()=>{null==He||He.unsubscribe(),He=null},Me=()=>{Le(),Te=$e=null,ie=Ce=!1},je=()=>{const Re=Te;Me(),null==Re||Re.unsubscribe()};return(0,he.e)((Re,Be)=>{Ne++,!Ce&&!ie&&Le();const Ye=$e=null!=$e?$e:_e();Be.add(()=>{Ne--,0===Ne&&!Ce&&!ie&&(He=se(je,re))}),Ye.subscribe(Be),Te||(Te=new de.Hp({next:K=>Ye.next(K),error:K=>{Ce=!0,Le(),He=se(Me,G,K),Ye.error(K)},complete:()=>{ie=!0,Le(),He=se(Me,Y),Ye.complete()}}),(0,d.D)(Re).subscribe(Te))})(We)}}function se(pe,_e,...G){return!0===_e?(pe(),null):!1===_e?null:_e(...G).pipe((0,ne.q)(1)).subscribe(()=>pe())}},9468:(et,be,P)=>{P.d(be,{R:()=>ne});var d=P(4482);function ne(N,de=0){return(0,d.e)((he,ve)=>{ve.add(N.schedule(()=>he.subscribe(ve),de))})}},5698:(et,be,P)=>{P.d(be,{q:()=>de});var d=P(515),ne=P(4482),N=P(5403);function de(he){return he<=0?()=>d.E:(0,ne.e)((ve,se)=>{let pe=0;ve.subscribe(new N.Q(se,_e=>{++pe<=he&&(se.next(_e),he<=pe&&se.complete())}))})}},8505:(et,be,P)=>{P.d(be,{b:()=>he});var d=P(576),ne=P(4482),N=P(5403),de=P(4671);function he(ve,se,pe){const _e=(0,d.m)(ve)||se||pe?{next:ve,error:se,complete:pe}:ve;return _e?(0,ne.e)((G,Y)=>{var re;null===(re=_e.subscribe)||void 0===re||re.call(_e);let We=!0;G.subscribe(new N.Q(Y,Te=>{var He;null===(He=_e.next)||void 0===He||He.call(_e,Te),Y.next(Te)},()=>{var Te;We=!1,null===(Te=_e.complete)||void 0===Te||Te.call(_e),Y.complete()},Te=>{var He;We=!1,null===(He=_e.error)||void 0===He||He.call(_e,Te),Y.error(Te)},()=>{var Te,He;We&&(null===(Te=_e.unsubscribe)||void 0===Te||Te.call(_e)),null===(He=_e.finalize)||void 0===He||He.call(_e)}))}):de.y}},4408:(et,be,P)=>{P.d(be,{o:()=>he});var d=P(727);class ne extends d.w0{constructor(se,pe){super()}schedule(se,pe=0){return this}}const N={setInterval(...ve){const{delegate:se}=N;return((null==se?void 0:se.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:se}=N;return((null==se?void 0:se.clearInterval)||clearInterval)(ve)},delegate:void 0};var de=P(8737);class he extends ne{constructor(se,pe){super(se,pe),this.scheduler=se,this.work=pe,this.pending=!1}schedule(se,pe=0){if(this.closed)return this;this.state=se;const _e=this.id,G=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(G,_e,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(G,this.id,pe),this}requestAsyncId(se,pe,_e=0){return N.setInterval(se.flush.bind(se,this),_e)}recycleAsyncId(se,pe,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return pe;N.clearInterval(pe)}execute(se,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(se,pe);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,pe){let G,_e=!1;try{this.work(se)}catch(Y){_e=!0,G=Y||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:se,scheduler:pe}=this,{actions:_e}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(_e,this),null!=se&&(this.id=this.recycleAsyncId(pe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,be,P)=>{P.d(be,{v:()=>N});var d=P(6063);class ne{constructor(he,ve=ne.now){this.schedulerActionCtor=he,this.now=ve}schedule(he,ve=0,se){return new this.schedulerActionCtor(this,he).schedule(se,ve)}}ne.now=d.l.now;class N extends ne{constructor(he,ve=ne.now){super(he,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(he){const{actions:ve}=this;if(this._active)return void ve.push(he);let se;this._active=!0;do{if(se=he.execute(he.state,he.delay))break}while(he=ve.shift());if(this._active=!1,se){for(;he=ve.shift();)he.unsubscribe();throw se}}}},4986:(et,be,P)=>{P.d(be,{z:()=>N,P:()=>de});var d=P(4408);const N=new(P(7565).v)(d.o),de=N},6063:(et,be,P)=>{P.d(be,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(et,be,P)=>{P.d(be,{z:()=>d});const d={setTimeout(...ne){const{delegate:N}=d;return((null==N?void 0:N.setTimeout)||setTimeout)(...ne)},clearTimeout(ne){const{delegate:N}=d;return((null==N?void 0:N.clearTimeout)||clearTimeout)(ne)},delegate:void 0}},2202:(et,be,P)=>{P.d(be,{h:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(et,be,P)=>{P.d(be,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,be,P)=>{P.d(be,{jO:()=>de,yG:()=>he,_6:()=>ve});var d=P(576),ne=P(3532);function N(se){return se[se.length-1]}function de(se){return(0,d.m)(N(se))?se.pop():void 0}function he(se){return(0,ne.K)(N(se))?se.pop():void 0}function ve(se,pe){return"number"==typeof N(se)?se.pop():pe}},8737:(et,be,P)=>{function d(ne,N){if(ne){const de=ne.indexOf(N);0<=de&&ne.splice(de,1)}}P.d(be,{P:()=>d})},3888:(et,be,P)=>{function d(ne){const de=ne(he=>{Error.call(he),he.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}P.d(be,{d:()=>d})},2806:(et,be,P)=>{P.d(be,{x:()=>N,O:()=>de});var d=P(2416);let ne=null;function N(he){if(d.v.useDeprecatedSynchronousErrorHandling){const ve=!ne;if(ve&&(ne={errorThrown:!1,error:null}),he(),ve){const{errorThrown:se,error:pe}=ne;if(ne=null,se)throw pe}}else he()}function de(he){d.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=he)}},9672:(et,be,P)=>{function d(ne,N,de,he=0,ve=!1){const se=N.schedule(function(){de(),ve?ne.add(this.schedule(null,he)):this.unsubscribe()},he);if(ne.add(se),!ve)return se}P.d(be,{f:()=>d})},4671:(et,be,P)=>{function d(ne){return ne}P.d(be,{y:()=>d})},1144:(et,be,P)=>{P.d(be,{z:()=>d});const d=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(et,be,P)=>{P.d(be,{D:()=>ne});var d=P(576);function ne(N){return Symbol.asyncIterator&&(0,d.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(et,be,P)=>{function d(ne){return"function"==typeof ne}P.d(be,{m:()=>d})},3670:(et,be,P)=>{P.d(be,{c:()=>N});var d=P(8822),ne=P(576);function N(de){return(0,ne.m)(de[d.L])}},6495:(et,be,P)=>{P.d(be,{T:()=>N});var d=P(2202),ne=P(576);function N(de){return(0,ne.m)(null==de?void 0:de[d.h])}},8239:(et,be,P)=>{P.d(be,{t:()=>ne});var d=P(576);function ne(N){return(0,d.m)(null==N?void 0:N.then)}},3260:(et,be,P)=>{P.d(be,{Q:()=>N,L:()=>de});var d=P(655),ne=P(576);function N(he){return(0,d.FC)(this,arguments,function*(){const se=he.getReader();try{for(;;){const{value:pe,done:_e}=yield(0,d.qq)(se.read());if(_e)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(pe)}}finally{se.releaseLock()}})}function de(he){return(0,ne.m)(null==he?void 0:he.getReader)}},3532:(et,be,P)=>{P.d(be,{K:()=>ne});var d=P(576);function ne(N){return N&&(0,d.m)(N.schedule)}},4482:(et,be,P)=>{P.d(be,{A:()=>ne,e:()=>N});var d=P(576);function ne(de){return(0,d.m)(null==de?void 0:de.lift)}function N(de){return he=>{if(ne(he))return he.lift(function(ve){try{return de(ve,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,be,P)=>{function d(){}P.d(be,{Z:()=>d})},7849:(et,be,P)=>{P.d(be,{h:()=>N});var d=P(2416),ne=P(3410);function N(de){ne.z.setTimeout(()=>{const{onUnhandledError:he}=d.v;if(!he)throw de;he(de)})}},4532:(et,be,P)=>{function d(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(be,{z:()=>d})},655:(et,be,P)=>{function de(H,X){var fe={};for(var oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&X.indexOf(oe)<0&&(fe[oe]=H[oe]);if(null!=H&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(oe=Object.getOwnPropertySymbols(H);xe<oe.length;xe++)X.indexOf(oe[xe])<0&&Object.prototype.propertyIsEnumerable.call(H,oe[xe])&&(fe[oe[xe]]=H[oe[xe]])}return fe}function pe(H,X,fe,oe){return new(fe||(fe=Promise))(function(ae,ft){function kt($t){try{mt(oe.next($t))}catch(Et){ft(Et)}}function Nn($t){try{mt(oe.throw($t))}catch(Et){ft(Et)}}function mt($t){$t.done?ae($t.value):function(ae){return ae instanceof fe?ae:new fe(function(ft){ft(ae)})}($t.value).then(kt,Nn)}mt((oe=oe.apply(H,X||[])).next())})}function Ne(H){return this instanceof Ne?(this.v=H,this):new Ne(H)}function ie(H,X,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,oe=fe.apply(H,X||[]),ae=[];return xe={},ft("next"),ft("throw"),ft("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function ft(Yt){oe[Yt]&&(xe[Yt]=function(er){return new Promise(function(pi,on){ae.push([Yt,er,pi,on])>1||kt(Yt,er)})})}function kt(Yt,er){try{!function(Yt){Yt.value instanceof Ne?Promise.resolve(Yt.value.v).then(mt,$t):Et(ae[0][2],Yt)}(oe[Yt](er))}catch(pi){Et(ae[0][3],pi)}}function mt(Yt){kt("next",Yt)}function $t(Yt){kt("throw",Yt)}function Et(Yt,er){Yt(er),ae.shift(),ae.length&&kt(ae[0][0],ae[0][1])}}function Le(H){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,X=H[Symbol.asyncIterator];return X?X.call(H):(H=function(H){var X="function"==typeof Symbol&&Symbol.iterator,fe=X&&H[X],oe=0;if(fe)return fe.call(H);if(H&&"number"==typeof H.length)return{next:function(){return H&&oe>=H.length&&(H=void 0),{value:H&&H[oe++],done:!H}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(H),fe={},oe("next"),oe("throw"),oe("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function oe(ae){fe[ae]=H[ae]&&function(ft){return new Promise(function(kt,Nn){!function(ae,ft,kt,Nn){Promise.resolve(Nn).then(function(mt){ae({value:mt,done:kt})},ft)}(kt,Nn,(ft=H[ae](ft)).done,ft.value)})}}}P.d(be,{_T:()=>de,mG:()=>pe,qq:()=>Ne,FC:()=>ie,KL:()=>Le})},5e3:(et,be,P)=>{P.d(be,{deG:()=>mh,tb:()=>Em,AFp:()=>lC,ip1:()=>Kl,CZH:()=>Pr,hGG:()=>TS,z2F:()=>Nf,sBO:()=>rl,Sil:()=>Hd,_Vd:()=>Za,EJc:()=>ca,SBq:()=>vf,qLn:()=>od,vpe:()=>wo,tBr:()=>ze,XFs:()=>pt,OlP:()=>Tn,zs3:()=>Ai,ZZ4:()=>Xl,aQg:()=>sl,soG:()=>Cm,YKP:()=>Od,h0i:()=>Ka,PXZ:()=>fc,R0b:()=>Nr,FiY:()=>ot,Lbi:()=>Yl,g9A:()=>Un,Qsj:()=>bf,FYo:()=>RE,JOm:()=>S,tp0:()=>It,Rgc:()=>Pd,dDg:()=>Zv,q4F:()=>ac,GfV:()=>wv,s_b:()=>Sf,ifc:()=>tt,eFA:()=>$d,G48:()=>Gd,Gpc:()=>Y,f3M:()=>T,X6Q:()=>Jl,_c5:()=>rb,VLi:()=>dC,c2e:()=>jd,zSh:()=>dy,wAp:()=>yt,vHH:()=>He,cg1:()=>nf,kL8:()=>dE,dqk:()=>Qt,sIi:()=>Hl,CqO:()=>vT,QGY:()=>By,F4k:()=>Uy,RDi:()=>fu,AaK:()=>pe,qOj:()=>Hh,TTD:()=>eo,_Bn:()=>_f,xp6:()=>M0,uIk:()=>fd,ekj:()=>Og,Suo:()=>Ld,Xpm:()=>at,lG2:()=>ga,Yz7:()=>on,cJS:()=>Nt,oAB:()=>Ir,Yjl:()=>ul,Y36:()=>Qu,_UZ:()=>Vy,BQk:()=>Sg,ynx:()=>Tg,qZA:()=>Ly,TgZ:()=>Fy,EpF:()=>Ow,n5z:()=>Il,Ikx:()=>tf,LFG:()=>lr,$8M:()=>Ci,$Z:()=>Ny,NdJ:()=>Ag,CRH:()=>_m,oxw:()=>kw,Hsn:()=>Gy,F$t:()=>Yh,Q6J:()=>vd,VKq:()=>VE,iGM:()=>ke,Jf7:()=>ld,CHM:()=>ao,LSH:()=>Up,B6R:()=>an,WFA:()=>jy,d8E:()=>Bg,YNc:()=>vw,_uU:()=>rt,Oqu:()=>Xh,Gf:()=>Qn});var d=P(7579),ne=P(727),N=P(8306),de=P(6451),he=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function se(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function pe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(pe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function _e(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=ve({__forward_ref__:ve});function Y(s){return s.__forward_ref__=Y,s.toString=function(){return pe(this())},s}function re(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===Y}class He extends Error{constructor(o,l){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,l)),this.code=o}}function ie(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ie(s)}function Re(s,o){const l=o?` in ${o}`:"";throw new He("201",`No provider for ${Ce(s)} found${l}`)}function $t(s,o){null==s&&function(s,o,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Nt(s){return{providers:s.providers||[],imports:s.imports||[]}}function ki(s){return Vr(s,Qi)||Vr(s,gi)}function Vr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ds(s){return s&&(s.hasOwnProperty(Dr)||s.hasOwnProperty(Ws))?s[Dr]:null}const Qi=ve({\u0275prov:ve}),Dr=ve({\u0275inj:ve}),gi=ve({ngInjectableDef:ve}),Ws=ve({ngInjectorDef:ve});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Cn;function tr(s){const o=Cn;return Cn=s,o}function _i(s,o,l){const c=ki(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&pt.Optional?null:void 0!==o?o:void Re(pe(s),"Injector")}function nr(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),tt=(()=>{return(s=tt||(tt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",tt;var s})();const vt="undefined"!=typeof globalThis&&globalThis,hr="undefined"!=typeof window&&window,Br="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=vt||"undefined"!=typeof global&&global||hr||Br,Gt={},Zt=[],j=ve({\u0275cmp:ve}),W=ve({\u0275dir:ve}),U=ve({\u0275pipe:ve}),Q=ve({\u0275mod:ve}),$=ve({\u0275fac:ve}),Ie=ve({__NG_ELEMENT_ID__:ve});let Ge=0;function at(s){return nr(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Zt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||tt.Emulated,id:"c",styles:s.styles||Zt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return c.id+=Ge++,c.inputs=To(s.inputs,l),c.outputs=To(s.outputs),g&&g.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(zt):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Wn):null,c})}function an(s,o,l){const c=s.\u0275cmp;c.directiveDefs=()=>o.map(zt),c.pipeDefs=()=>l.map(Wn)}function zt(s){return In(s)||function(s){return s[W]||null}(s)}function Wn(s){return function(s){return s[U]||null}(s)}const Ft={};function Ir(s){return nr(()=>{const o={type:s.type,bootstrap:s.bootstrap||Zt,declarations:s.declarations||Zt,imports:s.imports||Zt,exports:s.exports||Zt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ft[s.id]=s.type),o})}function To(s,o){if(null==s)return Gt;const l={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=c,o&&(o[h]=g)}return l}const ga=at;function ul(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function In(s){return s[j]||null}function An(s,o){const l=s[Q]||null;if(!l&&!0===o)throw new Error(`Type ${pe(s)} does not have '\u0275mod' property.`);return l}function Ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function ni(s){return Array.isArray(s)&&!0===s[1]}function lh(s){return 0!=(8&s.flags)}function Fi(s){return 2==(2&s.flags)}function cu(s){return 1==(1&s.flags)}function $r(s){return null!==s.template}function uh(s){return 0!=(512&s[2])}function Gr(s,o){return s.hasOwnProperty($)?s[$]:null}class xs{constructor(o,l,c){this.previousValue=o,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function eo(){return hu}function hu(s){return s.type.prototype.ngOnChanges&&(s.setInput=kc),dh}function dh(){const s=no(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===Gt)s.previous=o;else for(let c in o)l[c]=o[c];s.current=null,this.ngOnChanges(o)}}function kc(s,o,l,c){const h=no(s)||function(s,o){return s[to]=o}(s,{previous:Gt,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[l],C=v[E];g[E]=new xs(C&&C.currentValue,o,v===Gt),s[c]=o}eo.ngInherit=!0;const to="__ngSimpleChanges__";function no(s){return s[to]||null}let fl;function fu(s){fl=s}function tn(s){return!!s.listen}const pu={createRenderer:(s,o)=>void 0!==fl?fl:"undefined"!=typeof document?document:void 0};function yn(s){for(;Array.isArray(s);)s=s[0];return s}function Os(s,o){return yn(o[s])}function sr(s,o){return yn(o[s.index])}function io(s,o){return s.data[o]}function qt(s,o){const l=o[s];return Ni(l)?l:l[0]}function Oo(s){return 4==(4&s[2])}function Ro(s){return 128==(128&s[2])}function Tr(s,o){return null==o?null:s[o]}function Po(s){s[18]=0}function No(s,o){s[5]+=o;let l=s,c=s[3];for(;null!==c&&(1===o&&1===l[5]||-1===o&&0===l[5]);)c[5]+=o,l=c,c=c[3]}const ct={lFrame:wl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fo(){return ct.bindingsEnabled}function Se(){return ct.lFrame.lView}function Bt(){return ct.lFrame.tView}function ao(s){return ct.lFrame.contextLView=s,s[8]}function vn(){let s=ml();for(;null!==s&&64===s.type;)s=s.parent;return s}function ml(){return ct.lFrame.currentTNode}function Sr(s,o){const l=ct.lFrame;l.currentTNode=s,l.isParent=o}function Ea(){return ct.lFrame.isParent}function Ca(){ct.lFrame.isParent=!1}function _l(){return ct.isInCheckNoChangesMode}function lo(s){ct.isInCheckNoChangesMode=s}function Lo(){return ct.lFrame.bindingIndex++}function yu(s,o){const l=ct.lFrame;l.bindingIndex=l.bindingRootIndex=s,Da(o)}function Da(s){ct.lFrame.currentDirectiveIndex=s}function Vo(s){const o=ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function vl(){return ct.lFrame.currentQueryIndex}function Bo(s){ct.lFrame.currentQueryIndex=s}function Lc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function bl(s,o,l){if(l&pt.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||l&pt.Host||(h=Lc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=ct.lFrame=wu();return c.currentTNode=o,c.lView=s,!0}function bu(s){const o=wu(),l=s[1];ct.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function wu(){const s=ct.lFrame,o=null===s?null:s.child;return null===o?wl(s):o}function wl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ia(){const s=ct.lFrame;return ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Vc=Ia;function ks(){const s=Ia();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function gn(){return ct.lFrame.selectedIndex}function Ps(s){ct.lFrame.selectedIndex=s}function mn(){const s=ct.lFrame;return io(s.tView,s.selectedIndex)}function Ta(s,o){for(let l=o.directiveStart,c=o.directiveEnd;l<c;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:O}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),E&&((s.contentHooks||(s.contentHooks=[])).push(l,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),M&&((s.viewHooks||(s.viewHooks=[])).push(l,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,M)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(l,O)}}function Du(s,o,l){co(s,o,3,l)}function Bc(s,o,l,c){(3&s[2])===l&&co(s,o,l,c)}function El(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function co(s,o,l,c){const g=null!=c?c:-1,v=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<v;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<g||-1==g)&&(Cl(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Cl(s,o,l,c){const h=l[c]<0,g=l[c+1],E=s[h?-l[c]:l[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Sa{constructor(o,l,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Ns(s,o,l){const c=tn(s);let h=0;for(;h<l.length;){const g=l[h];if("number"==typeof g){if(0!==g)break;h++;const v=l[h++],E=l[h++],C=l[h++];c?s.setAttribute(o,E,C,v):o.setAttributeNS(v,E,C)}else{const v=g,E=l[++h];Ar(v)?c&&s.setProperty(o,v,E):c?s.setAttribute(o,v,E):o.setAttribute(v,E),h++}}return h}function Uc(s){return 3===s||4===s||6===s}function Ar(s){return 64===s.charCodeAt(0)}function Fs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?l=h:0===l||Fn(s,l,h,null,-1===l||2===l?o[++c]:null)}}return s}function Fn(s,o,l,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===l){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function mr(s){return-1!==s}function Ho(s){return 32767&s}function _r(s,o){let l=function(s){return s>>16}(s),c=o;for(;l>0;)c=c[15],l--;return c}let dn=!0;function Qe(s){const o=dn;return dn=s,o}let Iu=0;function Ct(s,o){const l=Tu(s,o);if(-1!==l)return l;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,$o(c.data,s),$o(o,null),$o(c.blueprint,null));const h=wi(s,o),g=s.injectorIndex;if(mr(h)){const v=Ho(h),E=_r(h,o),C=E[1].data;for(let M=0;M<8;M++)o[g+M]=E[v+M]|C[v+M]}return o[g+8]=h,g}function $o(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Tu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function wi(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(l++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function Ma(s,o,l){!function(s,o,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Ie)&&(c=l[Ie]),null==c&&(c=l[Ie]=Iu++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function xa(s,o,l){if(l&pt.Optional)return s;Re(o,"NodeInjector")}function fo(s,o,l,c){if(l&pt.Optional&&void 0===c&&(c=null),0==(l&(pt.Self|pt.Host))){const h=s[9],g=tr(void 0);try{return h?h.get(o,c,l&pt.Optional):_i(o,c,l&pt.Optional)}finally{tr(g)}}return xa(c,o,l)}function Oa(s,o,l,c=pt.Default,h){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ie)?s[Ie]:void 0;return"number"==typeof o?o>=0?255&o:Su:o}(l);if("function"==typeof g){if(!bl(o,s,c))return c&pt.Host?xa(h,l,c):fo(o,l,c,h);try{const v=g(c);if(null!=v||c&pt.Optional)return v;Re(l)}finally{Vc()}}else if("number"==typeof g){let v=null,E=Tu(s,o),C=-1,M=c&pt.Host?o[16][6]:null;for((-1===E||c&pt.SkipSelf)&&(C=-1===E?wi(s,o):o[E+8],-1!==C&&Dl(c,!1)?(v=o[1],E=Ho(C),o=_r(C,o)):E=-1);-1!==E;){const O=o[1];if(jc(g,E,O.data)){const F=Au(E,o,l,v,c,M);if(F!==Ra)return F}C=o[E+8],-1!==C&&Dl(c,o[1].data[E+8]===M)&&jc(g,E,o)?(v=O,E=Ho(C),o=_r(C,o)):E=-1}}}return fo(o,l,c,h)}const Ra={};function Su(){return new Ei(vn(),Se())}function Au(s,o,l,c,h,g){const v=o[1],E=v.data[s+8],O=is(E,v,l,null==c?Fi(E)&&dn:c!=v&&0!=(3&E.type),h&pt.Host&&g===E);return null!==O?si(o,v,O,E):Ra}function is(s,o,l,c,h){const g=s.providerIndexes,v=o.data,E=1048575&g,C=s.directiveStart,O=g>>20,z=h?E+O:s.directiveEnd;for(let te=c?E:E+O;te<z;te++){const ye=v[te];if(te<C&&l===ye||te>=C&&ye.type===l)return te}if(h){const te=v[C];if(te&&$r(te)&&te.type===l)return C}return null}function si(s,o,l,c){let h=s[l];const g=o.data;if(function(s){return s instanceof Sa}(h)){const v=h;v.resolving&&function(s,o){throw new He("200",`Circular dependency in DI detected for ${s}`)}(Ce(g[l]));const E=Qe(v.canSeeViewProviders);v.resolving=!0;const C=v.injectImpl?tr(v.injectImpl):null;bl(s,c,pt.Default);try{h=s[l]=v.factory(void 0,g,s,c),o.firstCreatePass&&l>=c.directiveStart&&function(s,o,l){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=hu(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==C&&tr(C),Qe(E),v.resolving=!1,Vc()}}return h}function jc(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function Dl(s,o){return!(s&pt.Self||s&pt.Host&&o)}class Ei{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,c){return Oa(this._tNode,this._lView,o,c,l)}}function Il(s){return nr(()=>{const o=s.prototype.constructor,l=o[$]||Hc(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[$]||Hc(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Hc(s){return We(s)?()=>{const o=Hc(re(s));return o&&o()}:Gr(s)}function Ci(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const c=l.length;let h=0;for(;h<c;){const g=l[h];if(Uc(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof l[h];)h++;else{if(g===o)return l[h+1];h+=2}}}return null}(vn(),s)}const Vi="__parameters__";function Mr(s,o,l){return nr(()=>{const c=function(s){return function(...l){if(s){const c=s(...l);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(C,M,O){const F=C.hasOwnProperty(Vi)?C[Vi]:Object.defineProperty(C,Vi,{value:[]})[Vi];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Tn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=on({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const mh=new Tn("AnalyzeForEntryComponents");function xr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(o===s&&(o=s.slice(0,l)),xr(c,o)):o!==s&&o.push(c)}return o}function Kn(s,o){s.forEach(l=>Array.isArray(l)?Kn(l,o):o(l))}function ku(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function po(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function oi(s,o){const l=[];for(let c=0;c<s;c++)l.push(o);return l}function vr(s,o,l){let c=Ls(s,o);return c>=0?s[1|c]=l:(c=~c,function(s,o,l,c){let h=s.length;if(h==o)s.push(l,c);else if(1===h)s.push(c,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=c}}(s,c,o,l)),c}function Na(s,o){const l=Ls(s,o);if(l>=0)return s[1|l]}function Ls(s,o){return function(s,o,l){let c=0,h=s.length>>l;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<l];if(o===v)return g<<l;v>o?h=g:c=g+1}return~(h<<l)}(s,o,1)}const ss={},Gc="__NG_DI_FLAG__",Lu="ngTempTokenPath",zc=/\n/gm,yh="__source",vh=ve({provide:String,useValue:ve});let go;function Rl(s){const o=go;return go=s,o}function Tp(s,o=pt.Default){if(void 0===go)throw new Error("inject() must be called from an injection context");return null===go?_i(s,void 0,o):go.get(s,o&pt.Optional?null:void 0,o)}function lr(s,o=pt.Default){return(Cn||Tp)(re(s),o)}const T=lr;function R(s){const o=[];for(let l=0;l<s.length;l++){const c=re(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,g=pt.Default;for(let v=0;v<c.length;v++){const E=c[v],C=ee(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(lr(h,g))}else o.push(lr(c))}return o}function V(s,o){return s[Gc]=o,s.prototype[Gc]=o,s}function ee(s){return s[Gc]}const ze=V(Mr("Inject",s=>({token:s})),-1),ot=V(Mr("Optional"),8),It=V(Mr("SkipSelf"),4);class y_{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hs(s){return s instanceof y_?s.changingThisBreaksApplicationSecurity:s}const kp=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Yn=(()=>((Yn=Yn||{})[Yn.NONE=0]="NONE",Yn[Yn.HTML=1]="HTML",Yn[Yn.STYLE=2]="STYLE",Yn[Yn.SCRIPT=3]="SCRIPT",Yn[Yn.URL=4]="URL",Yn[Yn.RESOURCE_URL=5]="RESOURCE_URL",Yn))();function Up(s){const o=function(){const s=Se();return s&&s[12]}();return o?o.sanitize(Yn.URL,s)||"":function(s,o){const l=function(s){return s instanceof y_&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Hs(s):function(s){return(s=String(s)).match(kp)||s.match(Qc)?s:"unsafe:"+s}(ie(s))}const P_="__ngContext__";function Zr(s,o){s[P_]=o}function id(s){const o=function(s){return s[P_]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function mo(s){return s.ngOriginalError}function f0(s,...o){s.error(...o)}class od{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),c=(s=o)&&s.ngErrorLogger||f0;var s;c(this._console,"ERROR",o),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&mo(o);for(;l&&mo(l);)l=mo(l);return l||null}}const z_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function ld(s){return s.ownerDocument.defaultView}function _o(s){return s instanceof Function?s():s}var S=(()=>((S=S||{})[S.Important=1]="Important",S[S.DashCase=2]="DashCase",S))();function J(s,o){return undefined(s,o)}function Xe(s){const o=s[3];return ni(o)?o[3]:o}function Gn(s){return ud(s[13])}function $i(s){return ud(s[4])}function ud(s){for(;null!==s&&!ni(s);)s=s[4];return s}function Va(s,o,l,c,h){if(null!=c){let g,v=!1;ni(c)?g=c:Ni(c)&&(v=!0,c=c[0]);const E=yn(c);0===s&&null!==l?null==h?iI(o,l,E):cd(o,l,E,h||null,!0):1===s&&null!==l?cd(o,l,E,h||null,!0):2===s?function(s,o,l){const c=Z_(s,o);c&&function(s,o,l,c){tn(s)?s.removeChild(o,l,c):o.removeChild(l)}(s,c,o,l)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function(s,o,l,c,h){const g=l[7];g!==yn(l)&&Va(o,s,c,g,h);for(let E=10;E<l.length;E++){const C=l[E];Ba(C[1],C,s,o,c,g)}}(o,s,g,l,h)}}function xh(s,o,l){return tn(s)?s.createElement(o,l):null===l?s.createElement(o):s.createElementNS(l,o)}function eI(s,o){const l=s[9],c=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,No(h,-1)),l.splice(c,1)}function b0(s,o){if(s.length<=10)return;const l=10+o,c=s[l];if(c){const h=c[17];null!==h&&h!==s&&eI(h,c),o>0&&(s[l-1][4]=c[4]);const g=po(s,10+o);!function(s,o){Ba(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function tI(s,o){if(!(256&o[2])){const l=o[11];tn(l)&&l.destroyNode&&Ba(s,o,l,3,null,null),function(s){let o=s[13];if(!o)return w0(s[1],s);for(;o;){let l=null;if(Ni(o))l=o[13];else{const c=o[10];c&&(l=c)}if(!l){for(;o&&!o[4]&&o!==s;)Ni(o)&&w0(o[1],o),o=o[3];null===o&&(o=s),Ni(o)&&w0(o[1],o),l=o&&o[4]}o=l}}(o)}}function w0(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const h=o[l[c]];if(!(h instanceof Sa)){const g=l[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],C=g[v+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function(s,o){const l=s.cleanup,c=o[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],E="function"==typeof v?v(o):yn(o[v]),C=c[h=l[g+2]],M=l[g+3];"boolean"==typeof M?E.removeEventListener(l[g],C,M):M>=0?c[h=M]():c[h=-M].unsubscribe(),g+=2}else{const v=c[h=l[g+1]];l[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&tn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&ni(o[3])){l!==o[3]&&eI(l,o);const c=o[19];null!==c&&c.detachView(s)}}}function nI(s,o,l){return function(s,o,l){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return l[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===tt.None||h===tt.Emulated)return null}return sr(c,l)}(s,o.parent,l)}function cd(s,o,l,c,h){tn(s)?s.insertBefore(o,l,c,h):o.insertBefore(l,c,h)}function iI(s,o,l){tn(s)?s.appendChild(o,l):o.appendChild(l)}function sI(s,o,l,c,h){null!==c?cd(s,o,l,c,h):iI(s,o,l)}function Z_(s,o){return tn(s)?s.parentNode(o):o.parentNode}function oI(s,o,l){return lI(s,o,l)}let lI=function(s,o,l){return 40&s.type?sr(s,l):null};function K_(s,o,l,c){const h=nI(s,c,o),g=o[11],E=oI(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)sI(g,h,l[C],E,!1);else sI(g,h,l,E,!1)}function Y_(s,o){if(null!==o){const l=o.type;if(3&l)return sr(o,s);if(4&l)return Q_(-1,s[o.index]);if(8&l){const c=o.child;if(null!==c)return Y_(s,c);{const h=s[o.index];return ni(h)?Q_(-1,h):yn(h)}}if(32&l)return J(o,s)()||yn(s[o.index]);{const c=cI(s,o);return null!==c?Array.isArray(c)?c[0]:Y_(Xe(s[16]),c):Y_(s,o.next)}}return null}function cI(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Q_(s,o){const l=10+s+1;if(l<o.length){const c=o[l],h=c[1].firstChild;if(null!==h)return Y_(c,h)}return o[7]}function J_(s,o,l,c,h,g,v){for(;null!=l;){const E=c[l.index],C=l.type;if(v&&0===o&&(E&&Zr(yn(E),c),l.flags|=4),64!=(64&l.flags))if(8&C)J_(s,o,l.child,c,h,g,!1),Va(o,s,h,E,g);else if(32&C){const M=J(l,c);let O;for(;O=M();)Va(o,s,h,O,g);Va(o,s,h,E,g)}else 16&C?I0(s,o,c,l,h,g):Va(o,s,h,E,g);l=v?l.projectionNext:l.next}}function Ba(s,o,l,c,h,g){J_(l,c,s.firstChild,o,h,g,!1)}function I0(s,o,l,c,h,g){const v=l[16],C=v[6].projection[c.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)Va(o,s,h,C[M],g);else J_(s,o,C,v[3],h,g,!0)}function dI(s,o,l){tn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Qp(s,o,l){tn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function hI(s,o,l){let c=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}l=h+1}}const fI="ng-template";function pI(s,o,l){let c=0;for(;c<s.length;){let h=s[c++];if(l&&"class"===h){if(h=s[c],-1!==hI(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function gI(s){return 4===s.type&&s.value!==fI}function Px(s,o,l){return o===(4!==s.type||l?s.value:fI)}function Nx(s,o,l){let c=4;const h=s.attrs||[],g=function(s){for(let o=0;o<s.length;o++)if(Uc(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!v)if(4&c){if(c=2|1&c,""!==C&&!Px(s,C,l)||""===C&&1===o.length){if(Jo(c))return!1;v=!0}}else{const M=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!pI(s.attrs,M,l)){if(Jo(c))return!1;v=!0}continue}const F=Fx(8&c?"class":C,h,gI(s),l);if(-1===F){if(Jo(c))return!1;v=!0;continue}if(""!==M){let z;z=F>g?"":h[F+1].toLowerCase();const te=8&c?z:null;if(te&&-1!==hI(te,M,0)||2&c&&M!==z){if(Jo(c))return!1;v=!0}}}}else{if(!v&&!Jo(c)&&!Jo(C))return!1;if(v&&Jo(C))continue;v=!1,c=C|1&c}}return Jo(c)||v}function Jo(s){return 0==(1&s)}function Fx(s,o,l,c){if(null===o)return-1;let h=0;if(c||!l){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===o)return l;l++}return-1}(o,s)}function mI(s,o,l=!1){for(let c=0;c<o.length;c++)if(Nx(s,o[c],l))return!0;return!1}function S0(s,o){e:for(let l=0;l<o.length;l++){const c=o[l];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function A0(s,o){return s?":not("+o.trim()+")":o}function _I(s){let o=s[0],l=1,c=2,h="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&c){const E=s[++l];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!Jo(v)&&(o+=A0(g,h),h=""),c=v,g=g||!Jo(c);l++}return""!==h&&(o+=A0(g,h)),o}const Ot={};function M0(s){x0(Bt(),Se(),gn()+s,_l())}function x0(s,o,l,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Du(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Bc(o,g,0,l)}Ps(l)}function Oh(s,o){return s<<17|o<<2}function yo(s){return s>>17&32767}function ey(s){return 2|s}function Ua(s){return(131068&s)>>2}function R0(s,o){return-131069&s|o<<2}function k0(s){return 1|s}function OI(s,o){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const h=l[c],g=l[c+1];if(-1!==g){const v=s.data[g];Bo(h),v.contentQueries(2,o[g],g)}}}function rg(s,o,l,c,h,g,v,E,C,M){const O=o.blueprint.slice();return O[0]=h,O[2]=140|c,Po(O),O[3]=O[15]=s,O[8]=l,O[10]=v||s&&s[10],O[11]=E||s&&s[11],O[12]=C||s&&s[12]||null,O[9]=M||s&&s[9]||null,O[6]=g,O[16]=2==o.type?s[16]:O,O}function kh(s,o,l,c,h){let g=s.data[o];if(null===g)g=function(s,o,l,c,h){const g=ml(),v=Ea(),C=s.data[o]=function(s,o,l,c,h,g){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(v?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,l,c,h),ct.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=c,g.attrs=h;const v=function(){const s=ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Sr(g,!0),g}function Ph(s,o,l,c){if(0===l)return-1;const h=o.length;for(let g=0;g<l;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function ig(s,o,l){bu(o);try{const c=s.viewQuery;null!==c&&Ul(1,c,l);const h=s.template;null!==h&&kI(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&OI(s,o),s.staticViewQueries&&Ul(2,s.viewQuery,l);const g=s.components;null!==g&&function(s,o){for(let l=0;l<o.length;l++)Bl(s,o[l])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,ks()}}function Nh(s,o,l,c){const h=o[2];if(256==(256&h))return;bu(o);const g=_l();try{Po(o),function(s){ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&kI(s,o,l,2,c);const v=3==(3&h);if(!g)if(v){const M=s.preOrderCheckHooks;null!==M&&Du(o,M,null)}else{const M=s.preOrderHooks;null!==M&&Bc(o,M,0,null),El(o,0)}if(function(s){for(let o=Gn(s);null!==o;o=$i(o)){if(!o[2])continue;const l=o[9];for(let c=0;c<l.length;c++){const h=l[c],g=h[3];0==(1024&h[2])&&No(g,1),h[2]|=1024}}}(o),function(s){for(let o=Gn(s);null!==o;o=$i(o))for(let l=10;l<o.length;l++){const c=o[l],h=c[1];Ro(c)&&Nh(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&OI(s,o),!g)if(v){const M=s.contentCheckHooks;null!==M&&Du(o,M)}else{const M=s.contentHooks;null!==M&&Bc(o,M,1),El(o,1)}!function(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const h=l[c];if(h<0)Ps(~h);else{const g=h,v=l[++c],E=l[++c];yu(v,g),E(2,o[g])}}}finally{Ps(-1)}}(s,o);const E=s.components;null!==E&&function(s,o){for(let l=0;l<o.length;l++)oO(s,o[l])}(o,E);const C=s.viewQuery;if(null!==C&&Ul(2,C,c),!g)if(v){const M=s.viewCheckHooks;null!==M&&Du(o,M)}else{const M=s.viewHooks;null!==M&&Bc(o,M,2),El(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,No(o[3],-1))}finally{ks()}}function qx(s,o,l,c){const h=o[10],g=!_l(),v=Oo(o);try{g&&!v&&h.begin&&h.begin(),v&&ig(s,o,c),Nh(s,o,l,c)}finally{g&&!v&&h.end&&h.end()}}function kI(s,o,l,c,h){const g=gn(),v=2&c;try{Ps(-1),v&&o.length>20&&x0(s,o,20,_l()),l(c,h)}finally{Ps(g)}}function PI(s,o,l){if(lh(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function sg(s,o,l){!Fo()||(function(s,o,l,c){const h=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Ct(l,o),Zr(c,o);const v=l.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],M=$r(C);M&&lg(o,l,C);const O=si(o,s,E,l);Zr(O,o),null!==v&&Vl(0,E-h,O,C,0,v),M&&(qt(l.index,o)[8]=O)}}(s,o,l,sr(l,o)),128==(128&l.flags)&&function(s,o,l){const c=l.directiveStart,h=l.directiveEnd,v=l.index,E=ct.lFrame.currentDirectiveIndex;try{Ps(v);for(let C=c;C<h;C++){const M=s.data[C],O=o[C];Da(C),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&UI(M,O)}}finally{Ps(-1),Da(E)}}(s,o,l))}function H0(s,o,l=sr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],E=-1===v?l(o,s):s[v];s[h++]=E}}}function NI(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ll(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ll(s,o,l,c,h,g,v,E,C,M){const O=20+c,F=O+h,z=function(s,o){const l=[];for(let c=0;c<o;c++)l.push(c<s?null:Ot);return l}(O,F),te="function"==typeof M?M():M;return z[1]={type:s,blueprint:z,template:l,queries:null,viewQuery:E,declTNode:o,data:z.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:C,consts:te,incompleteFirstPass:!1}}function og(s,o,l,c){const h=uy(o);null===l?h.push(c):(h.push(l),s.firstCreatePass&&cg(s).push(c,h.length-1))}function iy(s,o,l){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(o,h):l[c]=[o,h]}return l}function ds(s,o,l,c,h,g,v,E){const C=sr(o,l);let O,M=o.inputs;!E&&null!=M&&(O=M[c])?(dg(s,l,O,c,h),Fi(o)&&function(s,o){const l=qt(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,tn(g)?g.setProperty(C,c,h):Ar(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}function q0(s,o,l,c){let h=!1;if(Fo()){const g=function(s,o,l){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];mI(l,v.selectors,!1)&&(h||(h=[]),Ma(Ct(l,o),s,v.type),$r(v)?(jI(s,l),h.unshift(v)):h.push(v))}return h}(s,o,l),v=null===c?null:{"":-1};if(null!==g){h=!0,HI(l,s.data.length,g.length);for(let O=0;O<g.length;O++){const F=g[O];F.providersResolver&&F.providersResolver(F)}let E=!1,C=!1,M=Ph(s,o,g.length,null);for(let O=0;O<g.length;O++){const F=g[O];l.mergedAttrs=Fs(l.mergedAttrs,F.hostAttrs),ag(s,l,o,M,F),iO(M,F,v),null!==F.contentQueries&&(l.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=128);const z=F.type.prototype;!E&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),E=!0),!C&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),M++}!function(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,C=null;for(let M=o.directiveStart;M<c;M++){const O=h[M],F=O.inputs,z=null===g||gI(o)?null:W0(F,g);v.push(z),E=iy(F,M,E),C=iy(O.outputs,M,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=C}(s,l)}v&&function(s,o,l){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=l[o[h+1]];if(null==g)throw new He("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],g)}}}(l,c,v)}return l.mergedAttrs=Fs(l.mergedAttrs,l.attrs),h}function BI(s,o,l,c,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(E)!=C&&E.push(C),E.push(c,h,v)}}function UI(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jI(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function iO(s,o,l){if(l){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)l[o.exportAs[c]]=s;$r(o)&&(l[""]=s)}}function HI(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function ag(s,o,l,c,h){s.data[c]=h;const g=h.factory||(h.factory=Gr(h.type)),v=new Sa(g,$r(h),null);s.blueprint[c]=v,l[c]=v,BI(s,o,0,c,Ph(s,l,h.hostVars,Ot),h)}function lg(s,o,l){const c=sr(o,s),h=NI(l),g=s[10],v=ay(s,rg(s,h,null,l.onPush?64:16,c,o,g,g.createRenderer(c,l),null,null));s[o.index]=v}function Xo(s,o,l,c,h,g){const v=sr(s,o);!function(s,o,l,c,h,g,v){if(null==g)tn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const E=null==v?ie(g):v(g,c||"",h);tn(s)?s.setAttribute(o,h,E,l):l?o.setAttributeNS(l,h,E):o.setAttribute(h,E)}}(o[11],v,g,s.value,l,c,h)}function Vl(s,o,l,c,h,g){const v=g[o];if(null!==v){const E=c.setInput;for(let C=0;C<v.length;){const M=v[C++],O=v[C++],F=v[C++];null!==E?c.setInput(l,F,M,O):l[O]=F}}}function W0(s,o){let l=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return l}function ea(s,o,l,c){return new Array(s,!0,!1,o,null,0,c,l,null,null)}function oO(s,o){const l=qt(o,s);if(Ro(l)){const c=l[1];80&l[2]?Nh(c,l,c.template,l[8]):l[5]>0&&ug(l)}}function ug(s){for(let c=Gn(s);null!==c;c=$i(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];Nh(v,g,v.template,g[8])}else g[5]>0&&ug(g)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const h=qt(l[c],s);Ro(h)&&h[5]>0&&ug(h)}}function Bl(s,o){const l=qt(o,s),c=l[1];(function(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(c,l),ig(c,l,l[8])}function ay(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Lh(s){for(;s;){s[2]|=64;const o=Xe(s);if(uh(s)&&!o)return s;s=o}return null}function Y0(s,o,l){const c=o[10];c.begin&&c.begin();try{Nh(s,o,s.template,l)}catch(h){throw cy(o,h),h}finally{c.end&&c.end()}}function $I(s){!function(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],c=id(l),h=c[1];qx(h,c,h.template,l)}}(s[8])}function Ul(s,o,l){Bo(0),o(s,l)}const ly=(()=>Promise.resolve(null))();function uy(s){return s[7]||(s[7]=[])}function cg(s){return s.cleanup||(s.cleanup=[])}function ja(s,o,l){return(null===s||$r(s))&&(l=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function cy(s,o){const l=s[9],c=l?l.get(od,null):null;c&&c.handleError(o)}function dg(s,o,l,c,h){for(let g=0;g<l.length;){const v=l[g++],E=l[g++],C=o[v],M=s.data[v];null!==M.setInput?M.setInput(C,h,c,E):C[E]=h}}function vo(s,o,l){const c=Os(o,s);!function(s,o,l){tn(s)?s.setValue(o,l):o.textContent=l}(s[11],c,l)}function dd(s,o,l){let c=l?s.styles:null,h=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=_e(h,E):2==g&&(c=_e(c,E+": "+o[++v]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=h:s.classesWithoutHost=h}const hg=new Tn("INJECTOR",-1);class zI{get(o,l=ss){if(l===ss){const c=new Error(`NullInjectorError: No provider for ${pe(o)}!`);throw c.name="NullInjectorError",c}return l}}const dy=new Tn("Set Injector scope."),bo={},ew={};let Vh;function tw(){return void 0===Vh&&(Vh=new zI),Vh}function fg(s,o=null,l=null,c){const h=pg(s,o,l,c);return h._resolveInjectorDefTypes(),h}function pg(s,o=null,l=null,c){return new nw(s,l,o||tw(),c)}class nw{constructor(o,l,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&Kn(l,E=>this.processProvider(E,o,l)),Kn([o],E=>this.processInjectorType(E,[],g)),this.records.set(hg,hd(void 0,this));const v=this.records.get(dy);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:pe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=ss,c=pt.Default){this.assertNotDestroyed();const h=Rl(this),g=tr(void 0);try{if(!(c&pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=("function"==typeof(s=o)||"object"==typeof s&&s instanceof Tn)&&ki(o);E=C&&this.injectableDefInScope(C)?hd(gg(o),bo):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&pt.Self?tw():this.parent).get(o,l=c&pt.Optional&&l===ss?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[Lu]=v[Lu]||[]).unshift(pe(o)),h)throw v;return function(s,o,l,c){const h=s[Lu];throw o[yh]&&h.unshift(o[yh]),s.message=function(s,o,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=pe(o);if(Array.isArray(o))h=o.map(pe).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}h=`{${g.join(", ")}}`}return`${l}${c?"("+c+")":""}[${h}]: ${s.replace(zc,"\n  ")}`}("\n"+s.message,h,l,c),s.ngTokenPath=h,s[Lu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{tr(g),Rl(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(pe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,l,c){if(!(o=re(o)))return!1;let h=Ds(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,E=-1!==c.indexOf(v);if(void 0!==g&&(h=Ds(g)),null==h)return!1;if(null!=h.imports&&!E){let O;c.push(v);try{Kn(h.imports,F=>{this.processInjectorType(F,l,c)&&(void 0===O&&(O=[]),O.push(F))})}finally{}if(void 0!==O)for(let F=0;F<O.length;F++){const{ngModule:z,providers:te}=O[F];Kn(te,ye=>this.processProvider(ye,z,te||Zt))}}this.injectorDefTypes.add(v);const C=Gr(v)||(()=>new v);this.records.set(v,hd(C,bo));const M=h.providers;if(null!=M&&!E){const O=o;Kn(M,F=>this.processProvider(F,O,M))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,c){let h=Ha(o=re(o))?o:re(o&&o.provide);const g=(s=o,mg(s)?hd(void 0,s.useValue):hd(fy(s),bo));var s;if(Ha(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=hd(void 0,bo,!0),v.factory=()=>R(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,l){return l.value===bo&&(l.value=ew,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const l=re(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function gg(s){const o=ki(s),l=null!==o?o.factory:Gr(s);if(null!==l)return l;if(s instanceof Tn)throw new Error(`Token ${pe(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=oi(o,"?");throw new Error(`Can't resolve all parameters for ${pe(s)}: (${c.join(", ")}).`)}const l=function(s){const o=s&&(s[Qi]||s[gi]);if(o){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function fy(s,o,l){let c;if(Ha(s)){const h=re(s);return Gr(h)||gg(h)}if(mg(s))c=()=>re(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...R(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>lr(re(s.useExisting));else{const h=re(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Gr(h)||gg(h);c=()=>new h(...R(s.deps))}return c}function hd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function mg(s){return null!==s&&"object"==typeof s&&vh in s}function Ha(s){return"function"==typeof s}let Ai=(()=>{class s{static create(l,c){var h;if(Array.isArray(l))return fg({name:""},c,l,"");{const g=null!==(h=l.name)&&void 0!==h?h:"";return fg({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=ss,s.NULL=new zI,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>lr(hg)}),s.__NG_ELEMENT_ID__=-1,s})();function dw(s,o){Ta(id(s)[1],vn())}function Hh(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;o;){let h;if($r(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(l){c.push(h);const v=s;v.inputs=Ey(s.inputs),v.declaredInputs=Ey(s.declaredInputs),v.outputs=Ey(s.outputs);const E=h.hostBindings;E&&YI(s,E);const C=h.viewQuery,M=h.contentQueries;if(C&&ZI(s,C),M&&KI(s,M),se(s.inputs,h.inputs),se(s.declaredInputs,h.declaredInputs),se(s.outputs,h.outputs),$r(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Hh&&(l=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,l=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Fs(h.hostAttrs,l=Fs(l,h.hostAttrs))}}(c)}function Ey(s){return s===Gt?{}:s===Zt?[]:s}function ZI(s,o){const l=s.viewQuery;s.viewQuery=l?(c,h)=>{o(c,h),l(c,h)}:o}function KI(s,o){const l=s.contentQueries;s.contentQueries=l?(c,h,g)=>{o(c,h,g),l(c,h,g)}:o}function YI(s,o){const l=s.hostBindings;s.hostBindings=l?(c,h)=>{o(c,h),l(c,h)}:o}let na=null;function jl(){if(!na){const s=Qt.Symbol;if(s&&s.iterator)na=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const c=o[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(na=c)}}}return na}function Hl(s){return!!Dy(s)&&(Array.isArray(s)||!(s instanceof Map)&&jl()in s)}function Dy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Or(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function fd(s,o,l,c){const h=Se();return Or(h,Lo(),o)&&(Bt(),Xo(mn(),h,s,o,l,c)),fd}function vw(s,o,l,c,h,g,v,E){const C=Se(),M=Bt(),O=s+20,F=M.firstCreatePass?function(s,o,l,c,h,g,v,E,C){const M=o.consts,O=kh(o,s,4,v||null,Tr(M,E));q0(o,l,O,Tr(M,C)),Ta(o,O);const F=O.tViews=Ll(2,O,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,M);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,M,C,o,l,c,h,g,v):M.data[O];Sr(F,!1);const z=C[11].createComment("");K_(M,C,z,F),Zr(z,C),ay(C,C[O]=ea(z,C,z,F)),cu(F)&&sg(M,C,F),null!=v&&H0(C,F,E)}function Qu(s,o=pt.Default){const l=Se();return null===l?lr(s,o):Oa(vn(),l,re(s),o)}function Ny(){throw new Error("invalid")}function vd(s,o,l){const c=Se();return Or(c,Lo(),o)&&ds(Bt(),mn(),c,s,o,c[11],l,!1),vd}function Kh(s,o,l,c,h){const v=h?"class":"style";dg(s,l,o.inputs[v],v,c)}function Fy(s,o,l,c){const h=Se(),g=Bt(),v=20+s,E=h[11],C=h[v]=xh(E,o,ct.lFrame.currentNamespace),M=g.firstCreatePass?function(s,o,l,c,h,g,v){const E=o.consts,M=kh(o,s,2,h,Tr(E,g));return q0(o,l,M,Tr(E,v)),null!==M.attrs&&dd(M,M.attrs,!1),null!==M.mergedAttrs&&dd(M,M.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,M),M}(v,g,h,0,o,l,c):g.data[v];Sr(M,!0);const O=M.mergedAttrs;null!==O&&Ns(E,C,O);const F=M.classes;null!==F&&Qp(E,C,F);const z=M.styles;null!==z&&dI(E,C,z),64!=(64&M.flags)&&K_(g,h,C,M),0===ct.lFrame.elementDepthCount&&Zr(C,h),ct.lFrame.elementDepthCount++,cu(M)&&(sg(g,h,M),PI(g,M,h)),null!==c&&H0(h,M)}function Ly(){let s=vn();Ea()?Ca():(s=s.parent,Sr(s,!1));const o=s;ct.lFrame.elementDepthCount--;const l=Bt();l.firstCreatePass&&(Ta(l,s),lh(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&Kh(l,o,Se(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&Kh(l,o,Se(),o.stylesWithoutHost,!1)}function Vy(s,o,l,c){Fy(s,o,l,c),Ly()}function Tg(s,o,l){const c=Se(),h=Bt(),g=s+20,v=h.firstCreatePass?function(s,o,l,c,h){const g=o.consts,v=Tr(g,c),E=kh(o,s,8,"ng-container",v);return null!==v&&dd(E,v,!0),q0(o,l,E,Tr(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,c,o,l):h.data[g];Sr(v,!0);const E=c[g]=c[11].createComment("");K_(h,c,E,v),Zr(E,c),cu(v)&&(sg(h,c,v),PI(h,v,c)),null!=l&&H0(c,v)}function Sg(){let s=vn();const o=Bt();Ea()?Ca():(s=s.parent,Sr(s,!1)),o.firstCreatePass&&(Ta(o,s),lh(s)&&o.queries.elementEnd(s))}function Ow(){return Se()}function By(s){return!!s&&"function"==typeof s.then}function Uy(s){return!!s&&"function"==typeof s.subscribe}const vT=Uy;function Ag(s,o,l,c){const h=Se(),g=Bt(),v=vn();return Hy(g,h,h[11],v,s,o,!!l,c),Ag}function jy(s,o){const l=vn(),c=Se(),h=Bt();return Hy(h,c,ja(Vo(h.data),l,c),l,s,o,!1),jy}function Hy(s,o,l,c,h,g,v,E){const C=cu(c),O=s.firstCreatePass&&cg(s),F=o[8],z=uy(o);let te=!0;if(3&c.type||E){const Ke=sr(c,o),qe=E?E(Ke):Ke,De=z.length,gt=E?Vt=>E(yn(Vt[c.index])):c.index;if(tn(l)){let Vt=null;if(!E&&C&&(Vt=function(s,o,l,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===l&&h[g+1]===c){const E=o[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==Vt)(Vt.__ngLastListenerFn__||Vt).__ngNextListenerFn__=g,Vt.__ngLastListenerFn__=g,te=!1;else{g=$y(c,o,F,g,!1);const Ht=l.listen(qe,h,g);z.push(g,Ht),O&&O.push(h,gt,De,De+1)}}else g=$y(c,o,F,g,!0),qe.addEventListener(h,g,v),z.push(g),O&&O.push(h,gt,De,v)}else g=$y(c,o,F,g,!1);const ye=c.outputs;let Fe;if(te&&null!==ye&&(Fe=ye[h])){const Ke=Fe.length;if(Ke)for(let qe=0;qe<Ke;qe+=2){const Oi=o[Fe[qe]][Fe[qe+1]].subscribe(g),tu=z.length;z.push(g,Oi),O&&O.push(h,c.index,tu,-(tu+1))}}}function Rw(s,o,l,c){try{return!1!==l(c)}catch(h){return cy(s,h),!1}}function $y(s,o,l,c,h){return function g(v){if(v===Function)return c;const E=2&s.flags?qt(s.index,o):o;0==(32&o[2])&&Lh(E);let C=Rw(o,0,c,v),M=g.__ngNextListenerFn__;for(;M;)C=Rw(o,0,M,v)&&C,M=M.__ngNextListenerFn__;return h&&!1===C&&(v.preventDefault(),v.returnValue=!1),C}}function kw(s=1){return function(s){return(ct.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,ct.lFrame.contextLView))[8]}(s)}function Pw(s,o){let l=null;const c=function(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?mI(s,g,!0):S0(c,g))return h}else l=h}return l}function Yh(s){const o=Se()[16][6];if(!o.projection){const c=o.projection=oi(s?s.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const v=s?Pw(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function Gy(s,o=0,l){const c=Se(),h=Bt(),g=kh(h,20+s,16,null,l||null);null===g.projection&&(g.projection=o),Ca(),64!=(64&g.flags)&&function(s,o,l){I0(o[11],0,o,l,nI(s,l,o),oI(l.parent||o[6],l,o))}(h,c,g)}function Gw(s,o,l,c,h){const g=s[l+1],v=null===o;let E=c?yo(g):Ua(g),C=!1;for(;0!==E&&(!1===C||v);){const O=s[E+1];gO(s[E],o)&&(C=!0,s[E+1]=c?k0(O):ey(O)),E=c?yo(O):Ua(O)}C&&(s[l+1]=c?ey(g):k0(g))}function gO(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ls(s,o)>=0}function Og(s,o){return function(s,o,l,c){const h=Se(),g=Bt(),v=function(s){const o=ct.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function(s,o,l,c){const h=s.data;if(null===h[l+1]){const g=h[gn()],v=function(s,o){return o>=s.expandoStartIndex}(s,l);(function(s,o){return 0!=(s.flags&(o?16:32))})(g,c)&&null===o&&!v&&(o=!1),o=function(s,o,l,c){const h=Vo(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(l=Rg(l=fs(null,s,o,l,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(l=fs(h,s,o,l,c),null===g){let C=function(s,o,l){const c=l?o.classBindings:o.styleBindings;if(0!==Ua(c))return s[yo(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=fs(null,s,o,C[1],c),C=Rg(C,o.attrs,c),function(s,o,l,c){s[yo(l?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function(s,o,l){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Rg(c,s[g].hostAttrs,l);return Rg(c,o.attrs,l)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),l}(h,g,o,c),function(s,o,l,c,h,g){let v=g?o.classBindings:o.styleBindings,E=yo(v),C=Ua(v);s[c]=l;let O,M=!1;if(Array.isArray(l)){const F=l;O=F[1],(null===O||Ls(F,O)>0)&&(M=!0)}else O=l;if(h)if(0!==C){const z=yo(s[E+1]);s[c+1]=Oh(z,E),0!==z&&(s[z+1]=R0(s[z+1],c)),s[E+1]=function(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Oh(E,0),0!==E&&(s[E+1]=R0(s[E+1],c)),E=c;else s[c+1]=Oh(C,0),0===E?E=c:s[C+1]=R0(s[C+1],c),C=c;M&&(s[c+1]=ey(s[c+1])),Gw(s,O,c,!0),Gw(s,O,c,!1),function(s,o,l,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Ls(g,o)>=0&&(l[c+1]=k0(l[c+1]))}(o,O,s,c,g),v=Oh(E,C),g?o.classBindings=v:o.styleBindings=v}(h,g,o,l,v,c)}}(g,s,v,c),o!==Ot&&Or(h,v,o)&&function(s,o,l,c,h,g,v,E){if(!(3&o.type))return;const C=s.data,M=C[E+1];Lt(function(s){return 1==(1&s)}(M)?za(C,o,l,h,Ua(M),v):void 0)||(Lt(g)||function(s){return 2==(2&s)}(M)&&(g=za(C,null,l,h,E,v)),function(s,o,l,c,h){const g=tn(s);if(o)h?g?s.addClass(l,c):l.classList.add(c):g?s.removeClass(l,c):l.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:S.DashCase;if(null==h)g?s.removeStyle(l,c,v):l.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),v|=S.Important),g?s.setStyle(l,c,h,v):l.style.setProperty(c,h,E?"important":"")}}}(c,v,Os(gn(),l),h,g))}(g,g.data[gn()],h,h[11],s,h[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=pe(Hs(s)))),s}(o,l),c,v)}(s,o,null,!0),Og}function fs(s,o,l,c,h){let g=null;const v=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<v&&(g=o[E],c=Rg(c,g.hostAttrs,h),g!==s);)E++;return null!==s&&(l.directiveStylingLast=E),c}function Rg(s,o,l){const c=l?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vr(s,v,!!l||o[++g]))}return void 0===s?null:s}function za(s,o,l,c,h,g){const v=null===o;let E;for(;h>0;){const C=s[h],M=Array.isArray(C),O=M?C[1]:C,F=null===O;let z=l[h+1];z===Ot&&(z=F?Zt:void 0);let te=F?Na(z,c):O===c?z:void 0;if(M&&!Lt(te)&&(te=Na(C,c)),Lt(te)&&(E=te,v))return E;const ye=s[h+1];h=v?yo(ye):Ua(ye)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=Na(C,c))}return E}function Lt(s){return void 0!==s}function rt(s,o=""){const l=Se(),c=Bt(),h=s+20,g=c.firstCreatePass?kh(c,h,1,o,null):c.data[h],v=l[h]=function(s,o){return tn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);K_(c,l,v,g),Sr(g,!1)}function Xh(s){return At("",s,""),Xh}function At(s,o,l){const c=Se(),h=function(s,o,l,c){return Or(s,Lo(),l)?o+ie(l)+c:Ot}(c,s,o,l);return h!==Ot&&vo(c,gn(),h),At}function tf(s,o,l){const c=Se();return Or(c,Lo(),o)&&ds(Bt(),mn(),c,s,o,c[11],l,!0),tf}function Bg(s,o,l){const c=Se();if(Or(c,Lo(),o)){const g=Bt(),v=mn();ds(g,v,c,s,o,ja(Vo(g.data),v,c),l,!0)}return Bg}const tc=void 0;var Ug=["en",[["a","p"],["AM","PM"],tc],[["AM","PM"],tc,tc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tc,"{1} 'at' {0}",tc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const l=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let zl={};function nf(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=jg(o);if(l)return l;const c=o.split("-")[0];if(l=jg(c),l)return l;if("en"===c)return Ug;throw new Error(`Missing locale data for the locale "${s}".`)}function dE(s){return nf(s)[yt.PluralCase]}function jg(s){return s in zl||(zl[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),zl[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const Hg="en-US";let zg=Hg;function mf(s,o,l,c,h){if(s=re(s),Array.isArray(s))for(let g=0;g<s.length;g++)mf(s[g],o,l,c,h);else{const g=Bt(),v=Se();let E=Ha(s)?s:re(s.provide),C=fy(s);const M=vn(),O=1048575&M.providerIndexes,F=M.directiveStart,z=M.providerIndexes>>20;if(Ha(s)||!s.multi){const te=new Sa(C,h,Qu),ye=bv(E,o,h?O:O+z,F);-1===ye?(Ma(Ct(M,v),g,E),qa(g,s,o.length),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(te),v.push(te)):(l[ye]=te,v[ye]=te)}else{const te=bv(E,o,O+z,F),ye=bv(E,o,O,O+z),Fe=te>=0&&l[te],Ke=ye>=0&&l[ye];if(h&&!Ke||!h&&!Fe){Ma(Ct(M,v),g,E);const qe=function(s,o,l,c,h){const g=new Sa(s,l,Qu);return g.multi=[],g.index=o,g.componentProviders=0,vv(g,h,c&&!l),g}(h?Wa:sc,l.length,h,c,C);!h&&Ke&&(l[ye].providerFactory=qe),qa(g,s,o.length,0),o.push(E),M.directiveStart++,M.directiveEnd++,h&&(M.providerIndexes+=1048576),l.push(qe),v.push(qe)}else qa(g,s,te>-1?te:ye,vv(l[h?ye:te],C,!h&&c));!h&&c&&Ke&&l[ye].componentProviders++}}}function qa(s,o,l,c){const h=Ha(o),g=function(s){return!!s.useClass}(o);if(h||g){const C=(g?re(o.useClass):o).prototype.ngOnDestroy;if(C){const M=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=M.indexOf(l);-1===O?M.push(l,[c,C]):M[O+1].push(c,C)}else M.push(l,C)}}}function vv(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function bv(s,o,l,c){for(let h=l;h<c;h++)if(o[h]===s)return h;return-1}function sc(s,o,l,c){return Md(this.multi,[])}function Wa(s,o,l,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=si(l,l[1],this.providerFactory.index,c);g=E.slice(0,v),Md(h,g);for(let C=v;C<E.length;C++)g.push(E[C])}else g=[],Md(h,g);return g}function Md(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function _f(s,o=[]){return l=>{l.providersResolver=(c,h)=>function(s,o,l){const c=Bt();if(c.firstCreatePass){const h=$r(s);mf(l,c.data,c.blueprint,h,!0),mf(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class Pn{}class yf{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${pe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Za=(()=>{class s{}return s.NULL=new yf,s})();function qT(){return oc(vn(),Se())}function oc(s,o){return new vf(sr(s,o))}let vf=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=qT,s})();function WT(s){return s instanceof vf?s.nativeElement:s}class RE{}let bf=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function(){const s=Se(),l=qt(vn().index,s);return function(s){return s[11]}(Ni(l)?l:s)}(),s})(),PE=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class wv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const ac=new wv("13.1.1"),Ev={};function sm(s,o,l,c,h=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&c.push(yn(g)),ni(g))for(let E=10;E<g.length;E++){const C=g[E],M=C[1].firstChild;null!==M&&sm(C[1],C,M,c)}const v=l.type;if(8&v)sm(s,o,l.child,c);else if(32&v){const E=J(l,o);let C;for(;C=E();)c.push(C)}else if(16&v){const E=cI(o,l);if(Array.isArray(E))c.push(...E);else{const C=Xe(o[16]);sm(C[1],C,E,c,!0)}}l=h?l.projectionNext:l.next}return c}class xd{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return sm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ni(o)){const l=o[8],c=l?l.indexOf(this):-1;c>-1&&(b0(o,c),po(l,c))}this._attachedToViewContainer=!1}tI(this._lView[1],this._lView)}onDestroy(o){og(this._lView[1],this._lView,null,o)}markForCheck(){Lh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Y0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,l){lo(!0);try{Y0(s,o,l)}finally{lo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,Ba(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class ZT extends xd{constructor(o){super(o),this._view=o}detectChanges(){$I(this._view)}checkNoChanges(){!function(s){lo(!0);try{$I(s)}finally{lo(!1)}}(this._view)}get context(){return null}}class Cv extends Za{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=In(o);return new om(l,this.ngModule)}}function Dv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const Tv=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>z_});class om extends Pn{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=o.selectors.map(_I).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Dv(this.componentDef.inputs)}get outputs(){return Dv(this.componentDef.outputs)}create(o,l,c,h){const g=(h=h||this.ngModule)?function(s,o){return{get:(l,c,h)=>{const g=s.get(l,Ev,h);return g!==Ev||c===Ev?g:o.get(l,c,h)}}}(o,h.injector):o,v=g.get(RE,pu),E=g.get(PE,null),C=v.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",O=c?function(s,o,l){if(tn(s))return s.selectRootElement(o,l===tt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):xh(v.createRenderer(null,this.componentDef),M,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(M)),F=this.componentDef.onPush?576:528,z=function(s,o){return{components:[],scheduler:s||z_,clean:ly,playerHandler:o||null,flags:0}}(),te=Ll(0,null,null,1,0,null,null,null,null,null),ye=rg(null,te,z,F,null,null,v,C,E,g);let Fe,Ke;bu(ye);try{const qe=function(s,o,l,c,h,g){const v=l[1];l[20]=s;const C=kh(v,20,2,"#host",null),M=C.mergedAttrs=o.hostAttrs;null!==M&&(dd(C,M,!0),null!==s&&(Ns(h,s,M),null!==C.classes&&Qp(h,s,C.classes),null!==C.styles&&dI(h,s,C.styles)));const O=c.createRenderer(s,o),F=rg(l,NI(o),null,o.onPush?64:16,l[20],C,c,O,g||null,null);return v.firstCreatePass&&(Ma(Ct(C,l),v,o.type),jI(v,C),HI(C,l.length,1)),ay(l,F),l[20]=F}(O,this.componentDef,ye,v,C);if(O)if(c)Ns(C,O,["ng-version",ac.full]);else{const{attrs:De,classes:gt}=function(s){const o=[],l=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&l.push(g);else{if(!Jo(h))break;h=g}c++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);De&&Ns(C,O,De),gt&&gt.length>0&&Qp(C,O,gt.join(" "))}if(Ke=io(te,20),void 0!==l){const De=Ke.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Vt=l[gt];De.push(null!=Vt?Array.from(Vt):null)}}Fe=function(s,o,l,c,h){const g=l[1],v=function(s,o,l){const c=vn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),ag(s,c,o,Ph(s,o,1,null),l));const h=si(o,s,c.directiveStart,c);Zr(h,o);const g=sr(c,o);return g&&Zr(g,o),h}(g,l,o);if(c.components.push(v),s[8]=v,h&&h.forEach(C=>C(v,o)),o.contentQueries){const C=vn();o.contentQueries(1,v,C.directiveStart)}const E=vn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ps(E.index),BI(l[1],E,0,E.directiveStart,E.directiveEnd,o),UI(o,v)),v}(qe,this.componentDef,ye,z,[dw]),ig(te,ye,null)}finally{ks()}return new KT(this.componentType,Fe,oc(Ke,ye),ye,Ke)}}class KT extends class{}{constructor(o,l,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new ZT(h),this.componentType=o}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Ka{}class Od{}const Ya=new Map;class Mv extends Ka{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cv(this);const c=An(o);this._bootstrapComponents=_o(c.bootstrap),this._r3Injector=pg(o,l,[{provide:Ka,useValue:this},{provide:Za,useValue:this.componentFactoryResolver}],pe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ai.THROW_IF_NOT_FOUND,c=pt.Default){return o===Ai||o===Ka||o===hg?this:this._r3Injector.get(o,l,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class xv extends Od{constructor(o){super(),this.moduleType=o,null!==An(o)&&function(s){const o=new Set;!function l(c){const h=An(c,!0),g=h.id;null!==g&&(function(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${pe(o)} vs ${pe(o.name)}`)}(g,Ya.get(g),c),Ya.set(g,c));const v=_o(h.imports);for(const E of v)o.has(E)||(o.add(E),l(E))}(s)}(o)}create(o){return new Mv(this.moduleType,o)}}function VE(s,o,l,c){return function(s,o,l,c,h,g){const v=o+l;return Or(s,v,h)?function(s,o,l){return s[o]=l}(s,v+1,g?c.call(g,h):c(h)):function(s,o){const l=s[o];return l===Ot?void 0:l}(s,v+1)}(Se(),function(){const s=ct.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,l,c)}function If(s){return o=>{setTimeout(s,void 0,o)}}const wo=class extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,c){var h,g,v;let E=o,C=l||(()=>null),M=c;if(o&&"object"==typeof o){const F=o;E=null===(h=F.next)||void 0===h?void 0:h.bind(F),C=null===(g=F.error)||void 0===g?void 0:g.bind(F),M=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(C=If(C),E&&(E=If(E)),M&&(M=If(M)));const O=super.subscribe({next:E,error:C,complete:M});return o instanceof ne.w0&&o.add(O),O}};function hm(){return this._results[jl()]()}class fm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=jl(),c=fm.prototype;c[l]||(c[l]=hm)}get changes(){return this._changes||(this._changes=new wo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const c=this;c.dirty=!1;const h=xr(o);(this._changesDetected=!function(s,o,l){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(c._results,h,l))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Pd=(()=>{class s{}return s.__NG_ELEMENT_ID__=ZE,s})();const lc=Pd,WE=class extends lc{constructor(o,l,c){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(o){const l=this._declarationTContainer.tViews,c=rg(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(l)),ig(l,c,o),new xd(c)}};function ZE(){return Tf(vn(),Se())}function Tf(s,o){return 4&s.type?new WE(o,s,oc(s,o)):null}let Sf=(()=>{class s{}return s.__NG_ELEMENT_ID__=pm,s})();function pm(){return KE(vn(),Se())}const ps=Sf,Pv=class extends ps{constructor(o,l,c){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=c}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const o=wi(this._hostTNode,this._hostLView);if(mr(o)){const l=_r(o,this._hostLView),c=Ho(o);return new Ei(l[1].data[c+8],l)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Nv(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,c){const h=o.createEmbeddedView(l||{});return this.insert(h,c),h}createComponent(o,l,c,h,g){const v=o&&!("function"==typeof o);let E;if(v)E=l;else{const F=l||{};E=F.index,c=F.injector,h=F.projectableNodes,g=F.ngModuleRef}const C=v?o:new om(In(o)),M=c||this.parentInjector;if(!g&&null==C.ngModule&&M){const F=M.get(Ka,null);F&&(g=F)}const O=C.create(M,h,void 0,g);return this.insert(O.hostView,E),O}insert(o,l){const c=o._lView,h=c[1];if(ni(c[3])){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=c[3],z=new Pv(F,F[6],F[3]);z.detach(z.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function(s,o,l,c){const h=10+c,g=l.length;c>0&&(l[h-1][4]=o),c<g-10?(o[4]=l[h],ku(l,10+c,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,v,g);const E=Q_(g,v),C=c[11],M=Z_(C,v[7]);return null!==M&&function(s,o,l,c,h,g){c[0]=h,c[6]=o,Ba(s,c,l,1,h,g)}(h,v[6],C,c,M,E),o.attachToViewContainerRef(),ku(Wl(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Nv(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),c=b0(this._lContainer,l);c&&(po(Wl(this._lContainer),l),tI(c[1],c))}detach(o){const l=this._adjustIndex(o,-1),c=b0(this._lContainer,l);return c&&null!=po(Wl(this._lContainer),l)?new xd(c):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Nv(s){return s[8]}function Wl(s){return s[8]||(s[8]=[])}function KE(s,o){let l;const c=o[s.index];if(ni(c))l=c;else{let h;if(8&s.type)h=yn(c);else{const g=o[11];h=g.createComment("");const v=sr(s,o);cd(g,Z_(g,v),h,function(s,o){return tn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=ea(c,o,h,s),ay(o,l)}return new Pv(l,s,o)}class Lv{constructor(o){this.queryList=o,this.matches=null}clone(){return new Lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class gm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const c=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let g=0;g<c;g++){const v=l.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new gm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==me(o,l).matches&&this.queries[l].setDirty()}}class YE{constructor(o,l,c=null){this.predicate=o,this.flags=l,this.read=c}}class Nd{constructor(o=[]){this.queries=o}elementStart(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let c=0;c<this.length;c++){const h=null!==l?l.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==l?l.push(g):l=[g])}return null!==l?new Nd(l):null}template(o,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Vv{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Vv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,l,QE(l,g)),this.matchTNodeWithReadOption(o,l,is(l,o,g,!1,!1))}else c===Pd?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,is(l,o,c,!1,!1))}matchTNodeWithReadOption(o,l,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===vf||h===Sf||h===Pd&&4&l.type)this.addMatch(l.index,-2);else{const g=is(l,o,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,c)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function QE(s,o){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===o)return l[c+1];return null}function Fd(s,o,l,c){return-1===l?function(s,o){return 11&s.type?oc(s,o):4&s.type?Tf(s,o):null}(o,s):-2===l?function(s,o,l){return l===vf?oc(o,s):l===Pd?Tf(o,s):l===Sf?KE(o,s):void 0}(s,o,c):si(s,s[1],l,o)}function mm(s,o,l,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=l.matches,E=[];for(let C=0;C<v.length;C+=2){const M=v[C];E.push(M<0?null:Fd(o,g[M],v[C+1],l.metadata.read))}h.matches=E}return h.matches}function Bv(s,o,l,c){const h=s.queries.getByIndex(l),g=h.matches;if(null!==g){const v=mm(s,o,h,l);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)c.push(v[E/2]);else{const M=g[E+1],O=o[-C];for(let F=10;F<O.length;F++){const z=O[F];z[17]===z[3]&&Bv(z[1],z,M,c)}if(null!==O[9]){const F=O[9];for(let z=0;z<F.length;z++){const te=F[z];Bv(te[1],te,M,c)}}}}}return c}function ke(s){const o=Se(),l=Bt(),c=vl();Bo(c+1);const h=me(l,c);if(s.dirty&&Oo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Bv(l,o,c,[]):mm(l,o,h,c);s.reset(g,WT),s.notifyOnChanges()}return!0}return!1}function Qn(s,o,l){const c=Bt();c.firstCreatePass&&(JE(c,new YE(s,o,l),-1),2==(2&o)&&(c.staticViewQueries=!0)),Tt(c,Se(),o)}function Ld(s,o,l,c){const h=Bt();if(h.firstCreatePass){const g=vn();JE(h,new YE(o,l,c),g.index),function(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}Tt(h,Se(),l)}function _m(){return s=Se(),o=vl(),s[19].queries[o].queryList;var s,o}function Tt(s,o,l){const c=new fm(4==(4&l));og(s,o,c,c.destroy),null===o[19]&&(o[19]=new gm),o[19].queries.push(new Lv(c))}function JE(s,o,l){null===s.queries&&(s.queries=new Nd),s.queries.track(new Vv(o,l))}function me(s,o){return s.queries.getByIndex(o)}function un(...s){}const Kl=new Tn("Application Initializer");let Pr=(()=>{class s{constructor(l){this.appInits=l,this.resolve=un,this.reject=un,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(By(g))l.push(g);else if(vT(g)){const v=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});l.push(v)}}Promise.all(l).then(()=>{c()}).catch(h=>{this.reject(h)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(lr(Kl,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const lC=new Tn("AppId"),dS={provide:lC,useFactory:function(){return`${ua()}${ua()}${ua()}`},deps:[]};function ua(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Un=new Tn("Platform Initializer"),Yl=new Tn("Platform ID"),Em=new Tn("appBootstrapListener");let jd=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const Cm=new Tn("LocaleId"),ca=new Tn("DefaultCurrencyCode");class Ql{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Hd=(()=>{class s{compileModuleSync(l){return new xv(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),g=_o(An(l).declarations).reduce((v,E)=>{const C=In(E);return C&&v.push(new om(C)),v},[]);return new Ql(c,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const Of=(()=>Promise.resolve(0))();function da(s){"undefined"==typeof Zone?Of.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Nr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wo(!1),this.onMicrotaskEmpty=new wo(!1),this.onStable=new wo(!1),this.onError=new wo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&l,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=Qt.requestAnimationFrame,o=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Tm(s),s.isCheckStableRunning=!0,nl(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Tm(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,h,g,v,E)=>{try{return Wv(s),l.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),kf(s)}},onInvoke:(l,c,h,g,v,E,C)=>{try{return Wv(s),l.invoke(h,g,v,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),kf(s)}},onHasTask:(l,c,h,g)=>{l.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Tm(s),nl(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,c,h,g)=>(l.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,c){return this._inner.run(o,l,c)}runTask(o,l,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,zv,un,un);try{return g.runTask(v,l,c)}finally{g.cancelTask(v)}}runGuarded(o,l,c){return this._inner.runGuarded(o,l,c)}runOutsideAngular(o){return this._outer.run(o)}}const zv={};function nl(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Tm(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Wv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function kf(s){s._nesting--,nl(s)}class Pf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wo,this.onMicrotaskEmpty=new wo,this.onStable=new wo,this.onError=new wo}run(o,l,c){return o.apply(l,c)}runGuarded(o,l,c){return o.apply(l,c)}runOutsideAngular(o){return o()}runTask(o,l,c,h){return o.apply(l,c)}}let Zv=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nr.assertNotInAngularZone(),da(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())da(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(lr(Nr))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),cC=(()=>{class s{constructor(){this._applications=new Map,Sm.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return Sm.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();class pS{addToWindow(o){}findTestabilityInTree(o,l,c){return null}}function dC(s){Sm=s}let En,Sm=new pS;const Kv=new Tn("AllowMultipleToken");class fc{constructor(o,l){this.name=o,this.token=l}}function $d(s,o,l=[]){const c=`Platform: ${o}`,h=new Tn(c);return(g=[])=>{let v=Qv();if(!v||v.injector.get(Kv,!1))if(s)s(l.concat(g).concat({provide:h,useValue:!0}));else{const E=l.concat(g).concat({provide:h,useValue:!0},{provide:dy,useValue:"platform"});!function(s){if(En&&!En.destroyed&&!En.injector.get(Kv,!1))throw new He("400","");En=s.get(Jv);const o=s.get(Un,null);o&&o.forEach(l=>l())}(Ai.create({providers:E,name:c}))}return function(s){const o=Qv();if(!o)throw new He("401","");return o}()}}function Qv(){return En&&!En.destroyed?En:null}let Jv=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const E=function(s,o){let l;return l="noop"===s?new Pf:("zone.js"===s?void 0:s)||new Nr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Nr,useValue:E}];return E.run(()=>{const M=Ai.create({providers:C,parent:this.injector,name:l.moduleType.name}),O=l.create(M),F=O.injector.get(od,null);if(!F)throw new He("402","");return E.runOutsideAngular(()=>{const z=E.onError.subscribe({next:te=>{F.handleError(te)}});O.onDestroy(()=>{Mm(this._modules,O),z.unsubscribe()})}),function(s,o,l){try{const c=l();return By(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(F,E,()=>{const z=O.injector.get(Pr);return z.runInitializers(),z.donePromise.then(()=>(function(s){$t(s,"Expected localeId to be defined"),"string"==typeof s&&(zg=s.toLowerCase().replace(/_/g,"-"))}(O.injector.get(Cm,Hg)||Hg),this._moduleDoBootstrap(O),O))})})}bootstrapModule(l,c=[]){const h=fC({},c);return function(s,o,l){const c=new xv(l);return Promise.resolve(c)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const c=l.injector.get(Nf);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new He("403","");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He("404","");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(lr(Ai))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function fC(s,o){return Array.isArray(o)?o.reduce(fC,s):Object.assign(Object.assign({},s),o)}let Nf=(()=>{class s{constructor(l,c,h,g,v){this._zone=l,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new N.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),C=new N.y(M=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Nr.assertNotInAngularZone(),da(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Nr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{O.unsubscribe(),F.unsubscribe()}});this.isStable=(0,de.T)(E,C.pipe((0,he.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new He("405","");let h;h=l instanceof Pn?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const g=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Ka),E=h.create(Ai.NULL,[],c||h.selector,g),C=E.location.nativeElement,M=E.injector.get(Zv,null),O=M&&E.injector.get(cC);return M&&O&&O.registerApplication(C,M),E.onDestroy(()=>{this.detachView(E.hostView),Mm(this.components,E),O&&O.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new He("101","");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;Mm(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Em,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(lr(Nr),lr(Ai),lr(od),lr(Za),lr(Pr))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function Mm(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let gC=!0,mC=!1;function Jl(){return mC=!0,gC}function Gd(){if(mC)throw new Error("Cannot enable prod mode after platform setup.");gC=!1}let rl=(()=>{class s{}return s.__NG_ELEMENT_ID__=_C,s})();function _C(s){return function(s,o,l){if(Fi(s)&&!l){const c=qt(s.index,o);return new xd(c,c)}return 47&s.type?new xd(o[16],o):null}(vn(),Se(),16==(16&s))}class pc{constructor(){}supports(o){return Hl(o)}create(o){return new IC(o)}}const DC=(s,o)=>o;class IC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||DC}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,c=this._removalsHead,h=0,g=null;for(;l||c;){const v=!c||l&&l.currentIndex<Vn(c,h,g)?l:c,E=Vn(v,h,g),C=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(l=l._next,null==v.previousIndex)h++;else{g||(g=[]);const M=E-h,O=C-h;if(M!=O){for(let z=0;z<M;z++){const te=z<g.length?g[z]:g[z]=0,ye=te+z;O<=ye&&ye<M&&(g[z]=te+1)}g[v.previousIndex]=O-M}}E!==C&&o(v,E,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Hl(o))throw new Error(`Error trying to diff '${pe(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,l=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,g,v,E)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,E),c=!0),l=l._next}else h=0,function(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[jl()]();let c;for(;!(c=l.next()).done;)o(c.value)}}(o,E=>{v=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,v)?(c&&(l=this._verifyReinsertion(l,E,v,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,v,h),c=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,h)):o=this._addAfter(new jf(l,c),g,h),o}_verifyReinsertion(o,l,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,l,c),this._addToMoves(o,c),o}_moveAfter(o,l,c){return this._unlink(o),this._insertAfter(o,l,c),this._addToMoves(o,c),o}_addAfter(o,l,c){return this._insertAfter(o,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,c){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new TC),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,c=o._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class jf{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const l=o._prevDup,c=o._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class TC{constructor(){this.map=new Map}put(o){const l=o.trackById;let c=this.map.get(l);c||(c=new CS,this.map.set(l,c)),c.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vn(s,o,l){const c=s.previousIndex;if(null===c)return c;let h=0;return l&&c<l.length&&(h=l[c]),c+o+h}class Hf{constructor(){}supports(o){return o instanceof Map||Dy(o)}create(){return new Pm}}class Pm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Dy(o)))throw new Error(`Error trying to diff '${pe(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,c);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const c=o._prev;return l._next=o,l._prev=c,o._prev=l,c&&(c._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new SC(o);return this._records.set(o,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(c=>l(o[c],c))}}class SC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AC(){return new Xl([new pc])}let Xl=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||AC()),deps:[[s,new It,new ot]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:AC}),s})();function nb(){return new sl([new Hf])}let sl=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const h=c.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||nb()),deps:[[s,new It,new ot]]}}find(l){const c=this.factories.find(h=>h.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:nb}),s})();const ol=[new Hf],xC=new Xl([new pc]),OC=new sl(ol),rb=$d(null,"core",[{provide:Yl,useValue:"unknown"},{provide:Jv,deps:[Ai]},{provide:cC,deps:[]},{provide:jd,deps:[]}]),kC=[{provide:Nf,useClass:Nf,deps:[Nr,Ai,od,Za,Pr]},{provide:Tv,deps:[Nr],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Pr,useClass:Pr,deps:[[new ot,Kl]]},{provide:Hd,useClass:Hd,deps:[]},dS,{provide:Xl,useFactory:function(){return xC},deps:[]},{provide:sl,useFactory:function(){return OC},deps:[]},{provide:Cm,useFactory:function(s){return s||"undefined"!=typeof $localize&&$localize.locale||Hg},deps:[[new ze(Cm),new ot,new It]]},{provide:ca,useValue:"USD"}];let TS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(lr(Nf))},s.\u0275mod=Ir({type:s}),s.\u0275inj=Nt({providers:kC}),s})()},3942:(et,be,P)=>{P.d(be,{Z:()=>He});var d=P(2090),ne=P(4859),N=P(9681),de=P(1877);class he{constructor(Ne,ie){this._delegate=Ne,this.firebase=ie,(0,N._addComponent)(Ne,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(Ne,ie=N._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(Ne);return!Le.isInitialized()&&"EXPLICIT"===(null===(Ce=Le.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:ie})}_removeServiceInstance(Ne,ie=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(ie)}_addComponent(Ne){(0,N._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,N._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function _e(){const $e=function($e){const Ne={},ie={__esModule:!0,initializeApp:function(Ye,K={}){const H=N.initializeApp(Ye,K);if((0,d.r3)(Ne,H.name))return Ne[H.name];const X=new $e(H,ie);return Ne[H.name]=X,X},app:Le,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function(Ye){const K=Ye.name,H=K.replace("-compat","");if(N._registerComponent(Ye)&&"PUBLIC"===Ye.type){const X=(fe=Le())=>{if("function"!=typeof fe[H])throw se.create("invalid-app-argument",{appName:K});return fe[H]()};void 0!==Ye.serviceProps&&(0,d.ZB)(X,Ye.serviceProps),ie[H]=X,$e.prototype[H]=function(...fe){return this._getService.bind(this,K).apply(this,Ye.multipleInstances?fe:[])}}return"PUBLIC"===Ye.type?ie[H]:null},removeApp:function(Ye){delete Ne[Ye]},useAsService:function(Ye,K){return"serverAuth"===K?null:K},modularAPIs:N}};function Le(Ye){if(!(0,d.r3)(Ne,Ye=Ye||N._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:Ye});return Ne[Ye]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function(){return Object.keys(Ne).map(Ye=>Ne[Ye])}}),Le.App=$e,ie}(he);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function(ie){(0,d.ZB)($e,ie)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),$e}(),Y=new de.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=G;(0,N.registerVersion)("@firebase/app-compat","0.1.29",undefined)},9681:(et,be,P)=>{P.r(be),P.d(be,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Ds,_DEFAULT_ENTRY_NAME:()=>mt,_addComponent:()=>er,_addOrOverwriteComponent:()=>pi,_apps:()=>Et,_clearComponents:()=>ki,_components:()=>Yt,_getProvider:()=>fn,_registerComponent:()=>on,_removeServiceInstance:()=>Nt,deleteApp:()=>Ws,getApp:()=>Dr,getApps:()=>gi,initializeApp:()=>Qi,onLog:()=>mi,registerVersion:()=>Cn,setLogLevel:()=>tr});var d=P(5861),ne=P(4859),N=P(1877),de=P(2090),he=P(8766);class ve{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map($=>{if(function(U){const Q=U.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}($)){const Ie=$.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter($=>$).join(" ")}}const pe="@firebase/app",G=new N.Yd("@firebase/app"),mt="[DEFAULT]",$t={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Yt=new Map;function er(U,Q){try{U.container.addComponent(Q)}catch($){G.debug(`Component ${Q.name} failed to register with FirebaseApp ${U.name}`,$)}}function pi(U,Q){U.container.addOrOverwriteComponent(Q)}function on(U){const Q=U.name;if(Yt.has(Q))return G.debug(`There were multiple attempts to register component ${Q}.`),!1;Yt.set(Q,U);for(const $ of Et.values())er($,U);return!0}function fn(U,Q){const $=U.container.getProvider("heartbeat").getImmediate({optional:!0});return $&&$.triggerHeartbeat(),U.container.getProvider(Q)}function Nt(U,Q,$=mt){fn(U,Q).clearInstance($)}function ki(){Yt.clear()}const dr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Xr{constructor(Q,$,Ie){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},$),this._name=$.name,this._automaticDataCollectionEnabled=$.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const Ds="9.9.0";function Qi(U,Q={}){"object"!=typeof Q&&(Q={name:Q});const $=Object.assign({name:mt,automaticDataCollectionEnabled:!1},Q),Ie=$.name;if("string"!=typeof Ie||!Ie)throw dr.create("bad-app-name",{appName:String(Ie)});const Ge=Et.get(Ie);if(Ge){if((0,de.vZ)(U,Ge.options)&&(0,de.vZ)($,Ge.config))return Ge;throw dr.create("duplicate-app",{appName:Ie})}const at=new ne.H0(Ie);for(const zt of Yt.values())at.addComponent(zt);const an=new Xr(U,$,at);return Et.set(Ie,an),an}function Dr(U=mt){const Q=Et.get(U);if(!Q)throw dr.create("no-app",{appName:U});return Q}function gi(){return Array.from(Et.values())}function Ws(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,d.Z)(function*(U){const Q=U.name;Et.has(Q)&&(Et.delete(Q),yield Promise.all(U.container.getProviders().map($=>$.delete())),U.isDeleted=!0)})).apply(this,arguments)}function Cn(U,Q,$){var Ie;let Ge=null!==(Ie=$t[U])&&void 0!==Ie?Ie:U;$&&(Ge+=`-${$}`);const at=Ge.match(/\s|\//),an=Q.match(/\s|\//);if(at||an){const zt=[`Unable to register library "${Ge}" with version "${Q}":`];return at&&zt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),at&&an&&zt.push("and"),an&&zt.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void G.warn(zt.join(" "))}on(new ne.wA(`${Ge}-version`,()=>({library:Ge,version:Q}),"VERSION"))}function mi(U,Q){if(null!==U&&"function"!=typeof U)throw dr.create("invalid-log-argument");(0,N.Am)(U,Q)}function tr(U){(0,N.Ub)(U)}const nr="firebase-heartbeat-store";let Dn=null;function Io(){return Dn||(Dn=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(U,Q)=>{0===Q&&U.createObjectStore(nr)}}).catch(U=>{throw dr.create("storage-open",{originalErrorMessage:U.message})})),Dn}function tt(){return(tt=(0,d.Z)(function*(U){var Q;try{return(yield Io()).transaction(nr).objectStore(nr).get(Br(U))}catch($){throw dr.create("storage-get",{originalErrorMessage:null===(Q=$)||void 0===Q?void 0:Q.message})}})).apply(this,arguments)}function vt(U,Q){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(U,Q){var $;try{const Ge=(yield Io()).transaction(nr,"readwrite");return yield Ge.objectStore(nr).put(Q,Br(U)),Ge.done}catch(Ie){throw dr.create("storage-set",{originalErrorMessage:null===($=Ie)||void 0===$?void 0:$.message})}})).apply(this,arguments)}function Br(U){return`${U.name}!${U.options.appId}`}class fr{constructor(Q){this.container=Q,this._heartbeatsCache=null;const $=this.container.getProvider("app").getImmediate();this._storage=new Zt($),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var Q=this;return(0,d.Z)(function*(){const Ie=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ge=Is();if(null===Q._heartbeatsCache&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise),Q._heartbeatsCache.lastSentHeartbeatDate!==Ge&&!Q._heartbeatsCache.heartbeats.some(at=>at.date===Ge))return Q._heartbeatsCache.heartbeats.push({date:Ge,agent:Ie}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(at=>{const an=new Date(at.date).valueOf();return Date.now()-an<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache)})()}getHeartbeatsHeader(){var Q=this;return(0,d.Z)(function*(){if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null===Q._heartbeatsCache||0===Q._heartbeatsCache.heartbeats.length)return"";const $=Is(),{heartbeatsToSend:Ie,unsentEntries:Ge}=function(U,Q=1024){const $=[];let Ie=U.slice();for(const Ge of U){const at=$.find(an=>an.agent===Ge.agent);if(at){if(at.dates.push(Ge.date),j($)>Q){at.dates.pop();break}}else if($.push({agent:Ge.agent,dates:[Ge.date]}),j($)>Q){$.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:$,unsentEntries:Ie}}(Q._heartbeatsCache.heartbeats),at=(0,de.L)(JSON.stringify({version:2,heartbeats:Ie}));return Q._heartbeatsCache.lastSentHeartbeatDate=$,Ge.length>0?(Q._heartbeatsCache.heartbeats=Ge,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),at})()}}function Is(){return(new Date).toISOString().substring(0,10)}class Zt{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,d.Z)(function*(){return(yield Q._canUseIndexedDBPromise)&&(yield function(U){return tt.apply(this,arguments)}(Q.app))||{heartbeats:[]}})()}overwrite(Q){var $=this;return(0,d.Z)(function*(){var Ie;if(yield $._canUseIndexedDBPromise){const at=yield $.read();return vt($.app,{lastSentHeartbeatDate:null!==(Ie=Q.lastSentHeartbeatDate)&&void 0!==Ie?Ie:at.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var $=this;return(0,d.Z)(function*(){var Ie;if(yield $._canUseIndexedDBPromise){const at=yield $.read();return vt($.app,{lastSentHeartbeatDate:null!==(Ie=Q.lastSentHeartbeatDate)&&void 0!==Ie?Ie:at.lastSentHeartbeatDate,heartbeats:[...at.heartbeats,...Q.heartbeats]})}})()}}function j(U){return(0,de.L)(JSON.stringify({version:2,heartbeats:U})).length}on(new ne.wA("platform-logger",Q=>new ve(Q),"PRIVATE")),on(new ne.wA("heartbeat",Q=>new fr(Q),"PRIVATE")),Cn(pe,"0.7.28",""),Cn(pe,"0.7.28","esm2017"),Cn("fire-js","")},4859:(et,be,P)=>{P.d(be,{wA:()=>N,H0:()=>pe});var d=P(5861),ne=P(2090);class N{constructor(G,Y,re){this.name=G,this.instanceFactory=Y,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const de="[DEFAULT]";class he{constructor(G,Y){this.name=G,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const Y=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(Y)){const re=new ne.BH;if(this.instancesDeferred.set(Y,re),this.isInitialized(Y)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:Y});We&&re.resolve(We)}catch(We){}}return this.instancesDeferred.get(Y).promise}getImmediate(G){var Y;const re=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),We=null!==(Y=null==G?void 0:G.optional)&&void 0!==Y&&Y;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Te){if(We)return null;throw Te}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if("EAGER"===G.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:de})}catch(Y){}for(const[Y,re]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(Y);try{const Te=this.getOrInitializeService({instanceIdentifier:We});re.resolve(Te)}catch(Te){}}}}clearInstance(G=de){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,d.Z)(function*(){const Y=Array.from(G.instances.values());yield Promise.all([...Y.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...Y.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=de){return this.instances.has(G)}getOptions(G=de){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:Y={}}=G,re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:re,options:Y});for(const[Te,He]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Te)&&He.resolve(We);return We}onInit(G,Y){var re;const We=this.normalizeInstanceIdentifier(Y),Te=null!==(re=this.onInitCallbacks.get(We))&&void 0!==re?re:new Set;Te.add(G),this.onInitCallbacks.set(We,Te);const He=this.instances.get(We);return He&&G(He,We),()=>{Te.delete(G)}}invokeOnInitCallbacks(G,Y){const re=this.onInitCallbacks.get(Y);if(re)for(const We of re)try{We(G,Y)}catch(Te){}}getOrInitializeService({instanceIdentifier:G,options:Y={}}){let re=this.instances.get(G);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=G,_e===de?void 0:_e),options:Y}),this.instances.set(G,re),this.instancesOptions.set(G,Y),this.invokeOnInitCallbacks(re,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,re)}catch(We){}var _e;return re||null}normalizeInstanceIdentifier(G=de){return this.component?this.component.multipleInstances?G:de:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const Y=this.getProvider(G.name);if(Y.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);Y.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const Y=new he(G,this);return this.providers.set(G,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(et,be,P)=>{P.d(be,{in:()=>ne,Yd:()=>se,Ub:()=>pe,Am:()=>_e});const d=[];var ne=(()=>{return(G=ne||(ne={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ne;var G})();const N={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},de=ne.INFO,he={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ve=(G,Y,...re)=>{if(Y<G.logLevel)return;const We=(new Date).toISOString(),Te=he[Y];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Te](`[${We}]  ${G.name}:`,...re)};class se{constructor(Y){this.name=Y,this._logLevel=de,this._logHandler=ve,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in ne))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?N[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...Y),this._logHandler(this,ne.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...Y),this._logHandler(this,ne.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...Y),this._logHandler(this,ne.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...Y),this._logHandler(this,ne.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...Y),this._logHandler(this,ne.ERROR,...Y)}}function pe(G){d.forEach(Y=>{Y.setLogLevel(G)})}function _e(G,Y){for(const re of d){let We=null;Y&&Y.level&&(We=N[Y.level]),re.userLogHandler=null===G?null:(Te,He,...$e)=>{const Ne=$e.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(Ce){return null}}).filter(ie=>ie).join(" ");He>=(null!=We?We:Te.logLevel)&&G({level:ne[He].toLowerCase(),message:Ne,args:$e,type:Te.name})}}}},8766:(et,be,P)=>{P.d(be,{Lj:()=>Me,X3:()=>Le});var d=P(5861);let N,de;const se=new WeakMap,pe=new WeakMap,_e=new WeakMap,G=new WeakMap,Y=new WeakMap;let Te={get(K,H,X){if(K instanceof IDBTransaction){if("done"===H)return pe.get(K);if("objectStoreNames"===H)return K.objectStoreNames||_e.get(K);if("store"===H)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return ie(K[H])},set:(K,H,X)=>(K[H]=X,!0),has:(K,H)=>K instanceof IDBTransaction&&("done"===H||"store"===H)||H in K};function Ne(K){return"function"==typeof K?function(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(K)?function(...H){return K.apply(Ce(this),H),ie(se.get(this))}:function(...H){return ie(K.apply(Ce(this),H))}:function(H,...X){const fe=K.call(Ce(this),H,...X);return _e.set(fe,H.sort?H.sort():[H]),ie(fe)}}(K):(K instanceof IDBTransaction&&function(K){if(pe.has(K))return;const H=new Promise((X,fe)=>{const oe=()=>{K.removeEventListener("complete",xe),K.removeEventListener("error",ae),K.removeEventListener("abort",ae)},xe=()=>{X(),oe()},ae=()=>{fe(K.error||new DOMException("AbortError","AbortError")),oe()};K.addEventListener("complete",xe),K.addEventListener("error",ae),K.addEventListener("abort",ae)});pe.set(K,H)}(K),((K,H)=>H.some(X=>K instanceof X))(K,N||(N=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(K,Te):K)}function ie(K){if(K instanceof IDBRequest)return function(K){const H=new Promise((X,fe)=>{const oe=()=>{K.removeEventListener("success",xe),K.removeEventListener("error",ae)},xe=()=>{X(ie(K.result)),oe()},ae=()=>{fe(K.error),oe()};K.addEventListener("success",xe),K.addEventListener("error",ae)});return H.then(X=>{X instanceof IDBCursor&&se.set(X,K)}).catch(()=>{}),Y.set(H,K),H}(K);if(G.has(K))return G.get(K);const H=Ne(K);return H!==K&&(G.set(K,H),Y.set(H,K)),H}const Ce=K=>Y.get(K);function Le(K,H,{blocked:X,upgrade:fe,blocking:oe,terminated:xe}={}){const ae=indexedDB.open(K,H),ft=ie(ae);return fe&&ae.addEventListener("upgradeneeded",kt=>{fe(ie(ae.result),kt.oldVersion,kt.newVersion,ie(ae.transaction))}),X&&ae.addEventListener("blocked",()=>X()),ft.then(kt=>{xe&&kt.addEventListener("close",()=>xe()),oe&&kt.addEventListener("versionchange",()=>oe())}).catch(()=>{}),ft}function Me(K,{blocked:H}={}){const X=indexedDB.deleteDatabase(K);return H&&X.addEventListener("blocked",()=>H()),ie(X).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Be=new Map;function Ye(K,H){if(!(K instanceof IDBDatabase)||H in K||"string"!=typeof H)return;if(Be.get(H))return Be.get(H);const X=H.replace(/FromIndex$/,""),fe=H!==X,oe=Re.includes(X);if(!(X in(fe?IDBIndex:IDBObjectStore).prototype)||!oe&&!je.includes(X))return;const xe=function(){var ae=(0,d.Z)(function*(ft,...kt){const Nn=this.transaction(ft,oe?"readwrite":"readonly");let mt=Nn.store;return fe&&(mt=mt.index(kt.shift())),(yield Promise.all([mt[X](...kt),oe&&Nn.done]))[0]});return function(kt){return ae.apply(this,arguments)}}();return Be.set(H,xe),xe}var K;Te=pF(fF({},K=Te),{get:(H,X,fe)=>Ye(H,X)||K.get(H,X,fe),has:(H,X)=>!!Ye(H,X)||K.has(H,X)})},5861:(et,be,P)=>{function d(N,de,he,ve,se,pe,_e){try{var G=N[pe](_e),Y=G.value}catch(re){return void he(re)}G.done?de(Y):Promise.resolve(Y).then(ve,se)}function ne(N){return function(){var de=this,he=arguments;return new Promise(function(ve,se){var pe=N.apply(de,he);function _e(Y){d(pe,ve,se,_e,G,"next",Y)}function G(Y){d(pe,ve,se,_e,G,"throw",Y)}_e(void 0)})}}P.d(be,{Z:()=>ne})}},et=>{et(et.s=5465)}]);